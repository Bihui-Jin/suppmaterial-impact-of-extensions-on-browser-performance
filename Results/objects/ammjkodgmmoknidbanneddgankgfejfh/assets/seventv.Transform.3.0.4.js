import{c}from"./seventv.useUserAgent.3.0.4.js";const m={TWITCH:[1,2,3],"7TV":[1,2,3,4],FFZ:[1,2,4],BTTV:[1,2,4],EMOJI:[]},u={};function g(e,t="7TV",r,s,n=1){if(n===1&&u[e.url])return u[e.url];const{preferredFormat:l}=c();let i=e.files;t==="7TV"&&(i=i.filter(f=>f.format===(r??l)));let a="";for(let f=0;f<i.length;f++){const p=i[f];let o=m[t][f];if(!o||s&&o>n&&o>s)break;o/=n,a&&(a+=", "),a+=`https:${e.url}/${p.name} ${o}x`}return n===1&&(u[e.url]=a),a}function h(e,t,r,s="7TV"){const{preferredFormat:n}=c();return(s=="7TV"?r.files.filter(l=>l.format===n):r.files).slice(0,m[s][m[s].length-1]).reduce((l,i,a)=>l+`https:${r.url}/${i.name} ${t*m[s][a]}w ${e*m[s][a]}h, `,"")}function d(e){var n;const{width:t,height:r}=((n=e.data)==null?void 0:n.host.files.at(-1))??{};if(!t||!r)return 1;const s=t/r;return s<=1?1:s<=1.5625?2:s<=2.125?3:4}function I(e,t){const r={id:e.id??"",name:e.token??"",flags:0,tags:[],state:[],lifecycle:3,listed:!0,owner:t?{id:t.id,username:t.displayName,display_name:t.displayName,avatar_url:t.profileImageURL}:null,host:{url:"//static-cdn.jtvnw.net/emoticons/v2/"+e.id+"/default/dark",files:[{name:"1.0",format:"PNG"},{name:"2.0",format:"PNG"},{name:"3.0",format:"PNG"},{name:"4.0",format:"PNG"}]}};return r.host.srcset=g(r.host,"TWITCH"),r}function F(e){var t;return{id:e.emoteID??"",name:`${e.alt} ${e.cheerAmount}`,flags:0,tags:[],state:[],lifecycle:3,listed:!0,owner:null,host:{url:((t=e.images)==null?void 0:t.dark["1x"].split("/").slice(0,-1).join("/").replace("https:",""))??"",files:[{name:"1.gif",format:"GIF"},{name:"2.gif",format:"GIF"},{name:"3.gif",format:"GIF"},{name:"4.gif",format:"GIF"}]}}}function $(e){const t=e.split(".");let r=t.slice(0,3).map(n=>parseInt(n,10)).reduce((n,l,i)=>n+l*Math.pow(100,2-i),0).toString(10);return t.length>3&&(r+="."+parseInt(t[3])),parseFloat(r)}export{I as a,h as b,F as c,d,g as i,$ as s};
