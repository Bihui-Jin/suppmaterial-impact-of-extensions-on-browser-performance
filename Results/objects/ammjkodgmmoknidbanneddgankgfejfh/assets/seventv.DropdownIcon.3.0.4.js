var T=Object.defineProperty;var L=(t,e,s)=>e in t?T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var l=(t,e,s)=>(L(t,typeof e!="symbol"?e+"":e,s),s);import{e as w,i as R,a1 as O,l as i,f as c,x as C,z as B,A as M,j as o,y as P,_ as d,F as I,q as $,u as H,a as q,k as g,s as A,C as j,B as D,ai as k}from"./seventv.useSettings.3.0.4.js";import{u as r,c as U,r as S,t as f,a as V,w as z,m as F}from"./seventv.useUserAgent.3.0.4.js";import{s as G}from"./seventv.pinia.3.0.4.js";import{u as Z}from"./seventv.main.3.0.4.js";import{S as Q,U as E,C as K}from"./seventv.StarIcon.3.0.4.js";import{b as W}from"./seventv.seventv.user.gql.3.0.4.js";import{x as X,y as Y}from"./seventv.index.esm.3.0.4.js";const J=t=>(B("data-v-ab6d270a"),t=t(),M(),t),ee={class:"seventv-settings-compat"},te=J(()=>o("h3",null,[P(" Compatibility "),o("p",null,"Scan your extensions for compatibility issues")],-1)),se=["src"],ne=w({__name:"SettingsViewCompat",setup(t){const{browser:e}=U(),s=R(O,""),n=e.name!=="Firefox";return n||window.open(s+"#/compat","_blank"),(_,u)=>(i(),c("main",ee,[te,n?(i(),c("iframe",{key:0,src:r(s)+"#/compat?noheader=1"},null,8,se)):C("",!0)]))}});const oe=d(ne,[["__scopeId","data-v-ab6d270a"]]),ie=["sticky"],ae=["id"],ce=w({__name:"SettingsViewConfigCat",props:{name:null,nodes:null},setup(t,{expose:e}){const s=t,n=N(),_=S(new Set(s.nodes.map(a=>a.key).filter(a=>!n.seen.includes(a)))),u=S(!1),p=S();X(p,([a])=>{if(u.value=a.isIntersecting,!u.value)return;n.intersectingSubcategory=s.name;const y=a.target.getElementsByClassName("seventv-settings-node");for(const m of Array.from(y)){const x=m.getAttribute("data-key");x&&n.markSettingAsSeen(x)}},{threshold:.75,rootMargin:"0px 0px -50% 0px"});function v(a){_.value.delete(a),n.markSettingAsSeen(a)}function b(){var a;(a=p.value)==null||a.scrollIntoView({block:"start"})}return e({name:s.name,scrollIntoView:b}),(a,y)=>(i(),c("div",{ref_key:"catRef",ref:p,sticky:u.value,class:"seventv-settings-view-subcategory"},[t.name?(i(),c("h3",{key:0,id:t.name,ref:"subcategoryRefs",class:"seventv-settings-subcategory-header"},f(t.name),9,ae)):C("",!0),(i(!0),c(I,null,$(t.nodes,m=>(i(),H(Q,{key:m.key,node:m,unseen:_.value.has(m.key),onSeen:x=>v(m.key)},null,8,["node","unseen","onSeen"]))),128))],8,ie))}});const re=d(ce,[["__scopeId","data-v-831b158f"]]),_e={key:0,class:"seventv-settings-view-container"},le=w({__name:"SettingsViewConfig",setup(t){const e=N(),s=S([]);return q(()=>e.scrollpoint,()=>{var n;(n=s.value.find(_=>_.name==e.scrollpoint))==null||n.scrollIntoView()}),(n,_)=>r(e).mappedNodes[r(e).category]?(i(),c("div",_e,[g(E,null,{default:A(()=>[(i(!0),c(I,null,$(Object.entries(r(e).mappedNodes[r(e).category]),([u,p])=>(i(),c("div",{key:u,class:"seventv-settings-subcategory"},[g(re,{ref_for:!0,ref_key:"subCats",ref:s,name:u,nodes:p},null,8,["name","nodes"])]))),128))]),_:1})])):C("",!0)}});const ue=d(le,[["__scopeId","data-v-aac44070"]]),de={},pe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"1em",height:"1em",fill:"currentColor"},he=o("path",{d:"M0 480H144 512 640V352c0-59.6-40.8-109.8-96-124V192c0-53-43-96-96-96c-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32C167.6 32 96 103.6 96 192v8.2C40.1 220 0 273.3 0 336V480z"},null,-1),ve=[he];function me(t,e){return i(),c("svg",pe,ve)}const fe=d(de,[["render",me]]),ge={class:"seventv-settings-home"},we={class:"seventv-settings-home-body"},Ce={class:"seventv-settings-home-changelog"},ye={class:"seventv-settings-home-footer"},Se={class:"seventv-settings-app-info"},xe={class:"seventv-settings-compact"},Ve={class:"seventv-version"},be={key:0,class:"seventv-version-remote"},ke={class:"seventv-settings-compact"},Ie={class:"seventv-settings-home-sidebar seventv-settings-compact"},$e=["data-theme"],Ae=w({__name:"SettingsViewHome",setup(t){const{theme:e}=G(Z()),s="7TV",n={}.VITE_APP_CONTAINER??"Extension",_="https://7tv.io/v3",u="3.0.4",p=seventv.remote||!1,v=document.createElement("script");return v.async=!0,v.setAttribute("src","https://platform.twitter.com/widgets.js"),v.setAttribute("charset","utf-8"),document.head.appendChild(v),(b,a)=>{const y=j("tooltip");return i(),c("div",ge,[o("div",we,[g(E,null,{default:A(()=>[o("div",Ce,[g(K)])]),_:1}),o("div",ye,[o("div",Se,[o("span",xe,f(r(s))+" ("+f(r(n))+")",1),o("span",Ve,[o("span",null,"v"+f(r(u)),1),r(p)?D((i(),c("span",be,[g(fe)])),[[y,"Running in Hosted Mode"]]):C("",!0)]),o("span",ke,"API: "+f(r(_)),1)])])]),o("div",Ie,[o("a",{class:"twitter-timeline","data-height":"660","data-theme":r(e).toLowerCase(),href:"https://twitter.com/Official_7TV?ref_src=twsrc%5Etfw"},null,8,$e)])])}}});const Ee=d(Ae,[["__scopeId","data-v-8ab59a38"]]);class Ne{constructor(){l(this,"user",null);l(this,"query",null)}openAuthorizeWindow(e){if(this.user)return;const s=window.open(`https://7tv.io/v3/auth?platform=${e}`,"7TV Auth","width=500,height=600");if(!s)return;const n=setInterval(()=>{var _;s.closed&&((_=this.query)==null||_.refetch(),clearInterval(n))},100)}logout(){fetch("https://7tv.io/v3/auth/logout",{method:"POST",credentials:"include"}).then(e=>{e.ok&&(this.user=null)})}}let h;function Te(){return h||(h=V(new Ne),h.query=Y(W,{},{}),h.query.onResult(t=>{var e;(e=t==null?void 0:t.data)!=null&&e.user&&(h.user=structuredClone(z(t.data.user)))}),h.query.load()),h}const Le={key:0},Re=w({__name:"SettingsViewProfile",setup(t){const e=Te();return(s,n)=>r(e).user?(i(),c("div",Le,"Hello "+f(r(e).user.display_name),1)):C("",!0)}});const Oe=d(Re,[["__scopeId","data-v-076bae68"]]);class Be{constructor(){l(this,"open",!1);l(this,"view",null);l(this,"category","");l(this,"scrollpoint","");l(this,"intersectingSubcategory","");l(this,"seen",[]);l(this,"mappedNodes",V({Home:{}}));this.switchView("home");const e=localStorage.getItem(k.SEEN_SETTINGS);if(e)for(const s of e.split(","))this.seen.push(s)}toggle(){this.open=!this.open}switchView(e){this.view=F(Me[e])}markSettingAsSeen(...e){for(const s of e)this.seen.indexOf(s)===-1&&this.seen.push(s);localStorage.setItem(k.SEEN_SETTINGS,this.seen.join(","))}}const Me={home:Ee,config:ue,profile:Oe,compat:oe},Pe=V(new Be);function N(){return Pe}const He={},qe={width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},je=o("path",{d:"M11.3733 5.68667C11.3733 6.94156 10.966 8.10077 10.2797 9.04125L13.741 12.5052C14.0827 12.8469 14.0827 13.4019 13.741 13.7437C13.3992 14.0854 12.8442 14.0854 12.5025 13.7437L9.04125 10.2797C8.10077 10.9687 6.94156 11.3733 5.68667 11.3733C2.54533 11.3733 0 8.828 0 5.68667C0 2.54533 2.54533 0 5.68667 0C8.828 0 11.3733 2.54533 11.3733 5.68667ZM5.68667 9.62359C7.86018 9.62359 9.62359 7.86018 9.62359 5.68667C9.62359 3.51316 7.86018 1.74974 5.68667 1.74974C3.51316 1.74974 1.74974 3.51316 1.74974 5.68667C1.74974 7.86018 3.51316 9.62359 5.68667 9.62359Z",fill:"currentColor"},null,-1),De=[je];function Ue(t,e){return i(),c("svg",qe,De)}const nt=d(He,[["render",Ue]]),ze={},Fe={width:"9",height:"6",viewBox:"0 0 9 6",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},Ge=o("path",{d:"M0.221974 4.46565L3.93498 0.251908C4.0157 0.160305 4.10314 0.0955723 4.19731 0.0577097C4.29148 0.0192364 4.39238 5.49454e-08 4.5 5.3662e-08C4.60762 5.23786e-08 4.70852 0.0192364 4.80269 0.0577097C4.89686 0.0955723 4.9843 0.160305 5.06502 0.251908L8.77803 4.46565C8.92601 4.63359 9 4.84733 9 5.10687C9 5.36641 8.92601 5.58015 8.77803 5.74809C8.63005 5.91603 8.4417 6 8.213 6C7.98431 6 7.79596 5.91603 7.64798 5.74809L4.5 2.17557L1.35202 5.74809C1.20404 5.91603 1.0157 6 0.786996 6C0.558296 6 0.369956 5.91603 0.221974 5.74809C0.0739918 5.58015 6.39938e-08 5.36641 6.08988e-08 5.10687C5.78038e-08 4.84733 0.0739918 4.63359 0.221974 4.46565Z"},null,-1),Ze=[Ge];function Qe(t,e){return i(),c("svg",Fe,Ze)}const ot=d(ze,[["render",Qe]]);export{ot as D,nt as S,Te as a,N as u};
