import{d as h}from"./seventv.useModule.3.0.4.js";import{e as d,H as b,az as f,a as m,as as c,at as v,a2 as w,aw as g,l as _,f as C,q as k,u as S,F as T,ar as P}from"./seventv.useSettings.3.0.4.js";import{u as j}from"./seventv.ReactHooks.3.0.4.js";import{r as x,w as E,u as H}from"./seventv.useUserAgent.3.0.4.js";const O=d({__name:"SidebarCard",props:{instance:null},setup(l){const o=l,a=b("ui.sidebar_previews"),n=x();f(o.instance.component,"props",{value:t=>{f(t,"tooltipContent",{value:e=>{typeof e=="object"&&(n.value=e)}})}}),m(n,(t,e)=>{t!=e&&(e&&typeof e.type=="function"&&c(e.type.prototype,"render"),t&&typeof t.type=="function"&&(v(t.type.prototype,"render",function(r,...p){const i=r==null?void 0:r.apply(this,p);return s(this,i)}),u()))},{immediate:!0}),m(a,()=>u());function u(){E(o.instance.component).forceUpdate()}function s(t,e){var p,i;if(!a.value)return e;const r=(p=e==null?void 0:e.props)==null?void 0:p.children;return!r||!((i=r.props)!=null&&i.children)||(r.props.style={width:"20rem"},r.props.children.splice(2,0,{[g]:Symbol.for("react.element"),ref:null,key:null,type:"div",props:{className:"seventv-sidebar-tooltip-preview",style:{backgroundImage:y(t.props.channelDisplayName.toLowerCase())}}})),e}function y(t){let e=`https://static-cdn.jtvnw.net/previews-ttv/live_user_${t}-190x107.jpg`;return e+=`?${Math.floor(Date.now()/3e5)}`,`url("${e}")`}return w(()=>{var t,e;c(o.instance.component,"props"),(t=o.instance.component)!=null&&t.props&&c(o.instance.component.props,"tooltipContent"),typeof((e=n.value)==null?void 0:e.type)=="function"&&c(n.value.type.prototype,"type")}),(t,e)=>null}});const F=[P("ui.sidebar_previews","TOGGLE",{path:["Appearance","Interface"],label:"Sidebar Stream Thumbnails",hint:"Show stream thumbnails when hovering over streams on the sidebar.",defaultValue:!1})],M=d({__name:"SidebarPreviewsModule",setup(l){const{markAsReady:o}=h("sidebar-previews",{name:"Sidebar Previews",depends_on:["settings"]}),a=j({parentSelector:".side-nav-section",predicate:n=>n.props&&n.props.title&&n.props.isWatchParty!==null&&n.props.linkTo});return o(),(n,u)=>(_(!0),C(T,null,k(H(a).instances,s=>(_(),S(O,{key:s.identifier,instance:s},null,8,["instance"]))),128))}}),N=Object.freeze(Object.defineProperty({__proto__:null,config:F,default:M},Symbol.toStringTag,{value:"Module"}));export{N as _};
