(()=>{var e={265:function(e,t,o){var r;"undefined"!=typeof self&&self,r=function(e,t){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="fb15")}({"00ee":function(e,t,o){var r={};r[o("b622")("toStringTag")]="z",e.exports="[object z]"===String(r)},"0366":function(e,t,o){var r=o("1c0b");e.exports=function(e,t,o){if(r(e),void 0===t)return e;switch(o){case 0:return function(){return e.call(t)};case 1:return function(o){return e.call(t,o)};case 2:return function(o,r){return e.call(t,o,r)};case 3:return function(o,r,n){return e.call(t,o,r,n)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,o){var r=o("fc6a"),n=o("241c").f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?function(e){try{return n(e)}catch(e){return i.slice()}}(e):n(r(e))}},"06cf":function(e,t,o){var r=o("83ab"),n=o("d1e7"),a=o("5c6c"),i=o("fc6a"),l=o("c04e"),s=o("5135"),c=o("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=i(e),t=l(t,!0),c)try{return d(e,t)}catch(e){}if(s(e,t))return a(!n.f.call(e,t),e[t])}},"0cfb":function(e,t,o){var r=o("83ab"),n=o("d039"),a=o("cc12");e.exports=!r&&!n((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"13d5":function(e,t,o){"use strict";var r=o("23e7"),n=o("d58f").left,a=o("a640"),i=o("ae40"),l=a("reduce"),s=i("reduce",{1:0});r({target:"Array",proto:!0,forced:!l||!s},{reduce:function(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(e,t,o){var r=o("c6b6"),n=o("9263");e.exports=function(e,t){var o=e.exec;if("function"==typeof o){var a=o.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"159b":function(e,t,o){var r=o("da84"),n=o("fdbc"),a=o("17c2"),i=o("9112");for(var l in n){var s=r[l],c=s&&s.prototype;if(c&&c.forEach!==a)try{i(c,"forEach",a)}catch(e){c.forEach=a}}},"17c2":function(e,t,o){"use strict";var r=o("b727").forEach,n=o("a640"),a=o("ae40"),i=n("forEach"),l=a("forEach");e.exports=i&&l?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,t,o){var r=o("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,o){var r=o("b622")("iterator"),n=!1;try{var a=0,i={next:function(){return{done:!!a++}},return:function(){n=!0}};i[r]=function(){return this},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var o=!1;try{var a={};a[r]=function(){return{next:function(){return{done:o=!0}}}},e(a)}catch(e){}return o}},"1d80":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,o){var r=o("d039"),n=o("b622"),a=o("2d00"),i=n("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"23cb":function(e,t,o){var r=o("a691"),n=Math.max,a=Math.min;e.exports=function(e,t){var o=r(e);return o<0?n(o+t,0):a(o,t)}},"23e7":function(e,t,o){var r=o("da84"),n=o("06cf").f,a=o("9112"),i=o("6eeb"),l=o("ce4e"),s=o("e893"),c=o("94ca");e.exports=function(e,t){var o,d,u,m,b,p=e.target,g=e.global,f=e.stat;if(o=g?r:f?r[p]||l(p,{}):(r[p]||{}).prototype)for(d in t){if(m=t[d],u=e.noTargetGet?(b=n(o,d))&&b.value:o[d],!c(g?d:p+(f?".":"#")+d,e.forced)&&void 0!==u){if(typeof m==typeof u)continue;s(m,u)}(e.sham||u&&u.sham)&&a(m,"sham",!0),i(o,d,m,e)}}},"241c":function(e,t,o){var r=o("ca84"),n=o("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},"25f0":function(e,t,o){"use strict";var r=o("6eeb"),n=o("825a"),a=o("d039"),i=o("ad6d"),l="toString",s=RegExp.prototype,c=s.toString,d=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=l;(d||u)&&r(RegExp.prototype,l,(function(){var e=n(this),t=String(e.source),o=e.flags;return"/"+t+"/"+String(void 0===o&&e instanceof RegExp&&!("flags"in s)?i.call(e):o)}),{unsafe:!0})},"2ca0":function(e,t,o){"use strict";var r,n=o("23e7"),a=o("06cf").f,i=o("50c4"),l=o("5a34"),s=o("1d80"),c=o("ab13"),d=o("c430"),u="".startsWith,m=Math.min,b=c("startsWith");n({target:"String",proto:!0,forced:!(!d&&!b&&(r=a(String.prototype,"startsWith"),r&&!r.writable)||b)},{startsWith:function(e){var t=String(s(this));l(e);var o=i(m(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return u?u.call(t,r,o):t.slice(o,o+r.length)===r}})},"2d00":function(e,t,o){var r,n,a=o("da84"),i=o("342f"),l=a.process,s=l&&l.versions,c=s&&s.v8;c?n=(r=c.split("."))[0]+r[1]:i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(n=r[1]),e.exports=n&&+n},"342f":function(e,t,o){var r=o("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,o){var r=o("f5df"),n=o("3f8c"),a=o("b622")("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||n[r(e)]}},"37e8":function(e,t,o){var r=o("83ab"),n=o("9bf2"),a=o("825a"),i=o("df75");e.exports=r?Object.defineProperties:function(e,t){a(e);for(var o,r=i(t),l=r.length,s=0;l>s;)n.f(e,o=r[s++],t[o]);return e}},"3bbe":function(e,t,o){var r=o("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,o){"use strict";var r=o("6547").charAt,n=o("69f3"),a=o("7dd0"),i="String Iterator",l=n.set,s=n.getterFor(i);a(String,"String",(function(e){l(this,{type:i,string:String(e),index:0})}),(function(){var e,t=s(this),o=t.string,n=t.index;return n>=o.length?{value:void 0,done:!0}:(e=r(o,n),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},4160:function(e,t,o){"use strict";var r=o("23e7"),n=o("17c2");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"428f":function(e,t,o){var r=o("da84");e.exports=r},"44ad":function(e,t,o){var r=o("d039"),n=o("c6b6"),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?a.call(e,""):Object(e)}:Object},"44d2":function(e,t,o){var r=o("b622"),n=o("7c73"),a=o("9bf2"),i=r("unscopables"),l=Array.prototype;null==l[i]&&a.f(l,i,{configurable:!0,value:n(null)}),e.exports=function(e){l[i][e]=!0}},"44e7":function(e,t,o){var r=o("861d"),n=o("c6b6"),a=o("b622")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==n(e))}},4930:function(e,t,o){var r=o("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4d64":function(e,t,o){var r=o("fc6a"),n=o("50c4"),a=o("23cb"),i=function(e){return function(t,o,i){var l,s=r(t),c=n(s.length),d=a(i,c);if(e&&o!=o){for(;c>d;)if((l=s[d++])!=l)return!0}else for(;c>d;d++)if((e||d in s)&&s[d]===o)return e||d||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},"4de4":function(e,t,o){"use strict";var r=o("23e7"),n=o("b727").filter,a=o("1dde"),i=o("ae40"),l=a("filter"),s=i("filter");r({target:"Array",proto:!0,forced:!l||!s},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,o){"use strict";var r=o("0366"),n=o("7b0b"),a=o("9bdd"),i=o("e95a"),l=o("50c4"),s=o("8418"),c=o("35a1");e.exports=function(e){var t,o,d,u,m,b,p=n(e),g="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,v=void 0!==h,y=c(p),x=0;if(v&&(h=r(h,f>2?arguments[2]:void 0,2)),null==y||g==Array&&i(y))for(o=new g(t=l(p.length));t>x;x++)b=v?h(p[x],x):p[x],s(o,x,b);else for(m=(u=y.call(p)).next,o=new g;!(d=m.call(u)).done;x++)b=v?a(u,h,[d.value,x],!0):d.value,s(o,x,b);return o.length=x,o}},"4fad":function(e,t,o){var r=o("23e7"),n=o("6f53").entries;r({target:"Object",stat:!0},{entries:function(e){return n(e)}})},"50c4":function(e,t,o){var r=o("a691"),n=Math.min;e.exports=function(e){return e>0?n(r(e),9007199254740991):0}},5135:function(e,t){var o={}.hasOwnProperty;e.exports=function(e,t){return o.call(e,t)}},5319:function(e,t,o){"use strict";var r=o("d784"),n=o("825a"),a=o("7b0b"),i=o("50c4"),l=o("a691"),s=o("1d80"),c=o("8aa5"),d=o("14c3"),u=Math.max,m=Math.min,b=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,o,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=r.REPLACE_KEEPS_$0,v=f?"$":"$0";return[function(o,r){var n=s(this),a=null==o?void 0:o[e];return void 0!==a?a.call(o,n,r):t.call(String(n),o,r)},function(e,r){if(!f&&h||"string"==typeof r&&-1===r.indexOf(v)){var a=o(t,e,this,r);if(a.done)return a.value}var s=n(e),b=String(this),p="function"==typeof r;p||(r=String(r));var g=s.global;if(g){var x=s.unicode;s.lastIndex=0}for(var w=[];;){var k=d(s,b);if(null===k)break;if(w.push(k),!g)break;""===String(k[0])&&(s.lastIndex=c(b,i(s.lastIndex),x))}for(var T,E="",S=0,C=0;C<w.length;C++){k=w[C];for(var V=String(k[0]),B=u(m(l(k.index),b.length),0),N=[],I=1;I<k.length;I++)N.push(void 0===(T=k[I])?T:String(T));var D=k.groups;if(p){var M=[V].concat(N,B,b);void 0!==D&&M.push(D);var L=String(r.apply(void 0,M))}else L=y(V,b,B,N,D,r);B>=S&&(E+=b.slice(S,B)+L,S=B+V.length)}return E+b.slice(S)}];function y(e,o,r,n,i,l){var s=r+e.length,c=n.length,d=g;return void 0!==i&&(i=a(i),d=p),t.call(l,d,(function(t,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return o.slice(0,r);case"'":return o.slice(s);case"<":l=i[a.slice(1,-1)];break;default:var d=+a;if(0===d)return t;if(d>c){var u=b(d/10);return 0===u?t:u<=c?void 0===n[u-1]?a.charAt(1):n[u-1]+a.charAt(1):t}l=n[d-1]}return void 0===l?"":l}))}}))},5692:function(e,t,o){var r=o("c430"),n=o("c6cd");(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,o){var r=o("d066"),n=o("241c"),a=o("7418"),i=o("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=n.f(i(e)),o=a.f;return o?t.concat(o(e)):t}},"5a34":function(e,t,o){var r=o("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5db7":function(e,t,o){"use strict";var r=o("23e7"),n=o("a2bf"),a=o("7b0b"),i=o("50c4"),l=o("1c0b"),s=o("65f0");r({target:"Array",proto:!0},{flatMap:function(e){var t,o=a(this),r=i(o.length);return l(e),(t=s(o,0)).length=n(t,o,o,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},6547:function(e,t,o){var r=o("a691"),n=o("1d80"),a=function(e){return function(t,o){var a,i,l=String(n(t)),s=r(o),c=l.length;return s<0||s>=c?e?"":void 0:(a=l.charCodeAt(s))<55296||a>56319||s+1===c||(i=l.charCodeAt(s+1))<56320||i>57343?e?l.charAt(s):a:e?l.slice(s,s+2):i-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},"65f0":function(e,t,o){var r=o("861d"),n=o("e8b5"),a=o("b622")("species");e.exports=function(e,t){var o;return n(e)&&("function"!=typeof(o=e.constructor)||o!==Array&&!n(o.prototype)?r(o)&&null===(o=o[a])&&(o=void 0):o=void 0),new(void 0===o?Array:o)(0===t?0:t)}},"69f3":function(e,t,o){var r,n,a,i=o("7f9a"),l=o("da84"),s=o("861d"),c=o("9112"),d=o("5135"),u=o("f772"),m=o("d012"),b=l.WeakMap;if(i){var p=new b,g=p.get,f=p.has,h=p.set;r=function(e,t){return h.call(p,e,t),t},n=function(e){return g.call(p,e)||{}},a=function(e){return f.call(p,e)}}else{var v=u("state");m[v]=!0,r=function(e,t){return c(e,v,t),t},n=function(e){return d(e,v)?e[v]:{}},a=function(e){return d(e,v)}}e.exports={set:r,get:n,has:a,enforce:function(e){return a(e)?n(e):r(e,{})},getterFor:function(e){return function(t){var o;if(!s(t)||(o=n(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return o}}}},"6eeb":function(e,t,o){var r=o("da84"),n=o("9112"),a=o("5135"),i=o("ce4e"),l=o("8925"),s=o("69f3"),c=s.get,d=s.enforce,u=String(String).split("String");(e.exports=function(e,t,o,l){var s=!!l&&!!l.unsafe,c=!!l&&!!l.enumerable,m=!!l&&!!l.noTargetGet;"function"==typeof o&&("string"!=typeof t||a(o,"name")||n(o,"name",t),d(o).source=u.join("string"==typeof t?t:"")),e!==r?(s?!m&&e[t]&&(c=!0):delete e[t],c?e[t]=o:n(e,t,o)):c?e[t]=o:i(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||l(this)}))},"6f53":function(e,t,o){var r=o("83ab"),n=o("df75"),a=o("fc6a"),i=o("d1e7").f,l=function(e){return function(t){for(var o,l=a(t),s=n(l),c=s.length,d=0,u=[];c>d;)o=s[d++],r&&!i.call(l,o)||u.push(e?[o,l[o]]:l[o]);return u}};e.exports={entries:l(!0),values:l(!1)}},"73d9":function(e,t,o){o("44d2")("flatMap")},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,o){var r=o("428f"),n=o("5135"),a=o("e538"),i=o("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});n(t,e)||i(t,e,{value:a.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,o){var r=o("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,o){var r,n=o("825a"),a=o("37e8"),i=o("7839"),l=o("d012"),s=o("1be4"),c=o("cc12"),d=o("f772")("IE_PROTO"),u=function(){},m=function(e){return"<script>"+e+"<\/script>"},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;b=r?function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=c("iframe")).style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F);for(var o=i.length;o--;)delete b.prototype[i[o]];return b()};l[d]=!0,e.exports=Object.create||function(e,t){var o;return null!==e?(u.prototype=n(e),o=new u,u.prototype=null,o[d]=e):o=b(),void 0===t?o:a(o,t)}},"7dd0":function(e,t,o){"use strict";var r=o("23e7"),n=o("9ed3"),a=o("e163"),i=o("d2bb"),l=o("d44e"),s=o("9112"),c=o("6eeb"),d=o("b622"),u=o("c430"),m=o("3f8c"),b=o("ae93"),p=b.IteratorPrototype,g=b.BUGGY_SAFARI_ITERATORS,f=d("iterator"),h="keys",v="values",y="entries",x=function(){return this};e.exports=function(e,t,o,d,b,w,k){n(o,t,d);var T,E,S,C=function(e){if(e===b&&D)return D;if(!g&&e in N)return N[e];switch(e){case h:case v:case y:return function(){return new o(this,e)}}return function(){return new o(this)}},V=t+" Iterator",B=!1,N=e.prototype,I=N[f]||N["@@iterator"]||b&&N[b],D=!g&&I||C(b),M="Array"==t&&N.entries||I;if(M&&(T=a(M.call(new e)),p!==Object.prototype&&T.next&&(u||a(T)===p||(i?i(T,p):"function"!=typeof T[f]&&s(T,f,x)),l(T,V,!0,!0),u&&(m[V]=x))),b==v&&I&&I.name!==v&&(B=!0,D=function(){return I.call(this)}),u&&!k||N[f]===D||s(N,f,D),m[t]=D,b)if(E={values:C(v),keys:w?D:C(h),entries:C(y)},k)for(S in E)(g||B||!(S in N))&&c(N,S,E[S]);else r({target:t,proto:!0,forced:g||B},E);return E}},"7f9a":function(e,t,o){var r=o("da84"),n=o("8925"),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(n(a))},"825a":function(e,t,o){var r=o("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,o){var r=o("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,o){"use strict";var r=o("c04e"),n=o("9bf2"),a=o("5c6c");e.exports=function(e,t,o){var i=r(t);i in e?n.f(e,i,a(0,o)):e[i]=o}},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,o){var r,n;"undefined"!=typeof self&&self,void 0===(n="function"==typeof(r=function(){return function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(e){var o,r,n,a=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e.stack)||/@([^@]*):(\d+):(\d+)\s*$/gi.exec(e.stack),i=a&&a[1]||!1,l=a&&a[2]||!1,s=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");i===s&&(o=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),n=o.replace(r,"$1").trim());for(var d=0;d<c.length;d++){if("interactive"===c[d].readyState)return c[d];if(c[d].src===i)return c[d];if(i===s&&c[d].innerHTML&&c[d].innerHTML.trim()===n)return c[d]}return null}}})?r.apply(t,[]):r)||(e.exports=n)},8925:function(e,t,o){var r=o("c6cd"),n=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return n.call(e)}),e.exports=r.inspectSource},"8aa5":function(e,t,o){"use strict";var r=o("6547").charAt;e.exports=function(e,t,o){return t+(o?r(e,t).length:1)}},"8bbf":function(t,o){t.exports=e},"90e3":function(e,t){var o=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++o+r).toString(36)}},9112:function(e,t,o){var r=o("83ab"),n=o("9bf2"),a=o("5c6c");e.exports=r?function(e,t,o){return n.f(e,t,a(1,o))}:function(e,t,o){return e[t]=o,e}},9263:function(e,t,o){"use strict";var r,n,a=o("ad6d"),i=o("9f7f"),l=RegExp.prototype.exec,s=String.prototype.replace,c=l,d=(r=/a/,n=/b*/g,l.call(r,"a"),l.call(n,"a"),0!==r.lastIndex||0!==n.lastIndex),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,m=void 0!==/()??/.exec("")[1];(d||m||u)&&(c=function(e){var t,o,r,n,i=this,c=u&&i.sticky,b=a.call(i),p=i.source,g=0,f=e;return c&&(-1===(b=b.replace("y","")).indexOf("g")&&(b+="g"),f=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(p="(?: "+p+")",f=" "+f,g++),o=new RegExp("^(?:"+p+")",b)),m&&(o=new RegExp("^"+p+"$(?!\\s)",b)),d&&(t=i.lastIndex),r=l.call(c?o:i,f),c?r?(r.input=r.input.slice(g),r[0]=r[0].slice(g),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:d&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),m&&r&&r.length>1&&s.call(r[0],o,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(r[n]=void 0)})),r}),e.exports=c},"94ca":function(e,t,o){var r=o("d039"),n=/#|\.prototype\./,a=function(e,t){var o=l[i(e)];return o==c||o!=s&&("function"==typeof t?r(t):!!t)},i=a.normalize=function(e){return String(e).replace(n,".").toLowerCase()},l=a.data={},s=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},"99af":function(e,t,o){"use strict";var r=o("23e7"),n=o("d039"),a=o("e8b5"),i=o("861d"),l=o("7b0b"),s=o("50c4"),c=o("8418"),d=o("65f0"),u=o("1dde"),m=o("b622"),b=o("2d00"),p=m("isConcatSpreadable"),g=9007199254740991,f="Maximum allowed index exceeded",h=b>=51||!n((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=u("concat"),y=function(e){if(!i(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!h||!v},{concat:function(e){var t,o,r,n,a,i=l(this),u=d(i,0),m=0;for(t=-1,r=arguments.length;t<r;t++)if(y(a=-1===t?i:arguments[t])){if(m+(n=s(a.length))>g)throw TypeError(f);for(o=0;o<n;o++,m++)o in a&&c(u,m,a[o])}else{if(m>=g)throw TypeError(f);c(u,m++,a)}return u.length=m,u}})},"9bdd":function(e,t,o){var r=o("825a");e.exports=function(e,t,o,n){try{return n?t(r(o)[0],o[1]):t(o)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},"9bf2":function(e,t,o){var r=o("83ab"),n=o("0cfb"),a=o("825a"),i=o("c04e"),l=Object.defineProperty;t.f=r?l:function(e,t,o){if(a(e),t=i(t,!0),a(o),n)try{return l(e,t,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported");return"value"in o&&(e[t]=o.value),e}},"9ed3":function(e,t,o){"use strict";var r=o("ae93").IteratorPrototype,n=o("7c73"),a=o("5c6c"),i=o("d44e"),l=o("3f8c"),s=function(){return this};e.exports=function(e,t,o){var c=t+" Iterator";return e.prototype=n(r,{next:a(1,o)}),i(e,c,!1,!0),l[c]=s,e}},"9f7f":function(e,t,o){"use strict";var r=o("d039");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a2bf:function(e,t,o){"use strict";var r=o("e8b5"),n=o("50c4"),a=o("0366"),i=function(e,t,o,l,s,c,d,u){for(var m,b=s,p=0,g=!!d&&a(d,u,3);p<l;){if(p in o){if(m=g?g(o[p],p,t):o[p],c>0&&r(m))b=i(e,t,m,n(m.length),b,c-1)-1;else{if(b>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[b]=m}b++}p++}return b};e.exports=i},a352:function(e,o){e.exports=t},a434:function(e,t,o){"use strict";var r=o("23e7"),n=o("23cb"),a=o("a691"),i=o("50c4"),l=o("7b0b"),s=o("65f0"),c=o("8418"),d=o("1dde"),u=o("ae40"),m=d("splice"),b=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,f=9007199254740991,h="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!m||!b},{splice:function(e,t){var o,r,d,u,m,b,v=l(this),y=i(v.length),x=n(e,y),w=arguments.length;if(0===w?o=r=0:1===w?(o=0,r=y-x):(o=w-2,r=g(p(a(t),0),y-x)),y+o-r>f)throw TypeError(h);for(d=s(v,r),u=0;u<r;u++)(m=x+u)in v&&c(d,u,v[m]);if(d.length=r,o<r){for(u=x;u<y-r;u++)b=u+o,(m=u+r)in v?v[b]=v[m]:delete v[b];for(u=y;u>y-r+o;u--)delete v[u-1]}else if(o>r)for(u=y-r;u>x;u--)b=u+o-1,(m=u+r-1)in v?v[b]=v[m]:delete v[b];for(u=0;u<o;u++)v[u+x]=arguments[u+2];return v.length=y-r+o,d}})},a4d3:function(e,t,o){"use strict";var r=o("23e7"),n=o("da84"),a=o("d066"),i=o("c430"),l=o("83ab"),s=o("4930"),c=o("fdbf"),d=o("d039"),u=o("5135"),m=o("e8b5"),b=o("861d"),p=o("825a"),g=o("7b0b"),f=o("fc6a"),h=o("c04e"),v=o("5c6c"),y=o("7c73"),x=o("df75"),w=o("241c"),k=o("057f"),T=o("7418"),E=o("06cf"),S=o("9bf2"),C=o("d1e7"),V=o("9112"),B=o("6eeb"),N=o("5692"),I=o("f772"),D=o("d012"),M=o("90e3"),L=o("b622"),O=o("e538"),j=o("746f"),A=o("d44e"),U=o("69f3"),P=o("b727").forEach,_=I("hidden"),$="Symbol",z=L("toPrimitive"),F=U.set,G=U.getterFor($),R=Object.prototype,Q=n.Symbol,H=a("JSON","stringify"),K=E.f,W=S.f,Y=k.f,q=C.f,J=N("symbols"),Z=N("op-symbols"),X=N("string-to-symbol-registry"),ee=N("symbol-to-string-registry"),te=N("wks"),oe=n.QObject,re=!oe||!oe.prototype||!oe.prototype.findChild,ne=l&&d((function(){return 7!=y(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(e,t,o){var r=K(R,t);r&&delete R[t],W(e,t,o),r&&e!==R&&W(R,t,r)}:W,ae=function(e,t){var o=J[e]=y(Q.prototype);return F(o,{type:$,tag:e,description:t}),l||(o.description=t),o},ie=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Q},le=function(e,t,o){e===R&&le(Z,t,o),p(e);var r=h(t,!0);return p(o),u(J,r)?(o.enumerable?(u(e,_)&&e[_][r]&&(e[_][r]=!1),o=y(o,{enumerable:v(0,!1)})):(u(e,_)||W(e,_,v(1,{})),e[_][r]=!0),ne(e,r,o)):W(e,r,o)},se=function(e,t){p(e);var o=f(t),r=x(o).concat(me(o));return P(r,(function(t){l&&!ce.call(o,t)||le(e,t,o[t])})),e},ce=function(e){var t=h(e,!0),o=q.call(this,t);return!(this===R&&u(J,t)&&!u(Z,t))&&(!(o||!u(this,t)||!u(J,t)||u(this,_)&&this[_][t])||o)},de=function(e,t){var o=f(e),r=h(t,!0);if(o!==R||!u(J,r)||u(Z,r)){var n=K(o,r);return!n||!u(J,r)||u(o,_)&&o[_][r]||(n.enumerable=!0),n}},ue=function(e){var t=Y(f(e)),o=[];return P(t,(function(e){u(J,e)||u(D,e)||o.push(e)})),o},me=function(e){var t=e===R,o=Y(t?Z:f(e)),r=[];return P(o,(function(e){!u(J,e)||t&&!u(R,e)||r.push(J[e])})),r};s||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=M(e),o=function(e){this===R&&o.call(Z,e),u(this,_)&&u(this[_],t)&&(this[_][t]=!1),ne(this,t,v(1,e))};return l&&re&&ne(R,t,{configurable:!0,set:o}),ae(t,e)},B(Q.prototype,"toString",(function(){return G(this).tag})),B(Q,"withoutSetter",(function(e){return ae(M(e),e)})),C.f=ce,S.f=le,E.f=de,w.f=k.f=ue,T.f=me,O.f=function(e){return ae(L(e),e)},l&&(W(Q.prototype,"description",{configurable:!0,get:function(){return G(this).description}}),i||B(R,"propertyIsEnumerable",ce,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Q}),P(x(te),(function(e){j(e)})),r({target:$,stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(X,t))return X[t];var o=Q(t);return X[t]=o,ee[o]=t,o},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(u(ee,e))return ee[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!l},{create:function(e,t){return void 0===t?y(e):se(y(e),t)},defineProperty:le,defineProperties:se,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ue,getOwnPropertySymbols:me}),r({target:"Object",stat:!0,forced:d((function(){T.f(1)}))},{getOwnPropertySymbols:function(e){return T.f(g(e))}}),H&&r({target:"JSON",stat:!0,forced:!s||d((function(){var e=Q();return"[null]"!=H([e])||"{}"!=H({a:e})||"{}"!=H(Object(e))}))},{stringify:function(e,t,o){for(var r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t,(b(t)||void 0!==e)&&!ie(e))return m(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ie(t))return t}),n[1]=t,H.apply(null,n)}}),Q.prototype[z]||V(Q.prototype,z,Q.prototype.valueOf),A(Q,$),D[_]=!0},a630:function(e,t,o){var r=o("23e7"),n=o("4df4");r({target:"Array",stat:!0,forced:!o("1c7e")((function(e){Array.from(e)}))},{from:n})},a640:function(e,t,o){"use strict";var r=o("d039");e.exports=function(e,t){var o=[][e];return!!o&&r((function(){o.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var o=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:o)(e)}},ab13:function(e,t,o){var r=o("b622")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},ac1f:function(e,t,o){"use strict";var r=o("23e7"),n=o("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,o){"use strict";var r=o("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,o){var r=o("83ab"),n=o("d039"),a=o("5135"),i=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(a(l,e))return l[e];t||(t={});var o=[][e],c=!!a(t,"ACCESSORS")&&t.ACCESSORS,d=a(t,0)?t[0]:s,u=a(t,1)?t[1]:void 0;return l[e]=!!o&&!n((function(){if(c&&!r)return!0;var e={length:-1};c?i(e,1,{enumerable:!0,get:s}):e[1]=1,o.call(e,d,u)}))}},ae93:function(e,t,o){"use strict";var r,n,a,i=o("e163"),l=o("9112"),s=o("5135"),c=o("b622"),d=o("c430"),u=c("iterator"),m=!1;[].keys&&("next"in(a=[].keys())?(n=i(i(a)))!==Object.prototype&&(r=n):m=!0),null==r&&(r={}),d||s(r,u)||l(r,u,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},b041:function(e,t,o){"use strict";var r=o("00ee"),n=o("f5df");e.exports=r?{}.toString:function(){return"[object "+n(this)+"]"}},b0c0:function(e,t,o){var r=o("83ab"),n=o("9bf2").f,a=Function.prototype,i=a.toString,l=/^\s*function ([^ (]*)/,s="name";r&&!(s in a)&&n(a,s,{configurable:!0,get:function(){try{return i.call(this).match(l)[1]}catch(e){return""}}})},b622:function(e,t,o){var r=o("da84"),n=o("5692"),a=o("5135"),i=o("90e3"),l=o("4930"),s=o("fdbf"),c=n("wks"),d=r.Symbol,u=s?d:d&&d.withoutSetter||i;e.exports=function(e){return a(c,e)||(l&&a(d,e)?c[e]=d[e]:c[e]=u("Symbol."+e)),c[e]}},b64b:function(e,t,o){var r=o("23e7"),n=o("7b0b"),a=o("df75");r({target:"Object",stat:!0,forced:o("d039")((function(){a(1)}))},{keys:function(e){return a(n(e))}})},b727:function(e,t,o){var r=o("0366"),n=o("44ad"),a=o("7b0b"),i=o("50c4"),l=o("65f0"),s=[].push,c=function(e){var t=1==e,o=2==e,c=3==e,d=4==e,u=6==e,m=5==e||u;return function(b,p,g,f){for(var h,v,y=a(b),x=n(y),w=r(p,g,3),k=i(x.length),T=0,E=f||l,S=t?E(b,k):o?E(b,0):void 0;k>T;T++)if((m||T in x)&&(v=w(h=x[T],T,y),e))if(t)S[T]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return T;case 2:s.call(S,h)}else if(d)return!1;return u?-1:c||d?d:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c04e:function(e,t,o){var r=o("861d");e.exports=function(e,t){if(!r(e))return e;var o,n;if(t&&"function"==typeof(o=e.toString)&&!r(n=o.call(e)))return n;if("function"==typeof(o=e.valueOf)&&!r(n=o.call(e)))return n;if(!t&&"function"==typeof(o=e.toString)&&!r(n=o.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var o={}.toString;e.exports=function(e){return o.call(e).slice(8,-1)}},c6cd:function(e,t,o){var r=o("da84"),n=o("ce4e"),a="__core-js_shared__",i=r[a]||n(a,{});e.exports=i},c740:function(e,t,o){"use strict";var r=o("23e7"),n=o("b727").findIndex,a=o("44d2"),i=o("ae40"),l="findIndex",s=!0,c=i(l);l in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!c},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a(l)},c8ba:function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},c975:function(e,t,o){"use strict";var r=o("23e7"),n=o("4d64").indexOf,a=o("a640"),i=o("ae40"),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0,c=a("indexOf"),d=i("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!c||!d},{indexOf:function(e){return s?l.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,o){var r=o("5135"),n=o("fc6a"),a=o("4d64").indexOf,i=o("d012");e.exports=function(e,t){var o,l=n(e),s=0,c=[];for(o in l)!r(i,o)&&r(l,o)&&c.push(o);for(;t.length>s;)r(l,o=t[s++])&&(~a(c,o)||c.push(o));return c}},caad:function(e,t,o){"use strict";var r=o("23e7"),n=o("4d64").includes,a=o("44d2");r({target:"Array",proto:!0,forced:!o("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cc12:function(e,t,o){var r=o("da84"),n=o("861d"),a=r.document,i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},ce4e:function(e,t,o){var r=o("da84"),n=o("9112");e.exports=function(e,t){try{n(r,e,t)}catch(o){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},d066:function(e,t,o){var r=o("428f"),n=o("da84"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(n[e]):r[e]&&r[e][t]||n[e]&&n[e][t]}},d1e7:function(e,t,o){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,o){o("746f")("iterator")},d2bb:function(e,t,o){var r=o("825a"),n=o("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,o={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(o,[]),t=o instanceof Array}catch(e){}return function(o,a){return r(o),n(a),t?e.call(o,a):o.__proto__=a,o}}():void 0)},d3b7:function(e,t,o){var r=o("00ee"),n=o("6eeb"),a=o("b041");r||n(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(e,t,o){var r=o("9bf2").f,n=o("5135"),a=o("b622")("toStringTag");e.exports=function(e,t,o){e&&!n(e=o?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},d58f:function(e,t,o){var r=o("1c0b"),n=o("7b0b"),a=o("44ad"),i=o("50c4"),l=function(e){return function(t,o,l,s){r(o);var c=n(t),d=a(c),u=i(c.length),m=e?u-1:0,b=e?-1:1;if(l<2)for(;;){if(m in d){s=d[m],m+=b;break}if(m+=b,e?m<0:u<=m)throw TypeError("Reduce of empty array with no initial value")}for(;e?m>=0:u>m;m+=b)m in d&&(s=o(s,d[m],m,c));return s}};e.exports={left:l(!1),right:l(!0)}},d784:function(e,t,o){"use strict";o("ac1f");var r=o("6eeb"),n=o("d039"),a=o("b622"),i=o("9263"),l=o("9112"),s=a("species"),c=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d="$0"==="a".replace(/./,"$0"),u=a("replace"),m=!!/./[u]&&""===/./[u]("a","$0"),b=!n((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var o="ab".split(e);return 2!==o.length||"a"!==o[0]||"b"!==o[1]}));e.exports=function(e,t,o,u){var p=a(e),g=!n((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=g&&!n((function(){var t=!1,o=/a/;return"split"===e&&((o={}).constructor={},o.constructor[s]=function(){return o},o.flags="",o[p]=/./[p]),o.exec=function(){return t=!0,null},o[p](""),!t}));if(!g||!f||"replace"===e&&(!c||!d||m)||"split"===e&&!b){var h=/./[p],v=o(p,""[e],(function(e,t,o,r,n){return t.exec===i?g&&!n?{done:!0,value:h.call(t,o,r)}:{done:!0,value:e.call(o,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),y=v[0],x=v[1];r(String.prototype,e,y),r(RegExp.prototype,p,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}u&&l(RegExp.prototype[p],"sham",!0)}},d81d:function(e,t,o){"use strict";var r=o("23e7"),n=o("b727").map,a=o("1dde"),i=o("ae40"),l=a("map"),s=i("map");r({target:"Array",proto:!0,forced:!l||!s},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,o){(function(t){var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof t&&t)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(e,t,o){var r=o("23e7"),n=o("83ab"),a=o("56ef"),i=o("fc6a"),l=o("06cf"),s=o("8418");r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){for(var t,o,r=i(e),n=l.f,c=a(r),d={},u=0;c.length>u;)void 0!==(o=n(r,t=c[u++]))&&s(d,t,o);return d}})},dbf1:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return r}));var r="undefined"!=typeof window?window.console:e.console}).call(this,o("c8ba"))},ddb0:function(e,t,o){var r=o("da84"),n=o("fdbc"),a=o("e260"),i=o("9112"),l=o("b622"),s=l("iterator"),c=l("toStringTag"),d=a.values;for(var u in n){var m=r[u],b=m&&m.prototype;if(b){if(b[s]!==d)try{i(b,s,d)}catch(e){b[s]=d}if(b[c]||i(b,c,u),n[u])for(var p in a)if(b[p]!==a[p])try{i(b,p,a[p])}catch(e){b[p]=a[p]}}}},df75:function(e,t,o){var r=o("ca84"),n=o("7839");e.exports=Object.keys||function(e){return r(e,n)}},e01a:function(e,t,o){"use strict";var r=o("23e7"),n=o("83ab"),a=o("da84"),i=o("5135"),l=o("861d"),s=o("9bf2").f,c=o("e893"),d=a.Symbol;if(n&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof m?new d(e):void 0===e?d():d(e);return""===e&&(u[t]=!0),t};c(m,d);var b=m.prototype=d.prototype;b.constructor=m;var p=b.toString,g="Symbol(test)"==String(d("test")),f=/^Symbol\((.*)\)[^)]+$/;s(b,"description",{configurable:!0,get:function(){var e=l(this)?this.valueOf():this,t=p.call(e);if(i(u,e))return"";var o=g?t.slice(7,-1):t.replace(f,"$1");return""===o?void 0:o}}),r({global:!0,forced:!0},{Symbol:m})}},e163:function(e,t,o){var r=o("5135"),n=o("7b0b"),a=o("f772"),i=o("e177"),l=a("IE_PROTO"),s=Object.prototype;e.exports=i?Object.getPrototypeOf:function(e){return e=n(e),r(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},e177:function(e,t,o){var r=o("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,o){"use strict";var r=o("fc6a"),n=o("44d2"),a=o("3f8c"),i=o("69f3"),l=o("7dd0"),s="Array Iterator",c=i.set,d=i.getterFor(s);e.exports=l(Array,"Array",(function(e,t){c(this,{type:s,target:r(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,o=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==o?{value:r,done:!1}:"values"==o?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},e439:function(e,t,o){var r=o("23e7"),n=o("d039"),a=o("fc6a"),i=o("06cf").f,l=o("83ab"),s=n((function(){i(1)}));r({target:"Object",stat:!0,forced:!l||s,sham:!l},{getOwnPropertyDescriptor:function(e,t){return i(a(e),t)}})},e538:function(e,t,o){var r=o("b622");t.f=r},e893:function(e,t,o){var r=o("5135"),n=o("56ef"),a=o("06cf"),i=o("9bf2");e.exports=function(e,t){for(var o=n(t),l=i.f,s=a.f,c=0;c<o.length;c++){var d=o[c];r(e,d)||l(e,d,s(t,d))}}},e8b5:function(e,t,o){var r=o("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,o){var r=o("b622"),n=o("3f8c"),a=r("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},f5df:function(e,t,o){var r=o("00ee"),n=o("c6b6"),a=o("b622")("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=r?n:function(e){var t,o,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?o:i?n(t):"Object"==(r=n(t))&&"function"==typeof t.callee?"Arguments":r}},f772:function(e,t,o){var r=o("5692"),n=o("90e3"),a=r("keys");e.exports=function(e){return a[e]||(a[e]=n(e))}},fb15:function(e,t,o){"use strict";if(o.r(t),"undefined"!=typeof window){var r=window.document.currentScript,n=o("8875");r=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var a=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(o.p=a[1])}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function d(e,t){if(e){if("string"==typeof e)return c(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var o=[],r=!0,n=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(e){n=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw a}}return o}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b"),o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0"),o("a630"),o("fb6a"),o("b0c0"),o("25f0");var b=o("a352"),p=o.n(b);function g(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function f(e,t,o){var r=0===o?e.children[0]:e.children[o-1].nextSibling;e.insertBefore(t,r)}var h=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");var v,y,x=/-(\w)/g,w=(v=function(e){return e.replace(x,(function(e,t){return t.toUpperCase()}))},y=Object.create(null),function(e){return y[e]||(y[e]=v(e))}),k=(o("5db7"),o("73d9"),["Start","Add","Remove","Update","End"]),T=["Choose","Unchoose","Sort","Filter","Clone"],E=["Move"],S=[E,k,T].flatMap((function(e){return e})).map((function(e){return"on".concat(e)})),C={manage:E,manageAndEmit:k,emit:T};o("caad"),o("2ca0");var V=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function B(e){return["id","class"].includes(e)||e.startsWith("data-")}function N(e){return e.reduce((function(e,t){var o=u(t,2),r=o[0],n=o[1];return e[r]=n,e}),{})}function I(e){return Object.entries(e).filter((function(e){var t=u(e,2),o=t[0];return t[1],!B(o)})).map((function(e){var t=u(e,2),o=t[0],r=t[1];return[w(o),r]})).filter((function(e){var t,o=u(e,2),r=o[0];return o[1],t=r,!(-1!==S.indexOf(t))}))}function D(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o("c740");var M=function(e){return e.el},L=function(e){return e.__draggable_context},O=function(){function e(t){var o=t.nodes,r=o.header,n=o.default,a=o.footer,i=t.root,l=t.realList;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultNodes=n,this.children=[].concat(m(r),m(n),m(a)),this.externalComponent=i.externalComponent,this.rootTransition=i.transition,this.tag=i.tag,this.realList=l}var t,o;return t=e,(o=[{key:"render",value:function(e,t){var o=this.tag,r=this.children;return e(o,t,this._isRootComponent?{default:function(){return r}}:r)}},{key:"updated",value:function(){var e=this.defaultNodes,t=this.realList;e.forEach((function(e,o){var r,n;r=M(e),n={element:t[o],index:o},r.__draggable_context=n}))}},{key:"getUnderlyingVm",value:function(e){return L(e)}},{key:"getVmIndexFromDomIndex",value:function(e,t){var o=this.defaultNodes,r=o.length,n=t.children,a=n.item(e);if(null===a)return r;var i=L(a);if(i)return i.index;if(0===r)return 0;var l=M(o[0]),s=m(n).findIndex((function(e){return e===l}));return e<s?0:r}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}])&&D(t.prototype,o),e}(),j=o("8bbf");function A(e){var t=e.$slots,o=e.tag,r=e.realList,n=function(e){var t=e.$slots,o=e.getKey,r=e.realList||[],n=u(["header","footer"].map((function(e){return(o=t[e])?o():[];var o})),2),a=n[0],i=n[1],l=t.item;if(!l)throw new Error("draggable element must have an item slot");var c=r.flatMap((function(e,t){return l({element:e,index:t}).map((function(t){return t.key=o(e),t.props=s(s({},t.props||{}),{},{"data-draggable":!0}),t}))}));if(c.length!==r.length)throw new Error("Item slot must have only one child");return{header:a,footer:i,default:c}}({$slots:t,realList:r,getKey:e.getKey}),a=function(e){var t,o=["transition-group","TransitionGroup"].includes(e),r=(t=e,!(V.includes(t)||o));return{transition:o,externalComponent:r,tag:r?Object(j.resolveComponent)(e):o?j.TransitionGroup:e}}(o);return new O({nodes:n,root:a,realList:r})}function U(e,t){var o=this;Object(j.nextTick)((function(){return o.$emit(e.toLowerCase(),t)}))}function P(e){var t=this;return function(o,r){if(null!==t.realList)return t["onDrag".concat(e)](o,r)}}function _(e){var t=this,o=P.call(this,e);return function(r,n){o.call(t,r,n),U.call(t,e,r)}}var $=null,z={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(e){return e}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},F=["update:modelValue","change"].concat(m([].concat(m(C.manageAndEmit),m(C.emit)).map((function(e){return e.toLowerCase()})))),G=Object(j.defineComponent)({name:"draggable",inheritAttrs:!1,props:z,emits:F,data:function(){return{error:!1}},render:function(){try{this.error=!1;var e=this.$slots,t=this.$attrs,o=this.tag,r=this.componentData,n=A({$slots:e,tag:o,realList:this.realList,getKey:this.getKey});this.componentStructure=n;var a=function(e){var t=e.$attrs,o=e.componentData,r=void 0===o?{}:o;return s(s({},N(Object.entries(t).filter((function(e){var t=u(e,2),o=t[0];return t[1],B(o)})))),r)}({$attrs:t,componentData:r});return n.render(j.h,a)}catch(e){return this.error=!0,Object(j.h)("pre",{style:{color:"red"}},e.stack)}},created:function(){null!==this.list&&null!==this.modelValue&&h.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var e=this;if(!this.error){var t=this.$attrs,o=this.$el;this.componentStructure.updated();var r=function(e){var t=e.callBackBuilder,o=N(I(e.$attrs));Object.entries(t).forEach((function(e){var t=u(e,2),r=t[0],n=t[1];C[r].forEach((function(e){o["on".concat(e)]=n(e)}))}));var r="[data-draggable]".concat(o.draggable||"");return s(s({},o),{},{draggable:r})}({$attrs:t,callBackBuilder:{manageAndEmit:function(t){return _.call(e,t)},emit:function(t){return U.bind(e,t)},manage:function(t){return P.call(e,t)}}}),n=1===o.nodeType?o:o.parentElement;this._sortable=new p.a(n,r),this.targetDomElement=n,n.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList:function(){return this.list||this.modelValue},getKey:function(){var e=this.itemKey;return"function"==typeof e?e:function(t){return t[e]}}},watch:{$attrs:{handler:function(e){var t=this._sortable;I(e).forEach((function(e){var o=u(e,2),r=o[0],n=o[1];t.option(r,n)}))},deep:!0}},methods:{getUnderlyingVm:function(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent:function(e){return e.__draggable_component__},emitChanges:function(e){var t=this;Object(j.nextTick)((function(){return t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=m(this.modelValue);e(t),this.$emit("update:modelValue",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,m(e))};this.alterList(t)},updatePosition:function(e,t){this.alterList((function(o){return o.splice(t,0,o.splice(e,1)[0])}))},getRelatedContextFromMoveEvent:function(e){var t=e.to,o=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var n=r.realList,a={list:n,component:r};return t!==o&&n?s(s({},r.getUnderlyingVm(o)||{}),a):a},getVmIndexFromDomIndex:function(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),$=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){g(e.item);var o=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(o,0,t);var r={element:t,newIndex:o};this.emitChanges({added:r})}},onDragRemove:function(e){if(f(this.$el,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context,o=t.index,r=t.element;this.spliceList(o,1);var n={element:r,oldIndex:o};this.emitChanges({removed:n})}else g(e.clone)},onDragUpdate:function(e){g(e.item),f(e.from,e.item,e.oldIndex);var t=this.context.index,o=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,o);var r={element:this.context.element,oldIndex:t,newIndex:o};this.emitChanges({moved:r})},computeFutureIndex:function(e,t){if(!e.element)return 0;var o=m(t.to.children).filter((function(e){return"none"!==e.style.display})),r=o.indexOf(t.related),n=e.component.getVmIndexFromDomIndex(r);return-1===o.indexOf($)&&t.willInsertAfter?n+1:n},onDragMove:function(e,t){var o=this.move,r=this.realList;if(!o||!r)return!0;var n=this.getRelatedContextFromMoveEvent(e),a=this.computeFutureIndex(n,e),i=s(s({},this.context),{},{futureIndex:a});return o(s(s({},e),{},{relatedContext:n,draggedContext:i}),t)},onDragEnd:function(){$=null}}}),R=G;t.default=R},fb6a:function(e,t,o){"use strict";var r=o("23e7"),n=o("861d"),a=o("e8b5"),i=o("23cb"),l=o("50c4"),s=o("fc6a"),c=o("8418"),d=o("b622"),u=o("1dde"),m=o("ae40"),b=u("slice"),p=m("slice",{ACCESSORS:!0,0:0,1:2}),g=d("species"),f=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!b||!p},{slice:function(e,t){var o,r,d,u=s(this),m=l(u.length),b=i(e,m),p=i(void 0===t?m:t,m);if(a(u)&&("function"!=typeof(o=u.constructor)||o!==Array&&!a(o.prototype)?n(o)&&null===(o=o[g])&&(o=void 0):o=void 0,o===Array||void 0===o))return f.call(u,b,p);for(r=new(void 0===o?Array:o)(h(p-b,0)),d=0;b<p;b++,d++)b in u&&c(r,d,u[b]);return r.length=d,r}})},fc6a:function(e,t,o){var r=o("44ad"),n=o("1d80");e.exports=function(e){return r(n(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,o){var r=o("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default},e.exports=r(o(311),o(348))},744:(e,t)=>{"use strict";t.Z=(e,t)=>{const o=e.__vccOpts||e;for(const[e,r]of t)o[e]=r;return o}},348:e=>{"use strict";e.exports=Sortable},311:e=>{"use strict";e.exports=Vue}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";class e{constructor(){this._modules=[],this._initialized=[],this._loaded=[]}register(e=[]){return new Promise((t=>{this._modules=e.map((e=>(e.uuid=TBUtilities.CreateGuid(),e))),TBUtilities.Log("VUE | Registered Modules"),TBUtilities.Log(this._modules),t({msg:"VUE Modules registered"})}))}initialize(){for(const[e,t]of this._modules.entries())this._modules[e].initialize(),this._initialized.push(t.uuid);return TBUtilities.Log("VUE | Modules initialized"),Promise.all([]).then((e=>e.map((e=>TBUtilities.Log(e)))))}create(){const e=this._modules.filter((e=>this._initialized.includes(e.uuid)&&!this._loaded.includes(e.uuid)&&window.location.href.match(e.match)&&"OnLoad"==e.type)).map((e=>e.uuid));if(TBUtilities.Log("VUE | loadables Modules"),TBUtilities.Log(e),!e.length)return void TBUtilities.Log("VUE | CREATE, Nothing to load");const t=[];for(const[o,r]of this._modules.entries()){if(!e.includes(r.uuid))continue;TBUtilities.Log(`VUE | Creating ${r.name}`);const n=this._modules[o].create().then((({created:e,msg:t})=>({created:e,msg:t}))).catch((({created:e,msg:t})=>({created:e,msg:t})));t.push(n),this._loaded.push(r.uuid)}TBUtilities.Log("VUE | Modules Created"),Promise.all(t).then((e=>e.map((e=>TBUtilities.Log(e)))))}destroy(){const e=this._modules.filter((e=>this._loaded.includes(e.uuid)&&!window.location.href.match(e.match)&&"OnLoad"==e.type)).map((e=>e.uuid));if(TBUtilities.Log("VUE | deletables Modules"),TBUtilities.Log(e),!e.length)return void TBUtilities.Log("VUE | DESTROY, Nothing to destroy");const t=[];for(const[o,r]of this._modules.entries()){if(!e.includes(r.uuid))continue;const n=this._modules[o].destroy().then((({destroyed:e,msg:t})=>({destroyed:e,msg:t}))).catch((({destroyed:e,msg:t})=>({destroyed:e,msg:t})));this._loaded=[...this._loaded.filter((e=>e!=r.uuid))],t.push(n)}TBUtilities.Log("VUE | Modules Destroyed"),Promise.all(t).then((e=>e.map((e=>TBUtilities.Log(e)))))}waitForElement(e,t=100,o=10){return new Promise(((r,n)=>{let a=0;setTimeout((function i(){const l=document.querySelector(e);a>=o?n(`Vue Module loader: Element not found after ${a} attempts`):null==l?(a++,setTimeout(i,t)):r(`Vue Module loader: Initialized after ${a} attempts`)}),t)}))}watch(){return new Promise((async(e,t)=>{const o="title";try{await this.waitForElement(o)}catch(e){return console.error("VUE error",e),void t(e)}const r=document.querySelector(o);new MutationObserver((e=>{this.destroy(),this.create()})).observe(r,{attributes:!0,childList:!0,subtree:!0}),e({msg:"Vue Observer created"})}))}}const t=Vuex;var r=o(311);class n{constructor(){this.uuid=null,this.app=null,this.name=null,this.studio=null,this.type=null}destroy(){return new Promise(((e,t)=>{if(null==this.app)return void t({destroyed:!1,msg:`The ${this.name} module already destroyed.`});this.app.unmount(),this.app=null;const o=document.getElementById(this.getIdentifier());null!=o&&o.remove(),e({destroyed:!0,msg:`The ${this.name} module was successfully destroyed.`})}))}isRegistered(){return null!=this.uuid}isMounted(){return null!=this.app}createApp(e,t,o){this.app=(0,r.createApp)(e,o),null==t&&null==t||this.app.use(t),this.app.mount(`#${this.getIdentifier()}`)}getName(){return this.name}getUuid(){return this.uuid}getIdentifier(){return`tb-${this.uuid}`}waitForElement(e,t=250,o=10){return new Promise(((r,n)=>{let a=0,i=setInterval((()=>{const t=document.querySelector(e);++a>=o&&(clearInterval(i),n(t)),void 0!==t&&(clearInterval(i),r(t))}),t)}))}}class a extends n{constructor(){super(),this.match=".*",this.type="OnEvent"}initialize(){}create(){}}const i=["id"],l={class:"tb-module-shadow tb-rounded tb-overflow-hidden"},s=["data-draggable"],c=["src"],d={class:"tb-module-title"},u={key:0,class:"tb-module-help"},m=["href"],b=[(0,r.createElementVNode)("i",{class:"small material-icons tb-icon-white tb-icon-help"},"help_outline",-1)],p=[(0,r.createElementVNode)("i",{class:"medium material-icons tb-icon-white","data-draggable":"false"},"close",-1)],g={class:"tb-bg-white"},f={props:{id:{required:!0,type:String},link:{type:String},width:{type:Number,default:800},height:{type:Number,default:350},margin:{type:String,default:""},left:{type:String},isDraggable:{type:Boolean,default:!0}},emits:["modalClosing"],setup(e,{emit:t}){const o=e,n=(0,r.computed)((()=>o.id)),a=(0,r.computed)((()=>o.link?`${TBGlobal.host}/tools?tool=${o.link}`:null)),f=(0,r.computed)((()=>`width:${o.width}px;max-height:${o.height}px;${o.left?`left:${o.left}`:""}`)),h=(0,r.computed)((()=>browser.runtime.getURL("/images/branding/tb-icon.svg"))),v=(0,r.computed)((()=>o.isDraggable));return(e,y)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{id:`tb-${(0,r.unref)(n)}-container`,class:(0,r.normalizeClass)(["tb-module-template tb-text-gray-500 tb-rounded-lg",{"draggable-container":(0,r.unref)(v)}]),style:(0,r.normalizeStyle)((0,r.unref)(f))},[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",{class:"tb-module-header","data-draggable":(0,r.unref)(v),style:(0,r.normalizeStyle)(`${o.margin} ${(0,r.unref)(v)?"cursor: move;":"cursor: default;"}`)},[(0,r.createElementVNode)("img",{class:"tb-module-logo",src:(0,r.unref)(h),alt:"tb-logo","data-draggable":"false"},null,8,c),(0,r.createElementVNode)("h1",d,[(0,r.renderSlot)(e.$slots,"header")]),(0,r.unref)(a)?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[(0,r.createElementVNode)("a",{class:"tb-align-middle tb-no-underline",target:"_blank",href:(0,r.unref)(a),"data-draggable":"false"},b,8,m)])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",{class:"tb-module-close","data-draggable":"false",onClick:y[0]||(y[0]=e=>t("modalClosing",e))},p)],12,s),(0,r.renderSlot)(e.$slots,"content"),(0,r.createElementVNode)("div",g,[(0,r.renderSlot)(e.$slots,"footer")])])],14,i))}},h={class:"tb-uppercase tb-font-medium tb-text-xl"};var v=o(744);const y={},x=(0,v.Z)(y,[["render",function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"tb-cursor-pointer tb-rounded-sm tb-px-8 tb-py-4 tb-content-center",onClick:t[0]||(t[0]=t=>e.$emit("btnClicked"))},[(0,r.createElementVNode)("span",h,[(0,r.renderSlot)(e.$slots,"default")])])}]]),w=(0,r.createElementVNode)("option",{value:""},"Apply Upload Default...",-1),k=["value"],T=(0,r.createTextVNode)("Apply"),E={setup(e){const o=(0,t.useStore)(),n=(0,r.ref)([]),a=(0,r.ref)(""),i=(0,r.ref)(!1);function l(){if(""===a.value.Title&&""===a.value.Description&&""===a.value.Tags)return;let e={title:o.getters.getMetaData.title+" "+a.value.Title,description:o.getters.getMetaData.description+" "+a.value.Description,tags:s()};o.commit("setMetaData",e)}function s(){const e=o.getters.getMetaData.tags?o.getters.getMetaData.tags:[],t=a.value.Tags?a.value.Tags.split(",").map((e=>e.trim())):[];return[...e,...t.filter((t=>!e.includes(t)))]}return(0,r.onBeforeMount)((()=>{const e=TBGlobal.host+TBGlobal.apiUrls.uploadDefaultsList;TBExtension.Get(e,((e,t,r)=>{const a=JSON.parse(r);a.length<1||(o.commit("setDefaults",a),n.value=a)}))})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",null,[n.value.length>0?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("select",{key:0,class:"tb-py-3 tb-ml-7 tb-mr-4 tb-px-3",name:"upload-default",id:"upload-default",onChange:t[0]||(t[0]=e=>{i.value=""!==a.value}),"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e)},[w,((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.value,(e=>((0,r.openBlock)(),(0,r.createElementBlock)("option",{key:e.Id,value:e},(0,r.toDisplayString)(e.Name),9,k)))),128))],544)),[[r.vModelSelect,a.value]]):(0,r.createCommentVNode)("",!0),i.value?((0,r.openBlock)(),(0,r.createBlock)(x,{key:1,class:"tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white tb-font-medium tb-mr-2 tb-inline-block sm:block",onBtnClicked:l},{default:(0,r.withCtx)((()=>[T])),_:1})):(0,r.createCommentVNode)("",!0)]))}};function S(){return{track:(e,t)=>{try{TBUtilities.ReportProductEvent(e,t)}catch(e){TBUtilities.LogError("VUE | ReportProductEvent Error"),TBUtilities.LogError(e)}}}}function C(){const{track:e}=S();return{SeoStudioOpened:t=>{e("Seo Studio Opened",t)},SeoStudioClosed:t=>{e("Seo Studio Closed",t)},SeoStudioNavigated:t=>{const o=["Start Page","Title / Description","Tags","Thumbnail","Apply To Video"];if(t.hasOwnProperty("step")){const e=o[t.step];t={...t,tab:e}}e("Seo Studio Navigated",t)},SeoStudioSaved:t=>{e("Seo Studio Saved",t)},SeoStudioApplied:t=>{e("Seo Studio Applied",t)},SeoStudioClicked:t=>{e("Seo Studio Clicked",t)},SeoStudioUsed:t=>{e("Seo Studio Used",t)}}}function V(e){const{SeoStudioSaved:t}=C(),o=e=>({Id:e.draftId?e.draftId:null,Keyword:e.keyword?e.keyword:"",Score:e.score?e.score:0,Title:e.title?e.title:null,Description:e.description?e.description:null,Tags:e.tags?e.tags:null,IsActive:!!e.IsActive&&e.IsActive,VideoId:e.VideoId?e.VideoId:null,ThumbnailDataUrl:e.ThumbnailDataUrl?e.ThumbnailDataUrl:null}),r=t=>{if(void 0===t)return;let r=o(t);return new Promise(((t,o)=>{const n=TBGlobal.host+TBGlobal.apiUrls.seoScoreAddScore;TBExtension.Post(n,JSON.stringify(r),((r,n,a)=>{if(r){const o=JSON.parse(a);e.commit("setMetaData",{draftId:o}),t(o)}else o(JSON.parse(a))}),null,{contentType:"application/json",dataType:"text"})}))},n=e=>{if(void 0===e)return;let t=o(e);return new Promise(((o,r)=>{const n=TBGlobal.host+TBGlobal.apiUrls.seoScoreUpdateScore;TBExtension.Post(n,JSON.stringify(t),((t,n,a)=>{t?o(e.draftId):r(JSON.parse(a))}),null,{contentType:"application/json",dataType:"text"})}))};return{create:r,read:()=>new Promise(((t,o)=>{const r=TBGlobal.host+TBGlobal.apiUrls.seoScoreGetScores;TBExtension.Get(r,((r,n,a)=>{if(r){const o=JSON.parse(a);o.forEach((e=>{e.ThumbnailUrl&&(e.ThumbnailUrl+="?v="+new Date)})),e.commit("setDrafts",o),t("Drafts read")}else o(JSON.parse(a))}),null,{contentType:"application/json",dataType:"text"})})),update:n,remove:t=>{if(void 0!==t)return new Promise(((o,r)=>{const n="Are you sure you want to delete the saved optimization for "+t.Keyword+"?";TBUtilities.Confirm(n,(()=>{const n=TBGlobal.host+TBGlobal.apiUrls.seoScoreDeleteScore;TBExtension.Post(n,JSON.stringify({Id:t.Id}),((n,a,i)=>{if(!n)return void r(JSON.parse(i));const l=e.getters.getDrafts.filter((e=>e.Id!==t.Id));e.commit("setDrafts",l),o("Draft removed")}),null,{contentType:"application/json",dataType:"text"})}),null)}))},updateOrCreate:(o=!1)=>{const a=e.getters.getMetaData,i=e.getters.getTargetKeyword,l=e.getters.getVideoContext;if(e.getters.getTagCharacterCount>500)return TBUtilities.Alert("Your tags exceed the 500 character limit. Your draft was not saved. Please correct the issue and retry."),!1;let s={keyword:i,title:a.title,description:a.description,tags:a.tags.join(","),isActive:!0,score:e.getters.getOverallSeoScore};return a.customThumbnail&&a.customThumbnail.indexOf("data:image/")>-1&&(s.ThumbnailDataUrl=a.customThumbnail),l&&o&&(s.VideoId=l),null!=a.draftId&&(s.draftId=a.draftId),t({keyword:i,seo_score:e.getters.getOverallSeoScore}),s.draftId?n(s):r(s)},setPayload:o}}function B(e){const t=t=>{for(let o=0;o<t;o++)e.commit("saveStep",{index:o,value:!0})},o=()=>e.getters.getTagCharacterCount>500,r=()=>{e.commit("resetSteps"),e.commit("resetTargetKeyword"),e.commit("resetSeoScore"),e.getters.getVideo.videoId?e.commit("setMetaData",{videoId:e.getters.getVideo.videoId,videoDurationMs:e.getters.getVideo.videoDurationMs,title:e.getters.getVideo.title,description:e.getters.getVideo.description,thumbnails:e.getters.getVideo.thumbnailDetails.thumbnails,tags:e.getters.getVideo.tags?e.getters.getVideo.tags.map((e=>e.value)):[]}):e.commit("resetMetaData")};return{goToStep:(n,a=!1)=>{if(o())return void TBUtilities.Alert("Your tags exceed the 500 character limit. To proceed please correct the issue and retry.");const{updateOrCreate:i}=V(e),l=e.getters.getCurrentStep;if(n!=l){if(0===n&&a)r(),e.commit("setCurrentStep",n);else if(0===n)return void TBUtilities.Confirm("Would you like to save changes to this optimization before you go?",(async()=>{await i(),e.commit("setCurrentPreview",!0),r(),e.commit("setCurrentStep",n)}),(()=>{r(),e.commit("setCurrentStep",n)})).set({labels:{ok:"Yes",cancel:"No"}});e.commit("setCurrentStep",n),t(n)}},next:()=>{if(o())return void TBUtilities.Alert("Your tags exceed the 500 character limit. To proceed please correct the issue and retry.");let r=e.getters.getCurrentStep;e.commit("setCurrentStep",++r),t(r)},back:()=>{if(o())return void TBUtilities.Alert("Your tags exceed the 500 character limit. To proceed please correct the issue and retry.");const{updateOrCreate:t}=V(e);let n=e.getters.getCurrentStep;1!==n?e.commit("setCurrentStep",--n):TBUtilities.Confirm("Would you like to save changes to this optimization before you go?",(async()=>{await t(),e.commit("setCurrentPreview",!0),r(),e.commit("setCurrentStep",--n)}),(()=>{r(),e.commit("setCurrentStep",--n)})).set({labels:{ok:"Yes",cancel:"No"}})}}}function N(){return{addSaveChannelAction:()=>{try{TBUtilities.AddAction({},TBUtilities.ActionTypes.SEOStudio_Save,"seostudio")}catch(e){TBUtilities.LogError({Exception:e,Location:"[TubeBuddySEOStudioVUE] addSaveChannelAction"})}},applyToVideoChannelAction:()=>{try{TBUtilities.AddAction({},TBUtilities.ActionTypes.SEOStudio_ApplyToVideo,"seostudio")}catch(e){TBUtilities.LogError({Exception:e,Location:"[TubeBuddySEOStudioVUE] applyToVideo"})}}}}const I={class:"tb-px-4 tb-py-3 tb-flex tb-items-center tb-justify-between"},D={class:"tb-flex tb-justify-start"},M=(0,r.createTextVNode)("back"),L={key:1},O={key:0,class:"tb-flex tb-justify-between"},j=(0,r.createTextVNode)("save draft"),A=(0,r.createTextVNode)("next"),U={setup(e){const o=(0,t.useStore)(),n=(0,r.computed)((()=>o.getters.getCurrentStep)),{back:a,next:i,goToStep:l}=B(o),{updateOrCreate:s}=V(o),{addSaveChannelAction:c}=N();async function d(){try{if(!1===await s())return;o.commit("resetMetaData"),o.commit("setCurrentPreview",!0),c(),l(0,!0)}catch(e){console.error(e)}}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",I,[(0,r.createElementVNode)("div",D,[(0,r.unref)(n)>0?((0,r.openBlock)(),(0,r.createBlock)(x,{key:0,onBtnClicked:(0,r.unref)(a),class:"tb-bg-gray-100 hover:tb-bg-gray-200 tb-text-gray-600 tb-mr-2"},{default:(0,r.withCtx)((()=>[M])),_:1},8,["onBtnClicked"])):(0,r.createCommentVNode)("",!0),(0,r.unref)(n)>0&&(0,r.unref)(n)<3?((0,r.openBlock)(),(0,r.createElementBlock)("div",L,[(0,r.createVNode)(E)])):(0,r.createCommentVNode)("",!0)]),(0,r.unref)(n)<4?((0,r.openBlock)(),(0,r.createElementBlock)("div",O,[(0,r.createVNode)(x,{onBtnClicked:d,class:"tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white tb-mr-2"},{default:(0,r.withCtx)((()=>[j])),_:1}),(0,r.createVNode)(x,{onBtnClicked:(0,r.unref)(i),class:"tb-bg-green-500 hover:tb-bg-green-600 tb-text-white"},{default:(0,r.withCtx)((()=>[A])),_:1},8,["onBtnClicked"])])):(0,r.createCommentVNode)("",!0)]))}},P=["height","width"],_=[(0,r.createElementVNode)("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,r.createElementVNode)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},null,-1)],z={name:"GreenCheckMark",props:{width:{type:String,default:"18"},height:{type:String,default:"18"}}},F=(0,v.Z)(z,[["render",function(e,t,o,n,a,i){return(0,r.openBlock)(),(0,r.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",height:`${o.height}px`,width:`${o.width}px`,class:"tb-fill-current"},_,8,P)}]]),G={class:"tb-seo-studio-tab-navigation-container tb-flex tb-items-center tb-text-center tb-justify-start tb-w-full tb-bg-gray-100 tb-uppercase"},R=(0,r.createTextVNode)("Title & Description "),Q=(0,r.createTextVNode)("Tags "),H=(0,r.createTextVNode)("Thumbnails "),K=(0,r.createTextVNode)("Apply to Video "),W={setup(e){const o=(0,t.useStore)(),n=(0,r.computed)((()=>o.getters.getCurrentStep)),{goToStep:a}=B(o);function i(e){return o.getters.getSavedStep(e)}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",G,[(0,r.createElementVNode)("div",{onClick:t[0]||(t[0]=e=>(0,r.unref)(a)(1)),class:(0,r.normalizeClass)(["tb-cursor-pointer tb-flex-1 tb-flex tb-my-6 tb-h-full tb-items-center tb-justify-center tb-border-b-2 tb-border-white tb-border-solid",{"tb-border-blue-500":1==(0,r.unref)(n)}])},[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["tb-mr-2",{"tb-font-bold":1==(0,r.unref)(n)}])},"Step 1:",2),R,i(1)?((0,r.openBlock)(),(0,r.createBlock)(F,{key:0,class:"tb-ml-2 tb-text-green-500",width:"24",height:"24"})):(0,r.createCommentVNode)("",!0)],2),(0,r.createElementVNode)("div",{onClick:t[1]||(t[1]=e=>(0,r.unref)(a)(2)),class:(0,r.normalizeClass)(["tb-cursor-pointer tb-w-1/5 tb-flex tb-my-6 tb-h-full tb-items-center tb-justify-center tb-border-b-2 tb-border-white tb-border-solid",{"tb-border-blue-500":2==(0,r.unref)(n)}])},[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["tb-mr-2",{"tb-font-bold":2==(0,r.unref)(n)}])},"Step 2:",2),Q,i(2)?((0,r.openBlock)(),(0,r.createBlock)(F,{key:0,class:"tb-ml-2 tb-text-green-500",width:"24",height:"24"})):(0,r.createCommentVNode)("",!0)],2),(0,r.createElementVNode)("div",{onClick:t[2]||(t[2]=e=>(0,r.unref)(a)(3)),class:(0,r.normalizeClass)(["tb-cursor-pointer tb-w-1/4 tb-flex tb-my-6 tb-h-full tb-items-center tb-justify-center tb-border-b-2 tb-border-white tb-border-solid",{"tb-border-blue-500":3==(0,r.unref)(n)}])},[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["tb-mr-2",{"tb-font-bold":3==(0,r.unref)(n)}])},"Step 3:",2),H,i(3)?((0,r.openBlock)(),(0,r.createBlock)(F,{key:0,class:"tb-ml-2 tb-text-green-500",width:"24",height:"24"})):(0,r.createCommentVNode)("",!0)],2),(0,r.createElementVNode)("div",{onClick:t[3]||(t[3]=e=>(0,r.unref)(a)(4)),class:(0,r.normalizeClass)(["tb-cursor-pointer tb-w-1/4 tb-flex tb-my-6 tb-h-full tb-items-center tb-justify-center tb-border-b-2 tb-border-white tb-border-solid",{"tb-border-blue-500":4==(0,r.unref)(n)}])},[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["tb-mr-2",{"tb-font-bold":4==(0,r.unref)(n)}])},"Step 4:",2),K],2)]))}};function Y(e){const t=TubeBuddyKeywordExplorer.GetScoreColors();return{addTag:(t,o,r)=>{if(!(t=DOMPurify.sanitize(t.replace(/\s+/g," ").trim()))||t.length<2)return;let n=e.getters.getMetaTags?e.getters.getMetaTags:[];t.indexOf("<")>-1||t.indexOf(">")>-1?TBUtilities.Alert("Sorry, <b> < </b> and <b> > </b> are invalid characters for tags."):!o&&n&&n.length>0&&n.indexOf(t)>-1?r&&TBUtilities.Alert('"'+t+'" has already been added.',null):(o?(n.length>0&&n.indexOf(t)>-1&&n.splice(n.indexOf(t),1),n.unshift(t)):n.indexOf(t)<0&&n.push(t),e.commit("setMetaTags",n))},getTagScoreBorderColor:e=>{switch(!0){case e<=20:return t[0];case e>20&&e<40:return t[1];case e>=40&&e<60:return t[2];case e>=60&&e<80:return t[3];default:return t[4]}},scoreTags:e=>new Promise(((t,o)=>{e&&0!==e.length||o("no tags provided");const r=TBGlobal.host+TBGlobal.apiUrls.tagScoreGetStored,n=TBGlobal.GetPrefCookieObject(),a={Region:"us",Tags:e,Language:"en"};n&&n.gl&&(a.Region=n.gl),n&&n.hl&&(a.Language=n.hl),TBExtension.Post(r,JSON.stringify(a),((e,r,n)=>{e?t(JSON.parse(n)):o("Error fetching tag scores.")}),null,{contentType:"application/json",dataType:"text"})}))}}const q={class:"tb-flex"},J=[(0,r.createElementVNode)("i",{class:"material-icons tb-mat-icon-sm"},"help_outline",-1)],Z={props:{item:Object,scrollTop:Number},setup(e){const t=(0,r.ref)(!1),o=(0,r.ref)(null);return(n,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["tb-flex tb-items-center tb-justify-between tb-my-1 tb-p-2 tb-rounded-md",{"tb-bg-red-100":!e.item.isCompleted,"tb-bg-green-100":e.item.isCompleted}]),ref:(e,t)=>{t.improveItem=e,o.value=e}},[(0,r.createElementVNode)("div",q,[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)(["material-icons tb-red tb-mr-1 tb-mat-icon-sm",{"tb-green":e.item.isCompleted}])},(0,r.toDisplayString)(e.item.isCompleted?"check":"close"),3),(0,r.createElementVNode)("span",null,[(0,r.createTextVNode)((0,r.toDisplayString)(e.item.shortText)+" ",1),(0,r.renderSlot)(n.$slots,"action")])]),(0,r.createElementVNode)("span",{class:"tb-py-2",onMouseover:a[0]||(a[0]=e=>{t.value=!0}),onMouseleave:a[1]||(a[1]=e=>{t.value=!1})},J,32),t.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:"tb-bg-gray-800 tb-text-white tb-font-light tb-shadow-md tb-rounded-md tb-p-3 tb-z-20 tb-absolute tb-right-16 tb-max-w-md tb-max-h-md",style:(0,r.normalizeStyle)({top:o.value.offsetTop+o.value.offsetHeight-e.scrollTop+"px"})},(0,r.toDisplayString)(e.item.detailText),5)):(0,r.createCommentVNode)("",!0)],2))}},X={id:"tb-seo-studio-vue-score-chart",title:"TubeBuddy SEO Score",min:0,max:100,gaugeWidthScale:1,symbol:"%",valueFontFamily:"inherit",valueFontColor:"#666",customSectors:{ranges:[{color:"#dea85d",lo:0,hi:50},{color:"#dcde5d",lo:51,hi:70},{color:"#6cc861",lo:71,hi:100}]},donut:!0,counter:!0,startAnimationTime:1e3,refreshAnimationTime:1e3,label:" "},ee={class:"tb-p-2 tb-ml-5"},te={class:"tb-w-full tb-mb-3"},oe=(0,r.createElementVNode)("div",{class:"tb-w-full tb-flex tb-justify-center"},[(0,r.createElementVNode)("span",{class:"tb-text-2xl tb-font-semibold"},"TubeBuddy SEO Score")],-1),re={class:"tb-w-full tb-flex tb-items-center tb-justify-center"},ne={key:0,id:"tb-seo-studio-vue-score-chart"},ae={class:"tb-w-full tb-mb-3 tb-p-2 tb-rounded-md tb-shadow-lg"},ie={class:"tb-flex tb-items-center tb-justify-between"},le=(0,r.createElementVNode)("span",{class:"tb-red tb-flex tb-items-center"},[(0,r.createElementVNode)("i",{class:"material-icons tb-mr-2 tb-mat-icon-md"},"my_location"),(0,r.createElementVNode)("span",{class:"tb-text-2xl tb-font-semibold tb-uppercase"},"Target Keyword")],-1),se={class:"tb-w-full tb-p-2 tb-rounded-md tb-shadow-lg"},ce={class:"tb-flex tb-items-center tb-mb-2"},de=["src"],ue={class:"tb-text-2xl tb-font-semibold"},me={key:1},be={key:2},pe={class:"tb-flex"},ge=(0,r.createElementVNode)("i",{class:"material-icons tb-mat-icon-md tb-mr-1"},"arrow_right",-1),fe=(0,r.createElementVNode)("div",{class:"tb-border-t tb-border-gray-400 tb-border-solid tb-border-opacity-70 tb-mt-2 tb-pt-2"},[(0,r.createElementVNode)("small",null,"Thumbnails don't impact search ranking, but a professional thumbnail can impact your click through rate.")],-1),he={setup(e){const o=(0,t.useStore)(),n=(0,r.computed)((()=>o.getters.getCurrentStep||0)),a=(0,r.computed)((()=>o.getters.getTargetKeyword||"not set")),i=(0,r.computed)((()=>TBUtilities.FixLocalHtml("{PLUGIN_FILE_ROOT}/images/icons/lightbulb.png"))),{goToStep:l}=B(o),{fetchScoreWithDelay:s}=function(e){let t;const o=()=>new Promise(((t,o)=>{TBUtilities.Log("Fetching SEO Studio Score");const r=e.getters.getMetaTags&&e.getters.getMetaTags.length?e.getters.getMetaTags:[""],n={targetKeyword:e.getters.getTargetKeyword.length?e.getters.getTargetKeyword:null,title:e.getters.getMetaTitle,description:e.getters.getMetaDescription,tags:r},a=TBGlobal.host+TBGlobal.apiUrls.seoScoreGetCalculation;TBExtension.Post(a,JSON.stringify(n),((r,n,a)=>{try{r?(e.commit("setSeoScore",JSON.parse(a)),t("Fetched updated SEO score")):o(`Error fetching SEO Score. Res: ${a}`)}catch(e){TBUtilities.Log(e),o(`Exception fetching SEO Score. Ex: ${e}`)}}),null,{contentType:"application/json",dataType:"text"})}));return{fetchScoreWithDelay:(e=1e3)=>{clearTimeout(t),t=setTimeout((()=>{o()}),e)},fetchSeoScore:o}}(o),{addTag:c}=Y(o),d=(0,r.computed)((()=>o.getters.getSeoScore)),u=(0,r.ref)(0);s(0);let m=null;function b(){const e=a.value.split(",").reverse();if(1===e.length)c(a.value,!0,!1);else for(const t of e)c(t.trim(),!0,!1)}function p(e){u.value=e.target.scrollTop}const g=o.subscribe(((e,t)=>{["setMetaData","resetTargetKeyword","setTargetKeyword","setMetaTitle","setMetaDescription","setMetaTags","resetMetaData"].indexOf(e.type)>-1&&s(),"setSeoScore"===e.type&&(m?m.refresh(t.seoScore.seoScore.overallScore):function(e){let t=Object.assign(X,{value:e});m&&m.destroy(),m=new JustGage(t)}(t.seoScore.seoScore.overallScore)),"resetTargetKeyword"!==e.type&&"setCurrentStep"!==e.type||(u.value=0)}));return(0,r.onBeforeUnmount)((()=>{g()})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",ee,[(0,r.createElementVNode)("div",te,[oe,(0,r.createElementVNode)("div",re,[(0,r.unref)(d)?((0,r.openBlock)(),(0,r.createElementBlock)("div",ne)):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",ae,[(0,r.createElementVNode)("div",ie,[le,(0,r.createElementVNode)("a",{onClick:t[0]||(t[0]=e=>(0,r.unref)(l)(0))},"change keyword")]),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["tb-ml-10 tb-font-semibold",{"tb-text-2xl":(0,r.unref)(a).length<=30}])},(0,r.toDisplayString)((0,r.unref)(a)),3)]),(0,r.createElementVNode)("div",se,[(0,r.createElementVNode)("div",ce,[(0,r.createElementVNode)("img",{src:(0,r.unref)(i),alt:"lightbulb",height:"20",class:"tb-mr-2"},null,8,de),(0,r.createElementVNode)("span",ue,(0,r.toDisplayString)((0,r.unref)(n)<3?"How to Improve Your Score":"Thumbnail Tips"),1)]),1===(0,r.unref)(n)?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"tb-max-h-80 tb-overflow-y-auto",onScroll:p},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(d).metaImprovements,(e=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Z),{item:e,scrollTop:u.value},null,8,["item","scrollTop"])))),256))],32)):(0,r.createCommentVNode)("",!0),2===(0,r.unref)(n)?((0,r.openBlock)(),(0,r.createElementBlock)("div",me,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(d).tagImprovements,((e,t)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Z),{item:e,scrollTop:parseInt(0)},(0,r.createSlots)({_:2},[0!==t||e.isCompleted?void 0:{name:"action",fn:(0,r.withCtx)((()=>[(0,r.createElementVNode)("a",{onClick:b},"add now")]))}]),1032,["item","scrollTop"])))),256))])):(0,r.createCommentVNode)("",!0),3===(0,r.unref)(n)?((0,r.openBlock)(),(0,r.createElementBlock)("div",be,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(d).thumbnailTips,(e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",pe,[ge,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e),1)])))),256)),fe])):(0,r.createCommentVNode)("",!0)])]))}},ve=he,ye={class:"tb-flex tb-flex-wrap"},xe=["src"],we=(0,r.createElementVNode)("span",{class:"tb-text-3xl tb-font-medium tb-w-full tb-text-center"},"Boost your Rank in Search Results!",-1),ke={setup(e){const t=(0,r.computed)((()=>TBUtilities.FixLocalHtml("{PLUGIN_FILE_ROOT}/images/screenshots/seo-studio-first-screen-green-arrows.png")));return(e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",ye,[(0,r.createElementVNode)("img",{id:"tb-seo-studio-thumbnail-preview",src:(0,r.unref)(t),class:"tb-mx-auto"},null,8,xe),we]))}},Te={class:"tb-flex tb-flex-wrap"},Ee=(0,r.createElementVNode)("p",{class:"tb-mb-5 tb-text-center tb-px-20 tb-w-full tb-text-2xl"}," Find a keyword with a high overall score (using Keyword Explorer) to help get your video ranked higher in search results. ",-1),Se=(0,r.createTextVNode)(" launch keyword explorer "),Ce={setup(e){const o=(0,t.useStore)(),n=(0,r.computed)((()=>o.getters.getCallBtn));function a(){jQuery("body").trigger("TBcloseSeoStudioVue"),TubeBuddyKeywordExplorer.Show(null,null,null,n.value)}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Te,[Ee,(0,r.createVNode)(x,{class:"tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white tb-font-medium tb-text-align-center tb-mx-auto",onBtnClicked:a},{default:(0,r.withCtx)((()=>[Se])),_:1})]))}},Ve=["height","width"],Be=[(0,r.createElementVNode)("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),(0,r.createElementVNode)("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},null,-1)],Ne={props:{width:{type:String,default:"18"},height:{type:String,default:"18"}},name:"CloseIcon"},Ie=(0,v.Z)(Ne,[["render",function(e,t,o,n,a,i){return(0,r.openBlock)(),(0,r.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",height:`${o.height}px`,viewBox:"0 0 24 24",width:`${o.width}px`,class:"tb-fill-current"},Be,8,Ve)}]]),De={class:"tb-flex tb-flex-wrap tb-w-full"},Me={class:"tb-w-full tb-flex tb-mb-2"},Le={key:0,class:"tb-seo-studio-message tb-seo-studio-message--success",id:"tb-seo-studio-optimization-saved-message"},Oe={class:"tb-text-right"},je=[(0,r.createElementVNode)("i",{class:"material-icons tb-font-size18 tb-margin-right3"},"close",-1)],Ae=(0,r.createElementVNode)("div",{class:"tb-seo-studio-message-text"}," Optimization saved successfully. Launch SEO Studio from a Video Edit Page or Uploads to apply to a video. ",-1),Ue={key:0,class:"tb-seo-studio-drafts-container tb-w-full tb-overflow-y-auto"},Pe=["onClick"],_e=["onClick"],$e={key:1,class:"tb-seo-studio-drafts-container tb-w-full tb-overflow-y-auto"},ze=["onClick"],Fe={class:"tb-mr-3 tb-font-medium"},Ge={setup(e){const o=(0,t.useStore)(),n=(0,r.ref)("drafts"),a=(0,r.computed)((()=>o.getters.getDrafts.filter((e=>null==e.VideoId)))),i=(0,r.computed)((()=>o.getters.getDrafts.filter((e=>null!=e.VideoId)))),l=(0,r.computed)((()=>o.getters.getCurrentPreview)),{goToStep:s}=B(o),{read:c,remove:d}=V(o);function u(e){e!=n.value&&(n.value=e)}function m(e){const t=e.Tags?e.Tags.split(",").map((e=>e.trim())):[],r={title:e.Title,description:e.Description,tags:t,draftId:e.Id};e.ThumbnailUrl&&(r.thumbnails=[,{url:e.ThumbnailUrl}],r.customThumbnail=e.ThumbnailUrl);const n=e.Keyword;o.commit("setTargetKeyword",n),o.commit("setMetaData",r),s(1)}function b(){o.commit("resetCurrentPreview")}return(0,r.onBeforeMount)((()=>{c()})),(0,r.onMounted)((()=>{setTimeout((()=>{l&&b()}),1e4)})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",De,[(0,r.createElementVNode)("div",Me,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["tb-w-1/2 tb-uppercase tb-border-solid tb-border-b-4 tb-border-gray-200 tb-cursor-pointer tb-text-center",{"tb-border-blue-500":"drafts"==n.value}]),onClick:t[0]||(t[0]=e=>u("drafts"))},"Drafts",2),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["tb-w-1/2 tb-uppercase tb-border-solid tb-border-b-4 tb-border-gray-200 tb-cursor-pointer tb-text-center",{"tb-border-blue-500":"applied"==n.value}]),onClick:t[1]||(t[1]=e=>u("applied"))},"Applied",2)]),(0,r.createVNode)(r.Transition,{name:"fade"},{default:(0,r.withCtx)((()=>[(0,r.unref)(l)?((0,r.openBlock)(),(0,r.createElementBlock)("div",Le,[(0,r.createElementVNode)("div",Oe,[(0,r.createElementVNode)("a",{class:"tb-seo-studio-message-close",onClick:t[2]||(t[2]=e=>b())},je)]),Ae])):(0,r.createCommentVNode)("",!0)])),_:1}),"drafts"==n.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ue,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(a),(e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.Id,class:"tb-flex tb-items-center tb-justify-between tb-py-3"},[(0,r.createElementVNode)("div",{onClick:t=>m(e),class:"tb-cursor-pointer tb-text-blue-500 tb-font-medium"},(0,r.toDisplayString)(e.Keyword),9,Pe),(0,r.createElementVNode)("div",{onClick:t=>(0,r.unref)(d)(e),class:"tb-cursor-pointer tb-text-gray-200 hover:tb-text-gray-300"},[(0,r.createVNode)(Ie,{width:"22",height:"22"})],8,_e)])))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",$e,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(i),(e=>{return(0,r.openBlock)(),(0,r.createElementBlock)("div",{onClick:t=>m(e),key:e.Id,class:"tb-py-3 tb-border-line tb-border-bottom tb-border-gray-100 tb-cursor-pointer"},[(0,r.createElementVNode)("span",Fe,(0,r.toDisplayString)(e.Keyword),1),(0,r.createTextVNode)("("+(0,r.toDisplayString)((t=e.DateModified,moment(t).format("M/D/YY")))+") ",1)],8,ze);var t})),128))]))]))}},Re=Ge,Qe={class:"tb-flex tb-flex-wrap tb-w-full"},He={id:"tb-seo-studio-suggested-keywords-container",class:"tb-w-full tb-overflow-y-auto"},Ke=["onClick"],We={class:"tb-cursor-pointer tb-text-blue-500 hover:text-blue-600 tb-font-medium"},Ye={setup(e){const o=(0,t.useStore)(),n=(0,r.ref)([]),a=(0,r.computed)((()=>n.value)),{goToStep:i}=B(o);return(0,r.onBeforeMount)((()=>{!function(){const e=o.getters.getMetaData.title;TubeBuddyYouTubeActions.GetYouTubeAutoComplete(function(){const e=jQuery("body")[0].outerHTML,t=e.indexOf('PSUGGEST_TOKEN":"')+'PSUGGEST_TOKEN":"'.length,o=e.indexOf('"',t);return e.substring(t,o)}(),e,(function(e){n.value=e}))}()})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Qe,[(0,r.createElementVNode)("div",He,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(a),(e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{onClick:t=>function(e){o.commit("setTargetKeyword",e),i(1)}(e),key:e,class:"tb-py-2 tb-cursor-pointer"},[(0,r.createElementVNode)("span",We,(0,r.toDisplayString)(e),1)],8,Ke)))),128))])]))}};function qe(){return{canAccess:()=>!!TBGlobal.CanAccessLevel1Tools()||(TBGlobal.ShowUpgradePage("use SEO Studio",TBGlobal.limitation.seostudio),jQuery("body").trigger("TBcloseSeoStudioVue"),TubeBuddyMenu.HideBackground(),!1),CanAccessLevel1Tools:(e,t,o)=>!!TBGlobal.CanAccessLevel1Tools()||(TBGlobal.ShowUpgradePage(e,t),jQuery("body").trigger(o),TubeBuddyMenu.HideBackground(),!1),CanAccessLevel2Tools:(e,t,o)=>!!TBGlobal.CanAccessLevel2Tools()||(TBGlobal.ShowUpgradePage(e,t),jQuery("body").trigger(o),TubeBuddyMenu.HideBackground(),!1),CanAccessLevel3Tools:(e,t,o)=>!!TBGlobal.CanAccessLevel3Tools()||(TBGlobal.ShowUpgradePage(e,t),jQuery("body").trigger(o),TubeBuddyMenu.HideBackground(),!1)}}function Je(e){return{set:t=>{if(!t||0===t.length){const t=e.getters.getVideo.videoId?"Please enter a Target Keyword or click on a suggestion or saved optimization.":"Please enter a Target Keyword or click on a saved optimization.";return TBUtilities.Alert(t,null),!1}if(t.indexOf("<")>-1||t.indexOf(">")>-1)return TBUtilities.Alert("Your keyword cannot contain angled brackets",null),!1;if(t=DOMPurify.sanitize(t).trim(),e.commit("setTargetKeyword",t),!e.getters.getVideo.videoId){const o=[...t.split(",")].map((e=>e.trim()));e.commit("setMetaData",{title:t,description:t,tags:o})}return!0}}}const Ze={id:"tb-select-target-kw-container",class:"tb-flex tb-mx-8 tb-my-10 tb-items-center tb-justified-around"},Xe={id:"tb-select-target-kw-left-menu",class:"tb-flex tb-flex-wrap"},et=(0,r.createElementVNode)("div",{class:"tb-w-full tb-text-3xl tb-text-gray-500 tb-mb-10 tb-leading-snug"},[(0,r.createTextVNode)(" Build the perfect searchable "),(0,r.createElementVNode)("span",{class:"tb-font-bold"},"Title, Description"),(0,r.createTextVNode)(" and "),(0,r.createElementVNode)("span",{class:"tb-font-bold"},"Tags"),(0,r.createTextVNode)(" for your video. ")],-1),tt={class:"tb-flex tb-w-5/6 tb-mb-3"},ot=(0,r.createTextVNode)(" start "),rt=["onClick"],nt={class:"tb-w-full tb-flex tb-flex-wrap"},at={setup(e){const o=(0,t.useStore)(),n=(0,r.ref)(""),a=(0,r.ref)(null),i=(0,r.shallowRef)(ke),l=(0,r.computed)((()=>i.value)),s=(0,r.computed)((()=>o.getters.getVideo.videoId&&!o.getters.getVideo.tags)),{canAccess:c}=qe(),{set:d}=Je(o);function u(e){c()&&(i.value=e)}function m(e){c()&&(d(e)&&o.commit("setCurrentStep",1),n.value="",a.value.focus())}function b(){TBUtilities.Alert('A "Target Keyword" is generally a 3-6 word phrase that is the core search term you want your video to rank for in YouTube search results.<br><br>As an example, your entire video title might be "How to find your niche on YouTube in 2020 (Must watch!)" but the Target Keyword within that, is "find your niche on YouTube".')}return(0,r.onMounted)((()=>{o.getters.getCurrentPreview&&u(Re)})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Ze,[(0,r.createElementVNode)("div",Xe,[et,(0,r.createElementVNode)("div",tt,[(0,r.withDirectives)((0,r.createElementVNode)("input",{ref:(e,t)=>{t.targetKeywordInput=e,a.value=e},"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),type:"text",spellcheck:"false",class:"tb-border tb-rounded-sm tb-border-solid focus:tb-outline-none tb-border-gray-300 focus:tb-border-gray-300 tb-flex-1 tb-mr-2 tb-px-2",placeholder:"Enter your Target Keyword",onKeyup:t[1]||(t[1]=(0,r.withKeys)((e=>m(n.value)),["enter"]))},null,544),[[r.vModelText,n.value]]),(0,r.createVNode)(x,{class:"tb-flex-initial tb-bg-green-500 hover:tb-bg-green-600 tb-text-white tb-font-medium",onBtnClicked:t[2]||(t[2]=e=>m(n.value))},{default:(0,r.withCtx)((()=>[ot])),_:1})]),(0,r.createElementVNode)("a",{class:"tb-w-full tb-text-gray-400 tb-mb-10 tb-ml-3",href:"#",onClick:(0,r.withModifiers)(b,["prevent"])},'What\'s a "Target Keyword"?',8,rt),(0,r.createElementVNode)("div",nt,[(0,r.createElementVNode)("a",{class:"tb-text-2xl tb-text-blue-500 tb-mb-4 tb-w-full",href:"#",onClick:t[3]||(t[3]=(0,r.withModifiers)((e=>u(Ce)),["prevent"]))},"Help me find the right Target Keyword..."),(0,r.createElementVNode)("a",{class:"tb-text-2xl tb-text-blue-500 tb-mb-4 tb-w-full",href:"#",onClick:t[4]||(t[4]=(0,r.withModifiers)((e=>u(Re)),["prevent"]))},"Load from saved draft..."),(0,r.unref)(s)?((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:0,class:"tb-text-2xl tb-text-blue-500 tb-mb-4 tb-w-full",href:"#",onClick:t[5]||(t[5]=(0,r.withModifiers)((e=>u(Ye)),["prevent"]))},"Show me a few suggestions...")):(0,r.createCommentVNode)("",!0)])]),((0,r.openBlock)(),(0,r.createBlock)(r.KeepAlive,null,[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)((0,r.unref)(l))))],1024))]))}},it=at;class lt{static getCurrentCursorPosition(e){var t,o=window.getSelection(),r=-1;if(o.focusNode&&lt._isChildOf(o.focusNode,e))for(t=o.focusNode,r=o.focusOffset;t&&t!==e;)if(t.previousSibling)r+=(t=t.previousSibling).textContent.length;else if(null===(t=t.parentNode))break;return r}static setCurrentCursorPosition(e,t){if(e>=0){var o=window.getSelection();let r=lt._createRange(t,{count:e});r&&(r.collapse(!1),o.removeAllRanges(),o.addRange(r))}}static _createRange(e,t,o){if(o||((o=document.createRange()).selectNode(e),o.setStart(e,0)),0===t.count)o.setEnd(e,t.count);else if(e&&t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(o.setEnd(e,t.count),t.count=0);else for(var r=0;r<e.childNodes.length&&(o=lt._createRange(e.childNodes[r],t,o),0!==t.count);r++);return o}static _isChildOf(e,t){for(;null!==e;){if(e===t)return!0;e=e.parentNode}return!1}}function st(e){const t=e=>e.replace(/[.,\/#!$+%\^&\*;:{}=\-_`~()]/g,"").toLowerCase().normalize("NFKC"),o=o=>{const r=e.getters.getTargetKeyword;return!!(o&&o.length>0&&r&&r.length>0)&&t(o)==t(r)};return{checkExactMatch:o,highlightMatches:(t,r,n,a)=>{if(!t)return"";let i=e.getters.getTargetKeyword;if("string"!=typeof i)return;i=i.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");const l=i.split(" ").length>1?i.split(" "):[i];let s=`(${i})`;l.length>1&&(s+="|(",l.forEach(((e,t)=>{s+=t<l.length-1?`${e}|`:`${e}`})),s+=")");const c=new RegExp(s,"gi");return o(t)&&r||(t=t.replace(c,((e,t,o,r,i)=>t?`<span class="tb-bg-green-400 ${n?"tb-text-green-400":""} tb-rounded"${a?' style="'+a+'"':""}>${t}</span>`:`<span class="tb-bg-green-200 ${n?"tb-text-green-200":""} tb-rounded"${a?' style="'+a+'"':""}>${o}</span>`))),DOMPurify.sanitize(t,DOMPurifyConfig)}}}const ct={class:"tb-w-full tb-p-2 tb-rounded tb-appearance-none tb-border tb-border-solid tb-border-gray-200 tb-overflow-hidden"},dt=["innerHTML"],ut={class:"tb-w-full tb-flex tb-flex-wrap tb-items-center tb-justify-between"},mt={setup(e){const o=(0,t.useStore)(),n=((0,r.ref)(!1),(0,r.ref)(o.getters.getTargetKeyword),(0,r.ref)("Loading...")),a=(0,r.computed)((()=>"No title"===o.getters.getMetaTitle?0:o.getters.getMetaTitle.length)),i=(0,r.ref)(!1),l=(0,r.ref)(null),s=(0,r.ref)(null),{highlightMatches:c}=st(o),d=o.subscribe((e=>{"setMetaData"==e.type&&(s.value.innerHTML=c(e.payload.title,!1,!1))}));function u(e){i.value=!1,l.value="";const t=o.getters.getMetaData;t.title=e.target.innerText.replace(/\n$/g,""),o.commit("setMetaTitle",t.title);const r=e.target,n=lt.getCurrentCursorPosition(r);e.target.innerHTML=c(e.target.innerText,!1,!1),lt.setCurrentCursorPosition(n,r),r.focus()}function m(e){e.preventDefault();let t=(e.originalEvent||e).clipboardData.getData("text/plain");return t.indexOf("<")>-1||t.indexOf(">")>-1?(TBUtilities.Alert("Angled brackets are not allowed"),!1):t.length+a.value>=100?(e.preventDefault(),i.value=!0,l.value="Pasting this will take you over the character limit",!1):(document.execCommand("insertText",!1,t),void u(e))}function b(e){return"Enter"==e.key?(e.preventDefault(),!1):("<"!=e.key&&">"!=e.key||(e.preventDefault(),TBUtilities.Alert("Angled brackets are not allowed")),e.target.innerText.length>=100?(e.preventDefault(),i.value=!0,l.value="Character limit reached",!1):(i.value=!1,void(l.value="")))}return(0,r.onMounted)((()=>{n.value=o.getters.getMetaData.title?o.getters.getMetaData.title:""})),(0,r.onUnmounted)((()=>{d()})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",ct,[(0,r.createElementVNode)("div",{contenteditable:"true",ref:(e,t)=>{t.titleInput=e,s.value=e},onInput:u,onPaste:m,onKeydown:t[0]||(t[0]=(0,r.withModifiers)((()=>{}),["stop"])),onKeypress:b,spellcheck:"false",class:"tb-appearance-none tb-border-none tb-rounded-sm focus:tb-outline-none tb-text-2xl tb-overflow-x-auto tb-mb-1 tb-whitespace-pre",innerHTML:(0,r.unref)(c)(n.value,!1,!1)},null,40,dt),(0,r.createElementVNode)("div",ut,[(0,r.createElementVNode)("div",null,[(0,r.withDirectives)((0,r.createElementVNode)("span",{class:"tb-text-red-500"},(0,r.toDisplayString)(l.value),513),[[r.vShow,i.value]])]),(0,r.createElementVNode)("div",null,(0,r.toDisplayString)((0,r.unref)(a))+"/100",1)])]))}},bt=mt,pt={class:"tb-p-2 tb-rounded tb-appearance-none tb-border tb-border-solid tb-border-gray-200"},gt={class:"tb-relative tb-w-full tb-text-xl mbt-1"},ft=["onKeydown","innerHTML"],ht=["innerHTML"],vt={class:"tb-w-full tb-flex tb-flex-wrap tb-items-center tb-justify-between"},yt={setup(e){const o=(0,t.useStore)(),n=((0,r.ref)(o.getters.getTargetKeyword),(0,r.ref)("Loading...")),a=(0,r.ref)(null),i=(0,r.computed)((()=>"No Description"===o.getters.getMetaDescription?"":o.getters.getMetaDescription)),l=(0,r.computed)((()=>"No Description"===o.getters.getMetaDescription?0:o.getters.getMetaDescription.length)),s=(0,r.ref)(!1),c=(0,r.ref)(null),d=(0,r.ref)(null),{highlightMatches:u}=st(o),m=o.subscribe((e=>{"setMetaData"==e.type&&(d.value.innerHTML=y(e.payload.description))}));function b(e){a.value.scrollTop=e.target.scrollTop}function p(e){const t=(r=h(r=e.target.value.replace(/\n$/g,""),"<br>","\n"),r=h(r,"<p>","\n"),r=h(r,"<div>",""),r=(r=h(r,"</div>","")).replaceAll(/<\/?span|[^>]+>/g,""));var r;if(o.commit("setMetaDescription",t),e.target.value.length>5e3)return e.preventDefault(),s.value=!0,c.value="Character limit reached",!1;s.value=!1,c.value=""}function g(e){n.value=v(e.target.value),p(e)}function f(e){const t="paste"===e.type?(e.originalEvent||e).clipboardData.getData("text/plain"):"";if("keydown"===e.type&&("<"===e.key||">"===e.key)||"paste"===e.type&&(t.indexOf("<")>-1||t.indexOf(">")>-1))return e.preventDefault(),void TBUtilities.Alert("Angled brackets are not allowed")}function h(e,t,o){return e?e.split(t).join(o):""}function v(e){return e=h(e,"\r\n","&#13;&#10;"),e=h(e,"\n","&#10;"),h(e,"\r","&#13;")}function y(e){return e=h(e,"\r\n","<br>"),e=h(e,"\n","<br>"),h(e,"\r","<br>")}return(0,r.onBeforeMount)((()=>{n.value=o.getters.getMetaData.description})),(0,r.onUnmounted)((()=>{m()})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",pt,[(0,r.createElementVNode)("div",gt,[(0,r.createElementVNode)("textarea",{id:"tb-seo-studio-description-textarea",ref:(e,t)=>{t.descInput=e,d.value=e},onInput:p,onKeydown:(0,r.withModifiers)(f,["stop"]),onPaste:f,onChange:g,class:"tb-seo-studio-description-font tb-absolute tb-top-0 tb-left-0 tb-clear-both tb-w-full tb-z-20 tb-appearance-none tb-border-none tb-rounded-sm focus:tb-outline-none tb-overflow-y-auto tb-whitespace-pre-line",onScroll:b,innerHTML:v(n.value)},null,40,ft),(0,r.createElementVNode)("div",{id:"tb-seo-studio-description-bg",ref:(e,t)=>{t.highlighter=e,a.value=e},class:"tb-seo-studio-description-font tb-w-full tb-overflow-y-auto tb-whitespace-pre-line tb-text-white",innerHTML:(0,r.unref)(u)(y((0,r.unref)(i)),!1,!0)},null,8,ht)]),(0,r.createElementVNode)("div",vt,[(0,r.createElementVNode)("div",null,[(0,r.withDirectives)((0,r.createElementVNode)("span",{class:"tb-text-red-500"},(0,r.toDisplayString)(c.value),513),[[r.vShow,s.value]])]),(0,r.createElementVNode)("div",null,(0,r.toDisplayString)((0,r.unref)(l))+"/5000",1)])]))}},xt={class:"tb-my-2 tb-px-4"},wt={class:"tb-w-full tb-flex tb-flex-wrap tb-my-4"},kt=(0,r.createElementVNode)("label",{for:"title",class:"tb-font-medium tb-mb-1"},"Title",-1),Tt={class:"tb-w-full"},Et=(0,r.createElementVNode)("label",{for:"description",class:"tb-font-medium"},"Description",-1),St={setup(e){const o=(0,t.useStore)();return(0,r.computed)((()=>o.getters.getMetaData.title)),(0,r.computed)((()=>o.getters.getMetaData.description)),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",xt,[(0,r.createElementVNode)("div",wt,[kt,(0,r.createVNode)(bt,{tag:"div"})]),(0,r.createElementVNode)("div",Tt,[Et,(0,r.createVNode)(yt,{tag:"div",allowNewlines:!0})])]))}},Ct={class:"tb-bg-gray-200 tb-rounded-full tb-py-1.5 tb-px-3 tb-flex tb-items-center"},Vt={},Bt=(0,v.Z)(Vt,[["render",function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("span",Ct,[(0,r.renderSlot)(e.$slots,"tag-left"),(0,r.renderSlot)(e.$slots,"tag-content"),(0,r.renderSlot)(e.$slots,"tag-right")])}]]);var Nt=o(265),It=o.n(Nt);const Dt=e=>new Promise((t=>setTimeout(t,e))),Mt={key:0,class:"tb-absolute tb-bg-white tb-rounded tb-text-xs tb-shadow tb-w-5/6 tb-p-2 tb-border tb-border-solid tb-border-gray-200",style:{bottom:"12px"}},Lt={class:"tb-p-10 tb-flex tb-items-center tb-justify-center"},Ot=["src"],jt=(0,r.createTextVNode)(" Loading... "),At={key:1,class:"tb-absolute tb-bg-white tb-rounded tb-text-xs tb-shadow tb-w-5/6 tb-p-2 tb-border tb-border-solid tb-border-gray-200",style:{bottom:"12px"}},Ut=[(0,r.createElementVNode)("div",{class:"tb-p-10 tb-leading-snug tb-text-center"},[(0,r.createElementVNode)("span",{class:"tb-font-medium tb-text-red-600"},"Sorry we were unable to load your Tag Lists."),(0,r.createElementVNode)("br"),(0,r.createTextVNode)(" If this happens again please contact support. ")],-1)],Pt={key:2,class:"tb-absolute tb-bg-white tb-rounded tb-text-xs tb-shadow tb-w-5/6 tb-p-2 tb-border tb-border-solid tb-border-gray-200",style:{bottom:"12px"}},_t={key:0,class:"tb-flex tb-items-center tb-justify-between tb-py-2 tb-mb-2"},$t=(0,r.createElementVNode)("h3",null,"Tag Lists",-1),zt={key:0},Ft=(0,r.createTextVNode)(" Select: "),Gt=(0,r.createTextVNode)(" | "),Rt={key:1,class:"tb-flex tb-flex-wrap tb-mb-2"},Qt={class:"tb-p-1 tb-w-1/3 tb-overflow-y-auto tb-border tb-border-solid tb-rounded tb-border-gray-100 tb-mr-2",style:{"min-height":"140px","max-height":"140px"}},Ht=["onClick"],Kt={class:"tb-flex-1 tb-p-1 tb-border tb-border-solid tb-border-gray-100 tb-rounded tb-overflow-y-auto tb-leading-snug",style:{"max-height":"140px"}},Wt={key:0},Yt=["id","checked","disabled","name","onChange"],qt=["for"],Jt={key:1,class:"tb-flex tb-items-center tb-h-full tb-justify-center"},Zt=[(0,r.createElementVNode)("div",{class:"tb-text-center"}," The Tag List is empty ",-1)],Xt={key:2,class:"tb-flex tb-items-center tb-justify-between"},eo={key:3},to=(0,r.createElementVNode)("div",{class:"tb-text-center tb-py-5 tb-mb-5"}," You do not have any Tag Lists! ",-1),oo={emits:["close"],setup(e,{emit:o}){const n=(0,t.useStore)(),{addTag:a}=Y(n),i=(0,r.ref)([]),l=(0,r.ref)(null),s=(0,r.ref)([]),c=(0,r.ref)([]),d=(0,r.computed)((()=>s.value.filter((e=>c.value.includes(e.Id))).map((e=>e.TagValue.trim().replace(/\s/,"---").length+1)).reduce(((e,t)=>e+t),n.getters.getTagCharacterCount))),u=(0,r.computed)((()=>n.getters.getMetaTags)),m=(0,r.computed)((()=>s.value.filter((e=>!u.value.map((e=>e.toLowerCase())).includes(e.TagValue))))),b=(0,r.computed)((()=>browser.runtime.getURL("/images/general/loading1.gif"))),p=(0,r.ref)(!0),g=(0,r.ref)(!1),{SeoStudioUsed:f}=C(),h=()=>{o("close")},v=()=>{if(!c.value.length||d.value>500)return;const e=s.value.filter((e=>c.value.includes(e.Id))).map((e=>e.TagValue));f({feature:"import tags",tag_count:e.length}),e.forEach((e=>{n.getters.getTagCharacterCount+e.length>=500||a(e)})),h()},y=()=>{const e=m.value.map((e=>e.TagValue));e.length&&(n.getters.getTagCharacterCount>=500||(f({feature:"import tags",tag_count:e.length}),e.forEach((e=>{n.getters.getTagCharacterCount+(e.replace(/\s/,"---").length+1)>500||a(e)})),h()))},x=()=>{const e=u.value.map((e=>e.toLowerCase()));c.value=s.value.filter((t=>!e.includes(t.TagValue))).map((e=>e.Id))},w=()=>{c.value=[]},k=e=>c.value.includes(e),T=e=>u.value.map((e=>e.toLowerCase())).includes(e.toLowerCase()),E=e=>{l.value=e,TBExtension.Get(`${TBGlobal.host+TBGlobal.apiUrls.taglistsGetListTags}?id=${e}&sort=0`,"SeoStudioGetTagListTags")},S=()=>{TubeBuddyTagLists.Show(),h()};return(0,r.onMounted)((()=>{TBExtension.Get(TBGlobal.host+TBGlobal.apiUrls.taglistsGetLists,"SeoStudioGetTagList")})),(0,r.onBeforeMount)((()=>{jQuery(document.body).on("SeoStudioGetTagList",(async(e,t)=>{t.success?(i.value=jQuery.parseJSON(t.response),i.value.length&&!l.value&&E(i.value[0].Id),await Dt(500),p.value=!1):g.value=!0})),jQuery(document.body).on("SeoStudioGetTagListTags",((e,t)=>{t.success?(s.value=[],c.value=[],s.value=jQuery.parseJSON(t.response)):g.value=!0}))})),(0,r.onDeactivated)((()=>{jQuery(document.body).off("SeoStudioGetTagList"),jQuery(document.body).off("SeoStudioGetTagListTags")})),(e,t)=>p.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Mt,[(0,r.createElementVNode)("div",Lt,[(0,r.createElementVNode)("img",{src:(0,r.unref)(b),class:"tb-mr-2",alt:"Loading tags..."},null,8,Ot),jt])])):g.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",At,Ut)):((0,r.openBlock)(),(0,r.createElementBlock)("div",Pt,[i.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",_t,[$t,(0,r.unref)(m).length?((0,r.openBlock)(),(0,r.createElementBlock)("div",zt,[Ft,(0,r.createElementVNode)("a",{onClick:x},"All"),Gt,(0,r.createElementVNode)("a",{onClick:w},"None")])):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),i.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Rt,[(0,r.createElementVNode)("div",Qt,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.value,(e=>((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:e.Id,class:(0,r.normalizeClass)(["tb-block tb-p-2 hover:tb-bg-gray-50 tb-rounded",{"tb-bg-blue-500 tb-text-white hover:tb-bg-blue-500":e.Id===l.value}]),onClick:t=>E(e.Id)},(0,r.toDisplayString)(e.Name),11,Ht)))),128))]),(0,r.createElementVNode)("div",Kt,[s.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Wt,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s.value,(e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.Id,class:"tb-flex tb-items-center tb-py-1"},[(0,r.createElementVNode)("input",{id:e.Id,type:"checkbox",checked:k(e.Id)||T(e.TagValue),disabled:T(e.TagValue),name:e.Id,onChange:t=>{return o=e.Id,void(k(o)?c.value=c.value.filter((e=>e!==o)):c.value.push(o));var o}},null,40,Yt),(0,r.createElementVNode)("label",{for:e.Id,class:(0,r.normalizeClass)(["tb-cursor-pointer tb-whitespace-pre tb-overflow-hidden",{"tb-opacity-50":T(e.TagValue)}])},(0,r.toDisplayString)(e.TagValue),11,qt)])))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Jt,Zt))])])):(0,r.createCommentVNode)("",!0),i.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Xt,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["tb-text-base",{"tb-text-red-500 tb-font-bold":(0,r.unref)(d)>500}])}," Character limit ("+(0,r.toDisplayString)((0,r.unref)(d))+" / 500) ",3),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("a",{class:(0,r.normalizeClass)(["tb-inline-block tb-text-right tb-text-white tb-rounded tb-shadow tb-rounded tb-p-2 tb-mr-1",[c.value.length?"":"tb-opacity-50 tb-cursor-not-allowed",(0,r.unref)(d)>=500?"tb-opacity-50 tb-bg-red-500 tb-cursor-not-allowed":"tb-bg-green-500"]]),onClick:v}," Add Selected ",2),(0,r.createElementVNode)("a",{class:(0,r.normalizeClass)(["tb-inline-block tb-text-right tb-bg-green-500 tb-text-white tb-rounded tb-shadow tb-rounded tb-p-2",[(0,r.unref)(m).length?"":"tb-opacity-50 tb-cursor-not-allowed"]]),onClick:y}," Add To Tag Limit ",2)])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",eo,[(0,r.createElementVNode)("div",{class:"tb-p-8 tb-text-center"},[to,(0,r.createElementVNode)("a",{class:"tb-p-3 tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white tb-font-medium tb-uppercase",onClick:S},"Create A Tag List")])]))]))}},ro={class:"tb-relative tb-flex tb-items-center tb-justify-end tb-leading-tight"},no={setup(e){const{SeoStudioClicked:t}=C(),o=(0,r.ref)(!1),n=()=>{o.value=!o.value,t({feature:"import tags"})};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",ro,[o.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(oo),{key:0,onClose:t[0]||(t[0]=e=>o.value=!o.value)})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",{class:"tb-absolute tb-bg-gray-100 hover:tb-gray-200 tb-font-medium tb-uppercase tb-rounded tb-text-gray-600 tb-px-2 tb-py-1 tb-cursor-pointer",onClick:n},"Import ")]))}},ao=(0,r.createElementVNode)("div",{class:"tb-text-2xl tb-font-semibold"},"Tags",-1),io={class:"tb-max-h-64 tb-flex tb-flex-wrap tb-items-center tb-overflow-y-auto"},lo=(0,r.createElementVNode)("i",{class:"material-icons tb-cursor-move tb-tag-sort"},"drag_indicator",-1),so=["onClick","title","innerHTML"],co=["innerHTML","onKeyup","onKeydown","onBlur"],uo=["onClick"],mo={class:"tb-relative tb-bottom-8 tb-mx-2"},bo={key:0,class:"tb-text-red-500 tb-float-left tb-mr-2"},po={key:1,class:"tb-text-red-500 tb-float-left"},go={class:"tb-text-gray-400 tb-float-right"},fo={setup(e){const o=(0,t.useStore)(),{addTag:n}=Y(o),{checkExactMatch:a,highlightMatches:i}=st(o),l=(0,r.ref)(!1),s=(0,r.ref)(-1),c=(0,r.ref)(null),d=(0,r.ref)(null),u=(0,r.ref)(null),m=(0,r.computed)((()=>o.getters.getTagCharacterCount)),b=(0,r.computed)({get(){const e=o.getters.getMetaTags?o.getters.getMetaTags:[];return e.filter((e=>e.length>100)).length>0?u.value="One or more of your tags is too long.":u.value=null,e},set(e){let t=e,r=t[t.length-1];var n=r.charAt(0);n==n.toUpperCase()?r=TBUtilities.LowerCaseFirstLetterString(r):n==n.toLowerCase()&&(r=TBUtilities.CapitlizeFirstLetterString(r)),t[t.length-1]=r,o.commit("setMetaTags",t)}});function p(e){const t=e.target,o=lt.getCurrentCursorPosition(t),r=DOMPurify.sanitize(e.target.innerText);e.target.innerHTML=i(r,!1),lt.setCurrentCursorPosition(o,t),t.focus()}function g(e,t,r=-1){const a=void 0!==e.key?e.key.toLowerCase():"",i=void 0!==e.type?e.type.toLowerCase():"";if("keydown"==i&&("tab"==a||"enter"==a||","==a)||"blur"==i&&""==a){e.preventDefault();let a=t.split(",").filter((e=>e.length>0));if(a&&a.length>0)if(-1==r)a.forEach((e=>{n(e)})),e.target.innerText="",e.target.focus();else{let t=Array.from(o.getters.getMetaTags),n=a[0].replaceAll(/\n/g,"");t[r]!==n&&(t[r]=n,o.commit("setMetaTags",Array.from(new Set(t)))),f(e)}}else if("keydown"==i&&("<"==a||">"==a))return e.preventDefault(),void TBUtilities.Alert("Angled brackets are not allowed")}function f(e){l.value=!1,s.value=-1,e&&(e.target.innerText="")}function h(){f(),d.value.focus()}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[ao,(0,r.createElementVNode)("div",(0,r.mergeProps)({id:"tb-studio-added-tags",class:["tb-rounded-sm tb-border-2 tb-border-solid tb-border-gray-100 tb-h-72",{"tb-border-red-500":(0,r.unref)(m)>500}],onClick:h},e.$attrs),[(0,r.createElementVNode)("div",io,[(0,r.createVNode)((0,r.unref)(It()),{id:"tb-added-tags",modelValue:(0,r.unref)(b),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,r.isRef)(b)?b.value=e:null),"item-key":"name",handle:".tb-tag-sort",class:"tb-flex tb-flex-wrap tb-items-center"},{item:(0,r.withCtx)((({element:e,index:n})=>[(0,r.createVNode)(Bt,{class:(0,r.normalizeClass)(["tb-m-1 tb-studio-tag",{"tb-studio-tag-exact":(0,r.unref)(a)(e),"tb-border tb-border-solid tb-border-blue-500":s.value===n}])},{"tag-left":(0,r.withCtx)((()=>[lo])),"tag-content":(0,r.withCtx)((()=>{return[l.value&&s.value===n?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,onClick:e=>function(e,t){e.stopPropagation(),l.value=!0,s.value=t,setTimeout((()=>{const e=c.value;lt.setCurrentCursorPosition(e.innerText.length,e),e.focus()}),1e3)}(e,n),class:"tb-mr-1 tb-max-w-xl",title:e,innerHTML:(0,r.unref)(i)((o=e,TBUtilities.Truncate(o,30,!0)),!0)},null,8,so)),l.value&&s.value===n?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,contenteditable:"true",spellcheck:"false",style:(0,r.normalizeStyle)({width:e.length+3+"ch"}),innerHTML:(0,r.unref)(i)(e),onInput:p,onKeyup:e=>g(e,e.target.innerText,n),onKeydown:(0,r.withModifiers)((e=>g(e,e.target.innerText,n)),["stop"]),onBlur:e=>g(e,e.target.innerText,n),onClick:t[0]||(t[0]=(0,r.withModifiers)((()=>{}),["stop"])),ref:(e,t)=>{t.tagEditInput=e,c.value=e},id:"tb-tag-edit-input",class:"tb-studio-tag-input tb-whitespace-nowrap tb-px-1.5 tb-m-1 tb-overflow-x-hidden"},null,44,co)):(0,r.createCommentVNode)("",!0)];var o})),"tag-right":(0,r.withCtx)((()=>[(0,r.createElementVNode)("i",{class:"material-icons tb-cursor-pointer",onClick:(0,r.withModifiers)((t=>function(e){f();let t=o.getters.getMetaTags.filter((t=>t!=e));o.commit("setMetaTags",t)}(e)),["stop"])},"cancel",8,uo)])),_:2},1032,["class"])])),_:1},8,["modelValue"]),(0,r.createElementVNode)("div",{contenteditable:"true",spellcheck:"false",ref:(e,t)=>{t.newTagInput=e,d.value=e},onInput:p,onKeyup:t[2]||(t[2]=e=>g(e,e.target.innerText)),onKeydown:t[3]||(t[3]=(0,r.withModifiers)((e=>g(e,e.target.innerText)),["stop"])),class:"tb-studio-tag-input tb-whitespace-nowrap tb-w-1/4 tb-px-1.5 tb-m-1 tb-overflow-x-hidden"},null,544)])],16),(0,r.createElementVNode)("div",mo,[u.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",bo,(0,r.toDisplayString)(u.value),1)):(0,r.createCommentVNode)("",!0),(0,r.unref)(m)>500?((0,r.openBlock)(),(0,r.createElementBlock)("div",po,"Character count exceeded.")):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",go,(0,r.toDisplayString)((0,r.unref)(m))+"/500",1)]),(0,r.createVNode)((0,r.unref)(no))],64))}},{SeoStudioNavigated:ho}=C(),vo={state:()=>({metaData:{}}),mutations:{setMetaData(e,t){e.metaData={...e.metaData,...t}},setMetaTitle(e,t){e.metaData.title=DOMPurify.sanitize(t)},setMetaDescription(e,t){e.metaData.description=DOMPurify.sanitize(t)},resetMetaData(e,t){e.metaData={}},setMetaTags(e,t){e.metaData.tags=t}},getters:{getMetaData:e=>e.metaData,getMetaTitle:e=>e.metaData.title?e.metaData.title:"No title",getMetaDescription:e=>e.metaData.description?e.metaData.description:"No Description",getMetaTags:e=>e.metaData.tags?e.metaData.tags:[],getTagCharacterCount(e){let t=0;return e.metaData.tags&&(e.metaData.tags.forEach((e=>{t+=e.trim().replace(/\s/,"---").length+1})),t>0&&t--),t}}},yo={state:()=>({video:{}}),mutations:{setVideo(e,t){e.video={...e.video,...t}}},getters:{getVideo:e=>e.video}},xo={state:()=>({keyword:{}}),mutations:{setTargetKeyword(e,t){e.keyword=t},resetTargetKeyword(e){e.keyword={}}},getters:{getTargetKeyword:e=>e.keyword}},wo={state:()=>({seoScore:{overallScore:0,metaImprovements:[],tagImprovements:[],thumnailTips:[]}}),mutations:{setSeoScore(e,t){e.seoScore=t},resetSeoScore(e){e.seoScore={overallScore:0,metaImprovements:[],tagImprovements:[],thumnailTips:[]}}},getters:{getSeoScore:e=>e.seoScore,getOverallSeoScore:e=>e.seoScore.overallScore}},ko={state:()=>({drafts:[]}),mutations:{setDrafts(e,t){e.drafts=t}},getters:{getDrafts:e=>e.drafts}},To={state:()=>({uploadDefaults:[]}),mutations:{setDefaults(e,t){e.uploadDefaults=t}},getters:{getDefaults:e=>e.uploadDefaults}},Eo={state:()=>({currentStep:0,savedSteps:[!1,!1,!1,!1]}),mutations:{setCurrentStep(e,t){e.currentStep=t,ho({step:t})},saveStep(e,{index:t,value:o}){e.savedSteps[t]=o},resetSteps(e){e.savedSteps=[!1,!1,!1,!1]}},getters:{getCurrentStep:e=>e.currentStep,getSavedStep:e=>t=>e.savedSteps[t]}},So={state:()=>({savedDraft:!1}),mutations:{setCurrentPreview(e,t){e.savedDraft=t},resetCurrentPreview(e){e.savedDraft=!1}},getters:{getCurrentPreview:e=>e.savedDraft}},Co={state:()=>({isUploadOpen:!1}),mutations:{setIsUpload(e,t){e.isUploadOpen=t},resetIsUpload(e){e.isUploadOpen=!1}},getters:{getIsUploadOpen:({isUploadOpen:e})=>e}},Vo={state:()=>({videoId:""}),mutations:{setVideoContext(e,t){e.videoId=t},resetVideoContext(e){e.videoId=""}},getters:{getVideoContext:({videoId:e})=>e}},Bo={state:()=>({callBtn:""}),mutations:{setCallBtn(e,t){e.callBtn=t}},getters:{getCallBtn:({callBtn:e})=>e}},No={class:"tb-h-1/2"},Io=(0,r.createElementVNode)("div",{class:"tb-text-2xl"},[(0,r.createElementVNode)("span",{class:"tb-font-semibold"},"Populate with Suggested Tags"),(0,r.createElementVNode)("span",{class:"tb-text-gray-400 tb-ml-1"},"- consider adding only if relevant")],-1),Do={class:"tb-rounded-sm tb-border-2 tb-border-solid tb-border-gray-100 tb-h-80"},Mo={class:"tb-flex tb-items-center tb-ml-2"},Lo=(0,r.createTextVNode)(" Sort by: "),Oo={class:"tb-material-radio-container tb-py-0"},jo={class:"tb-material-radio-container tb-py-0"},Ao={class:"tb-max-h-64 tb-flex tb-flex-wrap tb-items-center tb-overflow-y-auto"},Uo={key:0,class:"tb-flex tb-items-center tb-m-2"},Po=[(0,r.createElementVNode)("span",{class:"tb-spinner tb-mr-2"},null,-1),(0,r.createTextVNode)("Loading ")],_o={key:1},$o={key:0,class:"tb-flex tb-flex-wrap tb-items-center tb-overflow-y-auto"},zo=["onClick"],Fo=["innerHTML"],Go={key:1,class:"tb-p-2"},Ro=[(0,r.createElementVNode)("span",null,"Sorry, no suggestions found",-1)],Qo={setup(e){const o=(0,t.useStore)(),{addTag:n,scoreTags:a,getTagScoreBorderColor:i}=Y(o),{highlightMatches:l}=st(o),s=(0,r.ref)([]),c=(0,r.ref)(!0),d=(0,r.ref)("relevance");function u(){s.value.forEach((e=>{o.getters.getTagCharacterCount+e.tag.replace(/\s/,"---").length>=500||m(e.tag)||n(e.tag)}))}function m(e){return(o.getters.getMetaTags?o.getters.getMetaTags:[]).indexOf(e.replace(/\s+/g," ").trim())>-1}function b(e){d.value=e;const t=s.value.sort(((t,o)=>"score"===e?o.score-t.score:t.priority-o.priority));s.value=t}return(0,r.onBeforeMount)((async()=>{const e=await TBUtilities.GetKeywordRecommendedTags(o.getters.getTargetKeyword.replaceAll(",","")),t=void 0!==o.getters.getTargetKeyword?o.getters.getTargetKeyword.toLowerCase():"";e.forEach((e=>e.tag.replace(/\s+/g," ").trim()));const r=[...new Set(e.map((e=>JSON.stringify(e))))].map((e=>JSON.parse(e))).filter((e=>!m(e.tag)&&e.tag.toLowerCase()!=t));r&&0!==r.length?a([...new Set(r.map((e=>e.tag)))]).then((e=>{r.forEach((t=>{const o=e.filter((e=>e.Tag==t.tag));t.score=o.length>0?Math.round(o[0].Score):0}))})).catch((e=>TBUtilities.LogError(`Exception: ${e}`))).finally((()=>{s.value=r,b("relevance"),c.value=!1})):c.value=!1})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",No,[Io,(0,r.createElementVNode)("div",Do,[(0,r.createElementVNode)("div",(0,r.mergeProps)(e.$attrs,{id:"tb-suggested-tags-options",class:"tb-border-b-2 tb-border-solid tb-border-gray-100 tb-h-14 tb-flex tb-items-center tb-justify-between"}),[(0,r.createElementVNode)("div",Mo,[Lo,(0,r.createElementVNode)("div",Oo,[(0,r.withDirectives)((0,r.createElementVNode)("input",{id:"tb-sort-by-relevance",type:"radio",name:"tb-sort-by",value:"relevance","onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),class:"tb-material-radio"},null,512),[[r.vModelRadio,d.value]]),(0,r.createElementVNode)("label",{onClick:t[1]||(t[1]=e=>b("relevance")),class:"tb-material-radio-label"},"Relevance")]),(0,r.createElementVNode)("div",jo,[(0,r.withDirectives)((0,r.createElementVNode)("input",{id:"tb-sort-by-score",type:"radio",name:"tb-sort-by",value:"score","onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),class:"tb-material-radio"},null,512),[[r.vModelRadio,d.value]]),(0,r.createElementVNode)("label",{onClick:t[3]||(t[3]=e=>b("score")),class:"tb-material-radio-label tb-text-gray-600"},"Score")])]),(0,r.createElementVNode)("button",{onClick:u,class:"tb-bg-gray-100 hover:tb-bg-gray-200 tb-text-gray-600 tb-mr-2 tb-uppercase tb-font-medium tb-rounded-sm tb-px-4 tb-py-2 tb-border-none tb-cursor-pointer"},"Add to Tag Limit")],16),(0,r.createElementVNode)("div",Ao,[c.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Uo,Po)):((0,r.openBlock)(),(0,r.createElementBlock)("div",_o,[s.value.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",$o,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s.value,(e=>((0,r.openBlock)(),(0,r.createBlock)(Bt,{class:"tb-m-1 tb-studio-tag",key:e.tag},(0,r.createSlots)({"tag-left":(0,r.withCtx)((()=>[(0,r.createElementVNode)("i",{class:"material-icons tb-text-green-600 tb-cursor-pointer",onClick:t=>(0,r.unref)(n)(e.tag,!1,!0)},(0,r.toDisplayString)(m(e.tag)?"check_circle":"add_circle"),9,zo)])),"tag-content":(0,r.withCtx)((()=>[(0,r.createElementVNode)("span",{class:"tb-mx-2",innerHTML:(0,r.unref)(l)(e.tag,!1)},null,8,Fo)])),_:2},[e.score>0?{name:"tag-right",fn:(0,r.withCtx)((()=>[(0,r.createElementVNode)("span",{class:"tb-border-b-2 tb-border-solid tb-px-0.5 tb-mr-1 tb-bg-white",title:"tag score",style:(0,r.normalizeStyle)({borderColor:(0,r.unref)(i)(e.score)})},(0,r.toDisplayString)(e.score),5)]))}:void 0]),1024)))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Go,Ro))]))])])]))}},Ho={id:"tb-seo-studio-vue-tag-container",class:"tb-p-2 tb-flex tb-flex-col tb-justify-around tb-h-full"},Ko={setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Ho,[(0,r.createVNode)((0,r.unref)(fo),{class:"tb-h-1/2"}),(0,r.createVNode)((0,r.unref)(Qo))]))};function Wo(e){return{setVideoData:async(t,o)=>{const r=await TubeBuddyYouTubeActions.GetCreatorVideosStudio(t,o);TubeBuddyYouTubeActions.GetVideoInfo(t,(t=>{r.channelname="undefined"!==t.channelname&&"string"==typeof t.channelname?t.channelname:null,r.views=void 0!==t.views?t.views:0;const o={videoId:r.videoId,channelname:r.channelname,videoDurationMs:r.videoDurationMs,title:r.title,description:r.description,thumbnails:r.thumbnailDetails.thumbnails,tags:r.tags?r.tags.map((e=>e.value)):[]};e.commit("setMetaData",o),e.commit("setVideo",r),e.commit("setVideoContext",r.videoId)}))}}}const Yo={class:"tb-p-2 tb-relative"},qo={class:"search-container tb-flex"},Jo={class:"tb-seo-studio-video-container-demo tb-block tb-sticky tb-top-0 tb-bg-white tb-pt-2"},Zo=["src"],Xo={class:"tb-seo-studio-copy tb-inline-block tb-w-1/2 tb-align-top"},er=["innerHTML"],tr=["innerHTML","href"],or=["innerHTML"],rr={class:"tb-seo-studio-views tb-inline-block tb-align-top tb-w-auto"},nr=["innerHTML"],ar={key:0,id:"tb-seo-studio-serp-loading-container",class:"tb-absolute tb-bg-white tb-opacity-90 tb-w-full"},ir=[(0,r.createElementVNode)("span",{class:"tb-spinner"},null,-1),(0,r.createElementVNode)("span",{class:"tb-loading-text tb-margin-left-5"},"Loading",-1)],lr=["src"],sr={class:"tb-seo-studio-copy tb-inline-block tb-w-1/2 tb-align-top"},cr={class:"tb-seo-studio-title"},dr=["href","innerHTML"],ur=["innerHTML"],mr={class:"tb-seo-studio-views tb-inline-block tb-align-top tb-w-auto"},br=["innerHTML"],pr={class:"buttons"},gr=(0,r.createElementVNode)("p",{class:"copy tb-w-5/12 tb-inline-block tb-align-top"},"Keep your existing Thumbnail or create/upload a new one.",-1),fr={class:"tb-float-right"},hr=(0,r.createElementVNode)("label",{id:"tb-seo-studio-upload-thumbnail-button",for:"tb-seo-studio-upload-thumbnail-input",class:"tb-inline-block tb-align-top tb-px-5 tb-py-3 tb-mr-2 tb-text-base tb-bg-gray-100 hover:tb-bg-gray-200 tb-cursor-pointer"},"UPLOAD THUMBNAIL",-1),vr={setup(e){const o=(0,t.useStore)(),{highlightMatches:n}=st(o),{read:a}=V(o),{setVideoData:i}=Wo(o),l=o.getters.getTargetKeyword,s=(0,r.ref)(null),c=(0,r.ref)([]),d=(0,r.computed)((()=>o.getters.getVideo)),u=(0,r.computed)((()=>o.getters.getVideo.videoId?"https://www.youtube.com/watch?v="+o.getters.getVideo.videoId:null)),m=TBGlobal.host+"/images/modules/seostudio/seostudio-thumbnail-placeholder.png",b=(0,r.ref)(m);let p=null;const g=(0,r.ref)("tb-btn-disabled");let f=TBGlobal.Profile().Title?TBUtilities.Truncate(TBGlobal.Profile().Title,45,!1):"Channel Name",h=(0,r.ref)(n(o.getters.getMetaData.title)),v=(0,r.ref)(n(TBUtilities.Truncate(o.getters.getMetaData.description?o.getters.getMetaData.description:"",125,!1)));const y=(0,r.computed)((()=>o.getters.getVideo.views?o.getters.getVideo.views:0)),x=(0,r.ref)(!1),w=(0,r.ref)(""),k=(0,r.computed)((()=>o.getters.getIsUploadOpen));function T(e){x.value=!0,w.value="height:377px;",c.value=[],TubeBuddyYouTubeActions.GetVideoSearchResults(e,(function(e){c.value=e,w.value="",x.value=!1}))}function E(e,t){return TBUtilities.Truncate(e,t,!1)}function S(e){if(p=e.target.files[0],p.size>2097152)return void TBUtilities.Alert("Sorry, you need to select a file less than 2MB",null);let t=new FileReader;t.readAsDataURL(p),t.onloadend=e=>{let t=o.getters.getMetaData;t.customThumbnail=e.target.result,o.commit("setMetaData",t),b.value=e.target.result},void 0===d.value.videoId&&(b.value=o.getters.getMetaData.thumbnails)}function C(){if("tb-btn-disabled"===g.value)return;let e=o.getters.getMetaData;e.hideSeoStudio=!0,o.commit("setMetaData",e),TubeBuddyThumbnailGenerator.ShowForSeoStudio(d.value.videoId,d.value.title,d.value.thumbnailDetails.thumbnails[1].url,d.value.description,null,(function(e,t){o.commit("setMetaData",{customThumbnail:t}),e&&(o.commit("setMetaData",{hideSeoStudio:!1}),b.value=o.getters.getMetaData.customThumbnail)}))}return(0,r.onBeforeMount)((()=>{T(l),s.value=l,function(){let e=o.getters.getMetaData.draftId;a().then((()=>{if("undefined"===e||"string"!=typeof e)if("undefined"!==d.value.videoId&&"string"==typeof d.value.videoId){let e=o.getters.getMetaData;"undefined"!==e.thumbnail&&"string"==typeof e.thumbnail?b.value=e.thumbnail:(k.value||(g.value="hover:tb-bg-gray-200"),b.value=d.value.thumbnailDetails.thumbnails[1].url)}else b.value=m;else{let t=o.getters.getDrafts.filter((t=>t.Id===e));b.value="undefined"!==t[0].ThumbnailUrl&&"string"==typeof t[0].ThumbnailUrl?t[0].ThumbnailUrl:m}})).catch((e=>console.error(" VUE | DraftFunctions read() ",e)))}(),async function(){if(0===jQuery("#dialog.ytcp-uploads-dialog").length)return;let e=setInterval((()=>{if(0===jQuery("#still-0[processing]").length){if(clearInterval(e),void 0===o.getters.getVideo)return;g.value="hover:tb-bg-gray-200"}}),1e3)}()})),(0,r.onMounted)((()=>{"undefined"!==d.value.videoId&&"string"==typeof d.value.videoId&&document.location.href.match(/\/edit$/)&&(g.value="hover:tb-bg-gray-200")})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Yo,[(0,r.createElementVNode)("section",qo,[(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),onKeyup:t[1]||(t[1]=(0,r.withKeys)((e=>T(s.value)),["enter"])),type:"text",name:"search-input",class:"search-input focus:tb-outline-none tb-inline-block tb-py-1 tb-px-2 tb-border-2 tb-border-gray-100 tb-border-solid tb-h-8 tb-w-4/5 tb-text-gray-500"},null,544),[[r.vModelText,s.value]]),(0,r.createElementVNode)("input",{onClick:t[2]||(t[2]=e=>T(s.value)),type:"submit",class:"tb-inline-block tb-w-auto tb-px-6 tb-py-2 tb-text-xl tb-bg-gray-100 hover:tb-bg-gray-200 tb-cursor-pointer tb-border-none tb-align-top tb-font-medium tb-text-gray-500 tb-w-1/5",value:"SEARCH"})]),(0,r.createElementVNode)("section",{class:"tb-seo-studio-search-results tb-overflow-hidden tb-overflow-y-scroll tb-mb-7 tb-pr-2 tb-pb-2 tb-pl-2 tb-border-gray-100 tb-border-solid tb-border-t-0",style:(0,r.normalizeStyle)(w.value)},[(0,r.createElementVNode)("div",Jo,[(0,r.createElementVNode)("img",{class:"tb-seo-studio-image tb-w-full tb-pr-4",src:b.value},null,8,Zo),(0,r.createElementVNode)("div",Xo,[(0,r.createElementVNode)("div",null,[(0,r.unref)(u)?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("h3",{key:0,class:"tb-seo-studio-title",innerHTML:(0,r.unref)(h)},null,8,er)),(0,r.unref)(u)?((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:1,innerHTML:(0,r.unref)(h),href:(0,r.unref)(u),target:"_blank"},null,8,tr)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("p",{class:"tb-seo-studio-creator tb-inline-block tb-align-top tb-m-0 tb-pr-8 tb-w-auto",innerHTML:(0,r.unref)(f)},null,8,or),(0,r.createElementVNode)("p",rr,(0,r.toDisplayString)((0,r.unref)(y))+" views ",1),(0,r.createElementVNode)("p",{class:"tb-seo-studio-description",innerHTML:(0,r.unref)(v)},null,8,nr)])]),x.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",ar,ir)):(0,r.createCommentVNode)("",!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(c.value,((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"tb-seo-studio-video-container"},[(0,r.createElementVNode)("img",{class:"tb-seo-studio-image tb-w-full tb-pr-4",src:e.thumbnail?e.thumbnail:m},null,8,lr),(0,r.createElementVNode)("div",sr,[(0,r.createElementVNode)("h3",cr,[(0,r.createElementVNode)("a",{href:"https://www.youtube.com/watch?v="+e.id,innerHTML:(0,r.unref)(n)(e.title),class:"tb-font-normal"},null,8,dr)]),(0,r.createElementVNode)("p",{class:"tb-seo-studio-creator tb-inline-block tb-align-top tb-m-0 tb-pr-8 tb-w-auto",innerHTML:(0,r.unref)(n)(E(e.channelName,45))},null,8,ur),(0,r.createElementVNode)("p",mr,(0,r.toDisplayString)(e.views)+" "+(0,r.toDisplayString)("string"==typeof e.views&&e.views.indexOf("view")>-1?"":"view"+("1"!==e.views?"s":"")),1),(0,r.createElementVNode)("p",{class:"tb-seo-studio-description",innerHTML:(0,r.unref)(n)(E(e.description,125))},null,8,br)])])))),128))],4),(0,r.createElementVNode)("section",pr,[gr,(0,r.createElementVNode)("div",fr,[(0,r.createElementVNode)("input",{id:"tb-seo-studio-upload-thumbnail-input",type:"file",onChange:S,class:"tb-hidden"},null,32),hr,(0,r.createElementVNode)("label",{id:"tb-seo-studio-upload-create-thumbnail-button",onClick:C,class:(0,r.normalizeClass)(["tb-inline-block tb-align-top tb-px-5 tb-py-3 tb-text-base tb-bg-gray-100 tb-cursor-pointer",`${g.value}`])},"CREATE THUMBNAIL",2)])])]))}},yr=vr;function xr(){const e=e=>new Promise((function(t,o){var r=jQuery(e)[0];if(r){r.focus();var n=document.createEvent("HTMLEvents");n.initEvent("input",!0,!0),r.dispatchEvent(n),t()}else o()})),t=async(e,t)=>{var o;if(t?(o=jQuery(".ytcp-uploads-dialog#dialog .ytcp-uploads-dialog #outer").find("input:last:not([type=radio])"),jQuery(".ytcp-uploads-dialog#dialog #tags-container #clear-button").click(),o.siblings("ytcp-chip.chip.ytcp-chip-bar").length>0&&jQuery.each(o.siblings("ytcp-chip.chip.ytcp-chip-bar"),(function(){jQuery(this).find("#delete-icon").click()}))):(o=jQuery("#tags-container #text-input"),jQuery("#chip-bar #clear-button:visible").length>0?jQuery("#chip-bar #clear-button").click():1==jQuery("ytcp-chip.chip").length&&jQuery("ytcp-chip.chip #delete-icon").click()),0===o.length)return TBUtilities.ReportExtensionDOMIssue("UpdateMeatadataInputsFunctions",o),!1;setTimeout((()=>{o.val(e),o.trigger("focus"),o.trigger("blur");const t=jQuery.Event("keypress",{which:13});return o.trigger(t),!0}),10)};return{updateTitleInput:async(t,o=!1)=>{var r=(e=>{if(jQuery(".ytcp-uploads-dialog .title-textarea #textbox").length>0)return jQuery(".ytcp-uploads-dialog .title-textarea #textbox");if(jQuery(".ytcp-uploads-dialog .title-textarea textarea").length>0)return jQuery(".ytcp-uploads-dialog .title-textarea textarea");if(jQuery(".input-container.title #textbox").length>0)return jQuery(".input-container.title #textbox");{const t=e?"UploadModal":"VideoDetails";return TBUtilities.ReportExtensionDOMIssue("UpdateMetadataInputsFunctions",".ytcp-uploads-dialog .title-textarea #textbox, .ytcp-uploads-dialog .title-textarea textarea, .input-container.title #textbox",t),!1}})(o);r.is("textarea")?r.val(t):r.text(t),e(r)},updateDescriptionInput:async(t,o=!1)=>{var r=(e=>{if(jQuery(".ytcp-uploads-dialog .description-textarea #textbox").length>0)return jQuery(".ytcp-uploads-dialog .description-textarea #textbox");if(jQuery(".ytcp-uploads-dialog .description-textarea textarea").length>0)return jQuery(".ytcp-uploads-dialog .description-textarea textarea");if(jQuery(".input-container.description #textbox").length>0)return jQuery(".input-container.description #textbox");{const t=e?"UploadModal":"VideoDetails";return TBUtilities.ReportExtensionDOMIssue("UpdateMetadataInputsFunctions",".ytcp-uploads-dialog .description-textarea #textbox, .ytcp-uploads-dialog .description-textarea textarea, .input-container.description #textbox",t),!1}})(o);r.is("textarea")?r.val(t):r.text(t),e(r)},updateTagsInput:async(e,o=!1)=>{e&&0!==e.length||(e=[]);const r=Array.isArray(e)?e.join(","):e;await t(r,o)}}}const wr=(0,r.createElementVNode)("div",{class:"tb-p-8 tb-font-bold tb-col-12 tb-w-full tb-font-size18"}," Great job! Your optimized Title, Description, and Tags are ready. ",-1),kr={key:0,class:"tb-pb-8 tb-pl-8 tb-col-12 tb-w-full tb-font-size22"},Tr={class:"tb-col-6 tb-p-8 tb-flex"},Er={class:"tb-shadow-lg tb-rounded-md tb-relative tb-height100-percent tb-p-8 tb-flex tb-flex-col"},Sr=(0,r.createElementVNode)("p",{class:"tb-mb-8 tb-flex-grow"},[(0,r.createElementVNode)("span",{class:"tb-font-size20 tb-text-blue-500"},"No, I'm not finished..."),(0,r.createElementVNode)("br"),(0,r.createElementVNode)("br"),(0,r.createTextVNode)(" If you plan to come back and work on this Optimization later, save it as a draft and it will be here when you return for this video. ")],-1),Cr=(0,r.createElementVNode)("hr",{class:"tb-mb-4 tb-seo-studio-apply-hr"},null,-1),Vr=(0,r.createTextVNode)("SAVE DRAFT"),Br={key:0,class:"tb-col-6 tb-p-8 tb-flex"},Nr={class:"tb-shadow-lg tb-rounded-md tb-relative tb-height100-percent tb-p-8 tb-flex tb-flex-col"},Ir={class:"tb-mb-8 tb-flex-grow"},Dr=(0,r.createElementVNode)("span",{class:"tb-font-size20 tb-text-green-500"},"Yes, apply to my video now.",-1),Mr=(0,r.createElementVNode)("br",null,null,-1),Lr=(0,r.createElementVNode)("br",null,null,-1),Or={key:0},jr={key:1},Ar=(0,r.createElementVNode)("br",null,null,-1),Ur=(0,r.createElementVNode)("br",null,null,-1),Pr={key:2},_r=(0,r.createElementVNode)("span",{class:"tb-bold"},"NOTE: You must still save changes on YouTube's site ",-1),$r=(0,r.createTextVNode)("afterwards for the changes to take effect. "),zr={key:0},Fr=[(0,r.createElementVNode)("span",{class:"tb-bold"},"NOTE:",-1),(0,r.createTextVNode)(" Your custom thumbnail will also be applied when you save changes on YouTube's site. ")],Gr=(0,r.createElementVNode)("hr",{class:"tb-mb-4 tb-seo-studio-apply-hr"},null,-1),Rr=(0,r.createTextVNode)("APPLY TO VIDEO"),Qr={key:1,class:"tb-col-12 tb-w-full tb-m-9"},Hr={key:0,class:"tb-text-yellow-500 tb-font-size16"},Kr={key:1,class:"tb-text-yellow-500 tb-font-size16"},Wr={setup(e){const o=(0,t.useStore)(),n=(0,r.computed)((()=>o.getters.getVideoContext)),{updateOrCreate:a}=V(o),{applyToVideo:i}=function(e){const{updateTagsInput:t,updateTitleInput:o,updateDescriptionInput:r}=xr(),{getBlockScreenImage:n}={getBlockScreenImage:(e="loading...")=>`<div class="tb-flex tb-items-center tb-justify-center tb-h-full">\n            <span class="tb-spinner"></span>\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 587.76 472" fill="#df2726" class="tb-mx-5 tb-h-10">\n                <path class="a" d="M353,383.06l144.7-86.14L370.52,225V120.44S512.28,91.58,571.25,225s-56.88,212.44-83.64,226.66-108.73,37.63-174,0S220.8,358,220.8,296.92V0H353V383.06" />\n                <path class="a" d="M69.42,0H200.73V465.86H69.42V225H0V120.44H69.42V0" />\n            </svg>\n            <span class="tb-text-3xl tb-font-medium" id="tb-block-screen-msg-text">${e}<span class="tb-block-screen-msg-detail"></span></span>\n            </div>`},a=e.getters.getIsUploadOpen,i=()=>new Promise((function(e,t){var o=setInterval((function(){l()?(clearInterval(o),e()):jQuery(".dialog-content.ytcp-uploads-dialog #advanced").attr("hidden")?jQuery(".dialog-content.ytcp-uploads-dialog .advanced-button").click():0==jQuery("ytcp-video-metadata-editor-advanced.ytcp-video-metadata-editor").length&&jQuery(".ytcp-uploads-dialog ytcp-button#toggle-button").click()}),500)})),l=()=>1==("true"==jQuery("button.ytcp-expansion-panel").attr("aria-expanded")||jQuery("ytcp-video-metadata-editor-advanced.ytcp-video-metadata-editor").length>0&&jQuery(".allow-ratings").length>0||jQuery(".ytcp-uploads-details#advanced").is(":not([hidden])"));return{applyToVideo:async l=>{jQuery("body").trigger("TBcloseSeoStudioVue");const s=void 0!==e.getters.getMetaData.customThumbnail?e.getters.getMetaData.customThumbnail:null,c=e.getters.getVideoContext,d=n("Applying optimization title, description and tags..."),u="string"==typeof l?l:e.getters.getMetaData.draftId;jQuery.blockUI({message:d,blockMsgClass:"tb-apply-profile-block-screen",overlayCSS:{backgroundColor:"#fff",cursor:"unavailable",zIndex:"2210",opacity:.6}}),jQuery(".tb-upload-studio-cancel-apply-optimization").remove();var m=setTimeout((function(){jQuery(".tb-block-screen-msg-detail").after('<a class="tb-upload-studio-cancel-apply-optimization tb-ml-3">cancel</a>'),clearTimeout(m)}),6e4);await o(e.getters.getMetaData.title,a),await r(e.getters.getMetaData.description,a),await(async e=>{await i().then((function(){t(e,a)}))})(e.getters.getMetaData.tags),s?(setTimeout((function(){jQuery("#tb-block-screen-msg-text").text("Applying optimized thumbnail...")}),1500),((e,t)=>new Promise((function(o,r){var n={ThumbnailId:e,VideoId:t},a=TBGlobal.host+TBGlobal.apiUrls.seoScorePublishSavedThumbnailData;try{TBExtension.Post(a,JSON.stringify(n),(function(e,t,n){e?o(n):r(n)}),null,{contentType:"application/json"})}catch(e){TBUtilities.LogError({Exception:e,Location:"[TubeBuddyUploadStudio] publishOptimizationThumbnail"}),r(e)}})))(u,c).then((function(e){jQuery("#tb-block-screen-msg-text").text("Thumbnail successfully applied")})).catch((function(e){jQuery("#tb-block-screen-msg-text").text("An error occurred applying your custom thumbnail")})).finally((function(){jQuery(".tb-block-screen-msg-detail").text(""),jQuery.unblockUI()}))):(jQuery(".tb-block-screen-msg-detail").text(""),jQuery.unblockUI())}}}(o),{addSaveChannelAction:l,applyToVideoChannelAction:s}=N(),{goToStep:c}=B(o),{SeoStudioApplied:d}=C(),u=(0,r.computed)((()=>void 0!==o.getters.getMetaData.customThumbnail)),m=(0,r.computed)((()=>o.getters.getIsUploadOpen||!1));async function b(){try{await a(),o.commit("resetMetaData"),o.commit("setCurrentPreview",!0),l(),c(0,!0)}catch(e){console.error(e)}}async function p(){d({video_id:o.getters.getVideoContext,keyword:o.getters.getTargetKeyword,seo_score:o.getters.getOverallSeoScore});const e=await a(!0);i(e),l(),s(),TubeBuddyMenu.HideBackground()}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[wr,(0,r.unref)(n)?((0,r.openBlock)(),(0,r.createElementBlock)("div",kr," Would you like to apply this Optimization to your video? ")):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",(0,r.mergeProps)(e.$attrs,{class:"tb-flex tb-w-full tb-margin-bottom30"}),[(0,r.createElementVNode)("div",Tr,[(0,r.createElementVNode)("div",Er,[Sr,(0,r.createElementVNode)("div",null,[Cr,(0,r.createVNode)(x,{onBtnClicked:b,class:"tb-seo-studio-apply-nav tb-cursor-pointer tb-rounded-md tb-px-8 tb-py-4 tb-content-center tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white"},{default:(0,r.withCtx)((()=>[Vr])),_:1})])])]),(0,r.unref)(n)?((0,r.openBlock)(),(0,r.createElementBlock)("div",Br,[(0,r.createElementVNode)("div",Nr,[(0,r.createElementVNode)("p",Ir,[Dr,Mr,Lr,(0,r.unref)(m)?((0,r.openBlock)(),(0,r.createElementBlock)("span",Or,"This Optimization will be applied to the video you're currently uploading.")):((0,r.openBlock)(),(0,r.createElementBlock)("span",jr,"This Optimization will be applied to the video you're currently editing.")),Ar,Ur,(0,r.unref)(m)?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("span",Pr,[_r,$r,(0,r.unref)(u)?((0,r.openBlock)(),(0,r.createElementBlock)("span",zr,Fr)):(0,r.createCommentVNode)("",!0)]))]),(0,r.createElementVNode)("div",null,[Gr,(0,r.createVNode)(x,{onBtnClicked:p,class:"tb-seo-studio-apply-nav tb-cursor-pointer tb-rounded-md tb-px-8 tb-py-4 tb-content-center tb-bg-green-500 hover:tb-bg-green-600 tb-text-white"},{default:(0,r.withCtx)((()=>[Rr])),_:1})])])])):(0,r.createCommentVNode)("",!0)],16),(0,r.unref)(u)?((0,r.openBlock)(),(0,r.createElementBlock)("div",Qr,[(0,r.unref)(m)?((0,r.openBlock)(),(0,r.createElementBlock)("p",Hr,"NOTE: Your custom thumbnail will also be applied.")):((0,r.openBlock)(),(0,r.createElementBlock)("p",Kr,"NOTE: Your custom thumbnail will also be applied when you save changes on YouTube's site."))])):(0,r.createCommentVNode)("",!0)],64))}},Yr=Wr,qr=[(0,r.createElementVNode)("span",{class:"tb-text-3xl"},"SEO Studio",-1)],Jr={class:"tb-flex"},Zr={id:"tb-seo-studio-left-preview",class:"tb-bg-gray-100 tb-px-4 tb-py-5 tb-flex tb-flex-col"},Xr={class:"tb-bg-white tb-flex tb-items-center tb-justify-center tb-shadow-sm tb-mb-2 tb-p-2"},en=["src"],tn={class:"tb-mx-auto"},on={props:{isUpload:Boolean,videoId:String,startingKeyword:String,kwExplorerBtn:Object},setup(e){const o=e,n=(0,t.useStore)(),{SeoStudioOpened:a,SeoStudioClosed:i}=C(),{updateOrCreate:l}=V(n),{set:s}=Je(n),{setVideoData:c}=Wo(n),{canAccess:d}=qe(),u=(0,r.computed)((()=>null!=n.getters.getMetaData.title?n.getters.getMetaData.title:"New Optimization")),m=(0,r.computed)((()=>null!=n.getters.getMetaData.thumbnails?n.getters.getMetaData.thumbnails[1].url:browser.runtime.getURL("/images/modules/seostudio/seostudio-thumbnail-placeholder.png"))),b=(0,r.computed)((()=>n.getters.getCurrentStep||0)),p=(0,r.computed)((()=>[it,St,Ko,yr,Yr][b.value])),g=(0,r.computed)((()=>!!n.getters.getMetaData&&n.getters.getMetaData.hideSeoStudio)),h=(0,r.ref)(!0);function v(){b.value>0?TBUtilities.Confirm("Would you like to save changes to this optimization before you go?",(async()=>{const e=await l();TBUtilities.Log(`VUE draft saved. ${e}`),y()}),(()=>{y()})).set({labels:{ok:"Yes",cancel:"No"}}):y()}function y(){i({video_id:o.videoId||null}),TubeBuddyMenu.HideBackground(),jQuery("body").trigger("TBcloseSeoStudioVue")}return(0,r.onMounted)((()=>{a({keyword:o.startingKeyword||null,video_id:o.videoId||null})})),(0,r.onBeforeMount)((async()=>{const e=window.location.href.match(/video\/([^/]+)\/edit/i),{isUpload:t,videoId:r,startingKeyword:a,kwExplorerBtn:i}=o;if(a&&a.length>0){if(!d())return;s(a),n.commit("setCurrentStep",1)}if(t&&n.commit("setIsUpload",t),i&&n.commit("setCallBtn",i),null==e&&!t)return;const l=t?r:e[1],u={description:!0,tags:{all:!0},thumbnailDetails:{all:!0},title:!0,videoId:!0,videoDurationMs:!0};try{c(l,u)}catch(e){TBUtilities.LogError(e)}})),(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(f,{id:"seo-studio-vue",link:"seostudio",width:1e3,height:650,"is-draggable":h.value,class:(0,r.normalizeClass)({"tb-hidden":(0,r.unref)(g)}),onModalClosing:(0,r.withModifiers)(v,["stop","prevent"])},(0,r.createSlots)({header:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",{onMousedown:t[0]||(t[0]=e=>{h.value=!0})},qr,32)])),content:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",Jr,[(0,r.createElementVNode)("div",Zr,[(0,r.createElementVNode)("div",Xr,[(0,r.createElementVNode)("img",{src:(0,r.unref)(m)},null,8,en)]),(0,r.createElementVNode)("div",tn,(0,r.toDisplayString)((0,r.unref)(u)),1)]),(0,r.createElementVNode)("div",{id:"tb-seo-studio-main-panel",class:"tb-flex-1 tb-flex tb-flex-wrap",onMousedown:t[1]||(t[1]=e=>{h.value=!1})},[(0,r.unref)(b)>0?((0,r.openBlock)(),(0,r.createBlock)(W,{key:0,class:"tb-w-full"})):(0,r.createCommentVNode)("",!0),((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)((0,r.unref)(p)),{class:(0,r.normalizeClass)(["tb-px-4 tb-my-2 tb-bg-white tb-w-3/5",{"tb-w-full":0===(0,r.unref)(b)||4===(0,r.unref)(b)}])},null,8,["class"])),((0,r.openBlock)(),(0,r.createBlock)(r.KeepAlive,null,[(0,r.unref)(b)>0&&(0,r.unref)(b)<4?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(ve),{key:0,class:"tb-p-2 tb-ml-5 tb-w-1/3"})):(0,r.createCommentVNode)("",!0)],1024))],32)])])),_:2},[(0,r.unref)(b)>0?{name:"footer",fn:(0,r.withCtx)((()=>[(0,r.createVNode)(U)]))}:void 0]),1032,["is-draggable","class","onModalClosing"]))}},rn=on;function nn(e,t){return e.length>t?e.substring(0,t)+"...":e}const an={class:"tb-flex tb-items-center tb-justify-start"},ln=["src"],sn={class:"tb-pl-2"},cn={class:"tb-px-5"},dn={props:{comment:Object,filters:Array},emits:["updateFilter"],setup(e,{emit:t}){const o=e,n=(0,r.ref)(70),a=(0,r.computed)((()=>!o.filters.includes(o.comment.id))),i=(0,r.computed)((()=>nn(o.comment.comment,n.value))),l=((0,r.computed)((()=>nn(o.comment.title,n.value))),(0,r.computed)((()=>o.comment.thumbnail))),s=()=>{t("updateFilter",{id:o.comment.id,add:a.value})};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"tb-py-2 tb-flex tb-items-center tb-justify-between hover:tb-bg-gray-100 tb-cursor-pointer tb-rounded",onClick:s},[(0,r.createElementVNode)("div",an,[(0,r.createElementVNode)("img",{src:(0,r.unref)(l),class:"tb-shadow tb-rounded tb-mx-2",style:{width:"50px"}},null,8,ln),(0,r.createElementVNode)("span",sn,(0,r.toDisplayString)((0,r.unref)(i)),1)]),(0,r.createElementVNode)("div",cn,[(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.isRef)(a)?a.value=e:null),type:"checkbox"},null,512),[[r.vModelCheckbox,(0,r.unref)(a)]])])]))}},un={class:"tb-py-2 tb-flex tb-items-center tb-justify-start hover:tb-bg-green-100 tb-rounded"},mn=["src"],bn={class:"tb-pl-2 tb-line-through tb-text-green-500"},pn={props:{comment:Object},setup(e){const t=e,o=(0,r.ref)(75),n=(0,r.computed)((()=>nn(t.comment.comment,o.value))),a=(0,r.computed)((()=>t.comment.thumbnail));return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",un,[(0,r.createElementVNode)("img",{src:(0,r.unref)(a),class:"tb-shadow tb-rounded tb-mx-2",style:{width:"50px"}},null,8,mn),(0,r.createElementVNode)("span",bn,(0,r.toDisplayString)((0,r.unref)(n)),1)]))}},gn={class:"tb-py-1 hover:tb-bg-gray-50 tb-rounded"},fn={class:"tb-p-1 tb-text-red-400 tb-m-1"},hn=(0,r.createElementVNode)("strong",null,"Error Message:",-1),vn={class:"tb-p-3 tb-mx-1 tb-bg-gray-100 tb-rounded"},yn=(0,r.createElementVNode)("strong",null,"id:",-1),xn=(0,r.createElementVNode)("br",null,null,-1),wn=(0,r.createElementVNode)("strong",null,"comment:",-1),kn={props:{comment:Object},setup:e=>(t,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",gn,[(0,r.createElementVNode)("div",fn,[hn,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.comment.error),1)]),(0,r.createElementVNode)("div",vn,[yn,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.comment.id),1),xn,wn,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.comment.comment),1)])]))};function Tn(){const{track:e}=S(),t=TBGlobal.GetToolById("bulkdeletecomments").name,o=(o,r)=>{null==r.Tool&&(r.Tool=t),r.ModuleType="Vuejs",e(o,r)};return{FeatureUsed:e=>{o("Feature Used",e)},FeatureApplied:e=>{o("Feature Applied",e)}}}const En=(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("span",{class:"tb-text-3xl"},"Bulk Delete Comments | Beta")],-1),Sn={class:"tb-flex tb-items-center tb-justified-start tb-p-5 tb-pb-0"},Cn=["src"],Vn={key:0,class:"tb-text-center tb-p-5"},Bn={key:0,class:"tb-flex tb-items-center tb-justify-center"},Nn=["src"],In=(0,r.createElementVNode)("div",{class:"tb-m-5 tb-font-bold"},"Finding comments...",-1),Dn={key:1},Mn=(0,r.createElementVNode)("div",{class:"tb-font-bold tb-text-red-500 tb-mb-4"},"Error",-1),Ln={key:0,class:"tb-bg-red-50 tb-text-red-500 tb-rounded tb-p-3 tb-mb-1"},On={key:1,class:"tb-bg-red-50 tb-text-red-500 tb-rounded tb-p-3 tb-mb-1"},jn=(0,r.createElementVNode)("div",{class:"tb-bg-gray-100 tb-p-3 tb-rounded"}," This tool is still in beta. There may be times where it cannot find all the user's comments. ",-1),An={key:2},Un={class:"tb-p-2 tb-font-bold tb-text-green-600"},Pn={key:0,class:"tb-text-sm tb-py-1 tb-mb-2 tb-font-bold tb-flex tb-items-center tb-justify-between"},_n=[(0,r.createElementVNode)("div",null,"Comments",-1),(0,r.createElementVNode)("div",{class:"tb-pr-5"},"Remove",-1)],$n={class:"tb-bg-gray-100 tb-p-3 tb-rounded"},zn={class:"tb-mb-5 tb-overflow-y-auto tb-shadow tb-rounded tb-p-1",style:{"max-height":"150px"}},Fn={class:"tb-my-5"},Gn=(0,r.createTextVNode)("Delete Comments"),Rn={key:1,class:"tb-p-5"},Qn={class:"tb-font-bold tb-flex tb-items-center tb-justify-center tb-text-green-600"},Hn=["src"],Kn=(0,r.createElementVNode)("div",{class:"tb-m-5 tb-font-bold"},"Deleting Comments...",-1),Wn={class:"tb-overflow-y-scroll tb-shadow tb-rounded tb-p-1",style:{"max-height":"100px"}},Yn={key:0},qn=(0,r.createElementVNode)("div",{class:"tb-my-5 tb-font-bold tb-text-center tb-text-red-500"},"Deletion Errors",-1),Jn=(0,r.createElementVNode)("div",{class:"tb-mb-5 tb-text-lg tb-text-center"},"Please copy the following text below when creating a support ticket",-1),Zn={class:"tb-overflow-y-scroll tb-shadow tb-rounded tb-p-1",style:{"max-height":"100px"}},Xn={props:{query:String,avatar:String},setup(e){const t=e,o=(0,r.computed)((()=>browser.runtime.getURL("/images/general/loading1.gif"))),n=(0,r.computed)((()=>t.avatar)),a=(0,r.ref)([]),i=(0,r.ref)([]),l=(0,r.ref)(!1),s=(0,r.ref)(!1),c=(0,r.ref)(null),d=(0,r.ref)(!1),u=(0,r.ref)([]),m=(0,r.ref)([]),{CanAccessLevel2Tools:b}=qe(),{FeatureUsed:p,FeatureApplied:g}=Tn(),h=async()=>{d.value=!0;const e=i.value.filter((e=>!a.value.includes(e.id)));for(const t of e)try{await TubeBuddyYouTubeActions.DeleteCommentStudio(t.delete),u.value.push(t),await Dt(500)}catch(e){t.error=e,m.value.push(t)}g({Action:"Deleted",Data:{UserName:t.query,CommentsDeleted:u.value.length,CommentsDeletedFailed:m.value.length}}),TBUtilities.AddAction({CommentCount:u.value.length},TBUtilities.ActionTypes.BulkDeleteComments_Use,"bulkdeletecomments"),m.value.length||window.location.reload()},v=({id:e,add:o})=>{o?(a.value.push(e),p({Action:"Excluded",Data:{UserName:t.query,CommentId:e}})):a.value=[...a.value.filter((t=>t!==e))]};function y(){p({Action:"Closed"}),TubeBuddyMenu.HideBackground(),jQuery("body").trigger("TBBulkDeleteCommentsClose")}return(0,r.onBeforeMount)((()=>{b("use Bulk Delete Comments",TBGlobal.limitation.bulkdeletecomments,"TBBulkDeleteCommentsClose")&&(async()=>{try{const e=await TubeBuddyYouTubeActions.GetCommentsStudio(t.query,200);l.value=!0,i.value=e.commentsList,p({Action:"Search",Data:{UserName:t.query,CommentsFound:i.value.length}})}catch(e){l.value=!0,s.value=!0,c.value=e}})()})),(t,b)=>((0,r.openBlock)(),(0,r.createBlock)(f,{id:"bulk-delete-comments",link:"bulkdeletecomments",width:600,height:400,isDraggable:t.dragModalEnabled,onModalClosing:(0,r.withModifiers)(y,["stop","prevent"])},{header:(0,r.withCtx)((()=>[En])),content:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",Sn,[(0,r.createElementVNode)("img",{src:(0,r.unref)(n),class:"tb-rounded-full tb-mr-2",style:{width:"40px",height:"40px"}},null,8,Cn),(0,r.createElementVNode)("div",null,(0,r.toDisplayString)(e.query),1)]),d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Rn,[(0,r.createElementVNode)("div",Qn,[(0,r.createElementVNode)("img",{src:(0,r.unref)(o)},null,8,Hn),Kn]),(0,r.createElementVNode)("div",Wn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(u.value,((e,t)=>((0,r.openBlock)(),(0,r.createBlock)(pn,{key:`deleted-${e.id}`,comment:e,class:(0,r.normalizeClass)(["tb-mb-1",{"tb-bg-green-50":t%2==0}])},null,8,["comment","class"])))),128))]),m.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Yn,[qn,Jn,(0,r.createElementVNode)("div",Zn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(m.value,(e=>((0,r.openBlock)(),(0,r.createBlock)(kn,{key:`failed-${e.id}`,comment:e,class:"tb-mb-1"},null,8,["comment"])))),128))])])):(0,r.createCommentVNode)("",!0)])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Vn,[l.value?l.value&&s.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Dn,[Mn,c.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ln,(0,r.toDisplayString)(c.value.message),1)):(0,r.createCommentVNode)("",!0),c.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",On,(0,r.toDisplayString)(c.value.response),1)):(0,r.createCommentVNode)("",!0),jn])):((0,r.openBlock)(),(0,r.createElementBlock)("div",An,[(0,r.createElementVNode)("div",Un,"We found "+(0,r.toDisplayString)(i.value.length)+" comments for this user on all your videos.",1),i.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Pn,_n)):(0,r.createCommentVNode)("",!0),(0,r.withDirectives)((0,r.createElementVNode)("div",$n," This tool is still in beta. There may be times where it cannot find all the user's comments. ",512),[[r.vShow,!i.value.length]]),(0,r.createElementVNode)("div",zn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.value,((e,t)=>((0,r.openBlock)(),(0,r.createBlock)(dn,{key:e.id,filters:a.value,comment:e,class:(0,r.normalizeClass)([{"tb-bg-gray-50":t%2==0},"tb-mb-1"]),onUpdateFilter:v},null,8,["filters","comment","class"])))),128))]),(0,r.withDirectives)((0,r.createElementVNode)("div",Fn,[(0,r.createVNode)(x,{onBtnClicked:h,class:"tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white tb-mr-2"},{default:(0,r.withCtx)((()=>[Gn])),_:1})],512),[[r.vShow,i.value.length]])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Bn,[(0,r.createElementVNode)("img",{src:(0,r.unref)(o)},null,8,Nn),In]))]))])),_:1},8,["isDraggable","onModalClosing"]))}},ea=Xn;class ta extends a{constructor(){super(),this.match=/channel\/.*\/analytics\/tab-search_insights/,this.name="AnalyticsResearchQuickMenu"}initialize(){let e={};jQuery("body").on("click","div.tb-menu-item-keyword-explorer",(t=>{TubeBuddyMenu.ShowBackgroundSticky(),TubeBuddyKeywordExplorer.Show(e.searchParams.get("q"))})),jQuery("body").on("click","div.tb-menu-item-seo-studio",(t=>{TubeBuddyMenu.ShowBackgroundSticky(),jQuery("body").trigger("TBopenSeoStudioVue",[{isUpload:!1,videoId:"",startingKeyword:e.searchParams.get("q")}]),jQuery("#dialog.ytcp-text-menu").css("display","none")})),jQuery("body").on("click",".search-term-list-row .more-button tp-yt-iron-icon",(t=>{let o=document.querySelector("#dialog #paper-list #text-item-0 a.ytcp-text-menu").getAttribute("href");if(null==o)return;e=new URL(o);if(jQuery("#dialog #paper-list.ytcp-text-menu").each((function(e,t){jQuery(t).append(jQuery('<div class="tb-yt-menu-item tb-menu-item-keyword-explorer tb-flex tb-px-12 tb-py-1 tb-bg-transparent tb-cursor-pointer tb-items-center tb-justify-start">\n                <div class="tb-menu-item-icon tb-relative tb-pr-3 tb-pt-2">\n                    <svg id="tb-icon-transparent" viewBox="0 0 587.76 472" xmlns="http://www.w3.org/2000/svg" style="fill:rgb(255, 34, 34);">\n                        <path d="M353,383.06l144.7-86.14L370.52,225V120.44S512.28,91.58,571.25,225s-56.88,212.44-83.64,226.66-108.73,37.63-174,0S220.8,358,220.8,296.92V0H353V383.06" class="a"></path>\n                        <path d="M69.42,0H200.73V465.86H69.42V225H0V120.44H69.42V0" class="a"></path>\n                    </svg>\n                </div>\n                <span class="tb-menu-item-copy tb-ml-4 tb-text-gray-500">\n                    Explore Keyword\n                </span>\n            </div>\n\n            <div class="tb-yt-menu-item tb-menu-item-seo-studio tb-flex tb-px-12 tb-py-1 tb-bg-transparent tb-cursor-pointer tb-items-center tb-justify-start">\n                <div class="tb-menu-item-icon tb-relative tb-pr-3 tb-pt-2">\n                    <svg id="tb-icon-transparent" viewBox="0 0 587.76 472" xmlns="http://www.w3.org/2000/svg" style="fill:rgb(255, 34, 34);">\n                        <path d="M353,383.06l144.7-86.14L370.52,225V120.44S512.28,91.58,571.25,225s-56.88,212.44-83.64,226.66-108.73,37.63-174,0S220.8,358,220.8,296.92V0H353V383.06" class="a"></path>\n                        <path d="M69.42,0H200.73V465.86H69.42V225H0V120.44H69.42V0" class="a"></path>\n                    </svg>\n                </div>\n                <span class="tb-menu-item-copy tb-ml-4 tb-text-gray-500">\n                    Create Optimization\n                </span>\n            </div>'))})),jQuery("html[dark]").length>0){if(jQuery(".tb-menu-item-keyword-explorer").length<=0)return;const e=e=>{jQuery(e).children(".tb-menu-item-copy").css("color","#fff")},t=jQuery(".tb-menu-item-keyword-explorer"),o=jQuery(".tb-menu-item-seo-studio");t.each(((t,o)=>{e(o)})),o.each(((t,o)=>{e(o)}))}}))}}const oa=browser.runtime.getURL("/images/modules/tutorial/alt01.png"),ra=browser.runtime.getURL("/images/modules/tutorial/alt02.png"),na=browser.runtime.getURL("/images/modules/tutorial/alt03.png"),aa=browser.runtime.getURL("/images/modules/tutorial/alt04.png"),ia={showBullets:!1,hidePrev:!0,disableInteraction:!0,steps:[{tooltipClass:"tb-tutorial-1",title:"Welcome!",intro:`<div id="tb-tutorial-step1"  class="tb-tutorial-container">\n                        <div id="tutorial-step1-msg" class="tb-font-color-gray tb-font-cbold">\n                            Thank you for installing <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span>\n                        </div>\n                        <div id="tb-tutorial-video">\n                            <iframe width="560" height="315" src="https://www.youtube.com/embed/wXnCBg3IB6E" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n                        </div>\n                        <img src=${browser.runtime.getURL("/images/modules/tutorial/star-banner.png")} alt="banner" width="560" height="72"/>\n                    </div>`},{tooltipClass:"tb-tutorial-2",position:"bottom",element:"#tb-main-menu",intro:`\n            <div id="tb-tutorial-step2" class="tb-tutorial-container">\n                  <div id="tutorial-step2-msg" class="tb-font-color-gray tb-font-cbold">\n                    This is where you can find<br/>the main TubeBuddy menu.\n                  </div>\n                  <div id="tutorial-step2-img">\n                    <img class="buddy-tutorial" alt="buddy alt 1" src=${oa} width="90" height="90"/>\n                  </div>\n            </div>`},{title:"Tools tab",tooltipClass:"tb-tutorial-3",position:"top",element:"li.tb-main-content-tabs-tools",intro:`<div class="tab-tutorial-container">\n                        <div class="img-msg-container">\n                            <img class="buddy-tutorial" alt="buddy alt 2"  src=${ra} width="80" height="80"/>\n                            <div id="tutorial-step3-msg" class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                                These are your featured tools! This tab will let you know what's popular and all new products we launch. <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span> has so much to offer you as a creator.\n                            </div>\n                        </div>\n                        <img class="tab-tutorial-img" alt="tools tab"  src=${browser.runtime.getURL("/images/modules/tutorial/yt-tutorial-features.png")} width="390.4" height="274.5"/>\n                    </div>`},{title:"News tab",tooltipClass:"tb-tutorial-4",position:"bottom",element:"li.tb-main-content-tabs-industrynews",intro:`<div class="tab-tutorial-container">\n                        <div class="img-msg-container">\n                            <img class="buddy-tutorial" alt="buddy alt 1" src=${oa} width="80" height="80"/>\n                            <div id="tutorial-step4-msg" class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                              This is your one-stop shop for content creator news. Stay up to date with breaking news from YouTube and beyond.\n                            </div>\n                        </div>\n                        <img class="tab-tutorial-img" alt="news tab" src=${browser.runtime.getURL("/images/modules/tutorial/yt-tutorial-news.png")} width="390.5" height="274.7"/>\n                    </div>`},{title:"Milestones tab",tooltipClass:"tb-tutorial-5",position:"bottom",element:"li.tb-main-content-tabs-milestones",intro:`<div class="tab-tutorial-container">\n                        <div class="img-msg-container">\n                            <img class="buddy-tutorial" alt="buddy alt 3" src=${na} width="80" height="80"/>\n                            <div id="tutorial-step5-msg" class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                              Celebrate your channel milestones with <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span>! Toot your own horn and show the world how your channel is growing\n                            </div>\n                        </div>\n                        <img class="tab-tutorial-img" alt="milestones tab" src=${browser.runtime.getURL("/images/modules/tutorial/yt-tutorial-milestones.png")} width="390.5" height="274.7"/>\n                    </div>`},{title:"Quick Links",tooltipClass:"tb-tutorial-6",position:"left",element:"div.tb-main-menu-quick.tb-menu-signed-in",intro:`<div class="img-msg-container-sm">\n                         <div>\n                            <img class="buddy-tutorial" alt="buddy alt 3" src=${na} width="80" height="80"/>\n                        </div>\n                        <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                            Save time and use these quick links to jump to the tools you want to use!\n                        </div>\n                    </div>`},{title:"Extension Tools",tooltipClass:"tb-tutorial-7",element:"#tb-extension-tools-tab",position:"left",intro:`<div class="img-msg-container-sm">\n                         <div>\n                            <img class="buddy-tutorial" alt="buddy alt 4" src=${aa} width="80" height="80"/>\n                        </div>\n                        <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                            Use these links to access tools that will help you optimize your videos to more effectively reach and grow your audience.\n                        </div>\n                    </div>`},{title:"Want to know more?",tooltipClass:"tb-tutorial-8",position:"left",intro:`<div class="tutorial-playlist-container">\n                         <div class="tb-font-color-gray tb-font-cbold tutorial-playlist-msg ">\n                            Here are a few more resources to help you get started: \n                         </div>\n                         <a class="img-playlist-container" target="_blank" href="https://youtu.be/wXnCBg3IB6E">\n                            <div>\n                                <img class="tutorial-thumbnail-img" alt="quick links thumbnail" src=${browser.runtime.getURL("/images/modules/tutorial/thumbnail1.jpg")} width="128" height="72"/>\n                            </div>\n                            <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                                <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span> Onboarding: Quick Links (1 of 4) with Daniel Batal\n                            </div>\n                         </a>\n                            <a class="img-playlist-container" target="_blank" href="https://youtu.be/evxNQYWOWBY">\n                            <div>\n                                <img class="tutorial-thumbnail-img" alt="extension tools thumbnail" src=${browser.runtime.getURL("/images/modules/tutorial/thumbnail2.jpg")} width="128" height="72"/>\n                            </div>\n                            <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                                <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span> Onboarding: Extension Tools (2 of 4) with Daniel Batal\n                            </div>\n                         </a>\n                           <a class="img-playlist-container" target="_blank" href="https://youtu.be/lQRB3iLtMag">\n                            <div>\n                                <img class="tutorial-thumbnail-img" alt="web tools thumbnail" src=${browser.runtime.getURL("/images/modules/tutorial/thumbnail3.jpg")} width="128" height="72"/>\n                            </div>\n                            <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                                <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span> Onboarding: Web Tools (3 of 4) with Daniel Batal\n                            </div>\n                         </a>\n                            <a class="img-playlist-container" target="_blank" href="https://youtu.be/NlyLjAVQ97g">\n                            <div>\n                                <img class="tutorial-thumbnail-img" alt="account and support thumbnail" src=${browser.runtime.getURL("/images/modules/tutorial/thumbnail4.jpg")} width="128" height="72"/>\n                            </div>\n                            <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                                <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span> Onboarding: Account and Support (4 of 4) with Daniel Batal\n                            </div>\n                         </a>\n                    </div>`}]},{FeatureUsed:la}=function(){const{track:e}=S(),t=(t,o)=>{null==o.Tool&&(o.Tool="Onboarding Tutorial"),o.ModuleType="Vuejs",e(t,o)};return{FeatureUsed:e=>{t("Feature Used",e)},FeatureApplied:e=>{t("Feature Applied",e)}}}(),sa=["Tutorial Welcome Screen","Main Menu Button","Tools Tab","News Tab","Milestones Tab","Quick Links","Extension Tools","Recommended Videos"];class ca extends n{constructor(){super(),this.match=null,this.type="OnLoad"}create(){}}const da={class:"tb-mt-5"},ua={class:"tb-border tb-border-gray-300 tb-border-line tb-border-solid tb-rounded-lg"},ma={},ba=(0,v.Z)(ma,[["render",function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",da,[(0,r.createElementVNode)("div",ua,[(0,r.createElementVNode)("header",null,[(0,r.renderSlot)(e.$slots,"header")]),(0,r.createElementVNode)("main",null,[(0,r.renderSlot)(e.$slots,"default")]),(0,r.createElementVNode)("footer",null,[(0,r.renderSlot)(e.$slots,"footer")])])])}]]),pa=["href"],ga=["src","title"],fa={props:{title:{type:String,default:"TubeBuddy Setting"}},setup(e){const t=e,o=(0,r.computed)((()=>browser.extension.getURL("images/icons/settings.png"))),n=(0,r.computed)((()=>t.title)),a=(0,r.computed)((()=>`${TBGlobal.host}/channel/preferences/${TBGlobal.CurrentChannelId()}`));return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("a",{href:(0,r.unref)(a),target:"_blank",class:"tb-flex tb-items-center"},[(0,r.createElementVNode)("img",{src:(0,r.unref)(o),title:(0,r.unref)(n),class:"tb-opacity-50"},null,8,ga)],8,pa))}},ha=["href"],va=["src","title","alt"],ya={props:{title:{type:String,default:"Help?"},linkTo:{type:String}},setup(e){const t=e,o=(0,r.computed)((()=>browser.extension.getURL("images/icons/question.png"))),n=(0,r.computed)((()=>t.title)),a=(0,r.computed)((()=>t.linkTo?`${TBGlobal.host}/tools?tool=${t.linkTo}`:"#"));return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("a",{target:"_blank",href:(0,r.unref)(a),class:"tb-flex tb-items-center"},[(0,r.createElementVNode)("img",{src:(0,r.unref)(o),title:(0,r.unref)(n),class:"tb-opacity-50",alt:(0,r.unref)(n),style:{width:"17px",height:"17px"}},null,8,va)],8,ha))}},xa=[(0,r.createElementVNode)("path",{d:"M353,383.06l144.7-86.14L370.52,225V120.44S512.28,91.58,571.25,225s-56.88,212.44-83.64,226.66-108.73,37.63-174,0S220.8,358,220.8,296.92V0H353V383.06"},null,-1),(0,r.createElementVNode)("path",{d:"M69.42,0H200.73V465.86H69.42V225H0V120.44H69.42V0"},null,-1)],wa={props:{width:{type:Number,default:14},heigth:{type:Number,default:14}},setup(e){const t=e,o=(0,r.computed)((()=>`width:${t.width}px;height:${t.height}px`));return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 587.76 472",fill:"#df2726","fill-rule":"evenodd",style:(0,r.normalizeStyle)((0,r.unref)(o))},xa,4))}},ka={key:0,class:"tb-text-green-600 tb-flex tb-items-center tb-justify-between"},Ta=[(0,r.createElementVNode)("i",{class:"material-icons tb-demonetization-studio-no-problems-icon tb-font-size18"},"check",-1),(0,r.createElementVNode)("span",{class:"tb-mx-1"},"No warnings!",-1)],Ea={key:1,class:"tb-text-yellow-500 tb-flex tb-items-center tb-justify-between"},Sa=[(0,r.createElementVNode)("i",{class:"material-icons tb-font-size18"},"warning",-1),(0,r.createElementVNode)("span",{class:"tb-mx-1"},"Warning!",-1)],Ca={props:{status:{type:String,default:"ok"}},setup(e){const t=e,o=(0,r.computed)((()=>"ok"==t.status));return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createElementBlock)("div",ka,Ta)):((0,r.openBlock)(),(0,r.createElementBlock)("div",Ea,Sa))]))}},Va={class:"tb-flex tb-justify-between tb-items-center tb-p-4"},Ba={class:"tb-flex tb-items-center"},Na=(0,r.createElementVNode)("span",{class:"tb-opacity-50"},"Demonetization Audit",-1),Ia={class:"tb-flex tb-justify-between tb-items-center"},Da={class:"tb-flex tb-items-center tb-justify-between"},Ma={key:0},La=(0,r.createElementVNode)("div",{class:"tb-font-bold tb-bg-gray-400 tb-p-4"}," The following words may potentially trigger demonetization ",-1),Oa=(0,r.createElementVNode)("hr",null,null,-1),ja={class:"tb-p-4"},Aa={key:0},Ua=(0,r.createElementVNode)("h3",{class:"tb-flex tb-items-center"},[(0,r.createElementVNode)("i",{class:"material-icons tb-text-red-500 tb-mr-3"},"error_outline"),(0,r.createTextVNode)(" Title ")],-1),Pa={class:"tb-p-2 tb-pl-10 tb-flex tb-flex-wrap"},_a={class:"tb-flex tb-flex-wrap tb-text-red-600 tb-justify-start tb-items-center"},$a=(0,r.createElementVNode)("span",{class:"tb-font-bold tb-mr-3"},"Demonetization Warning!",-1),za={key:1},Fa=(0,r.createElementVNode)("h3",{class:"tb-flex tb-items-center"},[(0,r.createElementVNode)("i",{class:"material-icons tb-text-red-500 tb-mr-3"},"error_outline"),(0,r.createTextVNode)(" Description ")],-1),Ga={class:"tb-p-2 tb-pl-10 tb-flex tb-flex-wrap"},Ra={class:"tb-flex tb-flex-wrap tb-text-red-600 tb-justify-start tb-items-center"},Qa=(0,r.createElementVNode)("span",{class:"tb-font-bold tb-mr-3"},"Demonetization Warning!",-1),Ha={key:2},Ka=(0,r.createElementVNode)("h3",{class:"tb-flex tb-items-center"},[(0,r.createElementVNode)("i",{class:"material-icons tb-text-red-500 tb-mr-3"},"error_outline"),(0,r.createTextVNode)(" Tags ")],-1),Wa={class:"tb-p-2 tb-pl-10 tb-flex tb-flex-wrap"},Ya={setup(e){const{FeatureUsed:t}=function(){const{track:e}=S(),t=TBGlobal.GetToolById("demonetizationaudit").name,o=(o,r)=>{const{Data:{Title:n,Description:a,Tags:i,...l}}=r,s=l;let c=Object.keys(r.Data).reduce(((e,t)=>(r.Data[t].Warnings&&(e.Data[t]={Warnings:r.Data[t].Warnings}),e)),{Data:{...s}});c.Tool=t,c.ModuleType="Vuejs";try{e(o,c)}catch(e){TBUtilities.Log(e)}};return{FeatureUsed:e=>{o("Feature Used",e)},FeatureApplied:e=>{o("Feature Applied",e)}}}(),o=(0,r.ref)(""),n=(0,r.ref)(""),a=(0,r.ref)([]),i=(0,r.ref)([]),l=(0,r.computed)((()=>i.value.filter((e=>null!=o.value.match(`\\b${e}\\b`))).reverse())),s=(0,r.computed)((()=>i.value.filter((e=>null!=n.value.match(`\\b${e}\\b`))).reverse())),c=(0,r.computed)((()=>i.value.filter((e=>null!=a.value.join(" ").match(`\\b${e}\\b`))).reverse())),d=(0,r.computed)((()=>l.value.length+s.value.length+c.value.length>0)),u=()=>{o.value=jQuery(".title #textbox").text().trim()},m=()=>{n.value=jQuery(".description #textbox").text().trim()},b=()=>{a.value=[...jQuery("ytcp-chip-bar#chip-bar ytcp-chip").find("div.ytcp-chip").map(((e,t)=>t.innerText))]},p=()=>{u(),m(),b()};return(0,r.onBeforeMount)((()=>{i.value=TBUtilities.GetCensoredWords()})),(0,r.onMounted)((()=>{p(),jQuery(document).on("click","ytcp-button#save",p),jQuery(document).on("keyup",".title #textbox",u),jQuery(document).on("keyup",".description textarea, .description #textbox",m),jQuery(document).on("click","#tags-container .delete-icon",b),jQuery(document).on("change keyup keypress paste",".text-input",b),jQuery(document).on("focusout paste",".text-input",b),jQuery(document).on("click",".remove-defaults",b),jQuery('ytcp-form-input-container#container #child-input div[slot="body"]').append('<div id="title-teleport" class="tb-absolute tb-bottom-2 tb-left-0 tb-ml-2 tb-opacity-75"></div>'),jQuery('div#description-container ytcp-form-input-container#container #child-input div[slot="body"]').append('<div id="desc-teleport" class="tb-absolute tb-bottom-2 tb-left-0 tb-ml-2 tb-opacity-75"></div>')})),(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(ba,null,{header:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",Va,[(0,r.createElementVNode)("div",Ba,[(0,r.createVNode)(wa,{class:"tb-mr-3"}),Na]),(0,r.createElementVNode)("div",Ia,[(0,r.createVNode)(Ca,{status:(0,r.unref)(d)?"warning":"ok",class:"tb-mx-4"},null,8,["status"]),(0,r.createElementVNode)("div",Da,[(0,r.createVNode)(fa,{title:"Demonetization Audit Settings",class:"tb-mr-2"}),(0,r.createVNode)(ya,{"link-to":"demonetizationaudit"})])])])])),default:(0,r.withCtx)((()=>[(0,r.unref)(d)?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ma,[La,Oa,(0,r.createElementVNode)("div",ja,[(0,r.unref)(l).length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Aa,[Ua,(0,r.createElementVNode)("div",Pa,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(l),((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:`title-${t}`,class:"tb-px-2 tb-py-1 tb-bg-red-600 tb-text-white tb-rounded tb-m-1"},(0,r.toDisplayString)(e),1)))),128))]),((0,r.openBlock)(),(0,r.createBlock)(r.Teleport,{to:"#title-teleport"},[(0,r.createElementVNode)("div",_a,[(0,r.createVNode)(wa,{class:"tb-mx-3"}),$a,((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(l),((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:`title-${t}`,class:"tb-px-2 tb-py-1 tb-mx-1 tb-bg-gradient-to-b tb-from-white tb-to-gray-100 tb-shadow tb-rounded-lg"},(0,r.toDisplayString)(e),1)))),128))])]))])):(0,r.createCommentVNode)("",!0),(0,r.unref)(s).length?((0,r.openBlock)(),(0,r.createElementBlock)("div",za,[Fa,(0,r.createElementVNode)("div",Ga,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(s),((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:`title-${t}`,class:"tb-px-2 tb-py-1 tb-bg-red-600 tb-text-white tb-rounded tb-m-1"},(0,r.toDisplayString)(e),1)))),128))]),((0,r.openBlock)(),(0,r.createBlock)(r.Teleport,{to:"#desc-teleport"},[(0,r.createElementVNode)("div",Ra,[(0,r.createVNode)(wa,{class:"tb-mx-3"}),Qa,((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(s),((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:`title-${t}`,class:"tb-px-2 tb-py-1 tb-mx-1 tb-bg-gradient-to-b tb-from-white tb-to-gray-100 tb-shadow tb-rounded-lg"},(0,r.toDisplayString)(e),1)))),128))])]))])):(0,r.createCommentVNode)("",!0),(0,r.unref)(c).length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ha,[Ka,(0,r.createElementVNode)("div",Wa,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(c),((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:`title-${t}`,class:"tb-px-2 tb-py-1 tb-bg-red-600 tb-text-white tb-rounded tb-m-1"},(0,r.toDisplayString)(e),1)))),128))])])):(0,r.createCommentVNode)("",!0)])])):(0,r.createCommentVNode)("",!0)])),_:1}))}};function qa(e){const{track:t}=S(),o=async e=>{const t=await n(e);t.video_id=e,r("Chapter Editor 30 Day Follow Up",t),TBUtilities.Log("Chapter Editor - sent follow up stats for videoId: "+e)},r=(o,r)=>{r.video_id=e?e.getters.getVideoId:null,t(o,r)},n=async e=>{if(!e)return;const t=["VIEWS","WATCH_TIME","AVERAGE_WATCH_PERCENTAGE"],o=await TubeBuddyYouTubeActions.AnalyticsGetSummaryVideoTotals(e,null,null,t),r=await TubeBuddyYouTubeActions.AnalyticsGetSummaryChannelTotals(null,null,t),n=await i();return{video_metrics:{views:o.resultData.VIEWS,watch_time:o.resultData.WATCH_TIME,average_watch_percentage:o.resultData.AVERAGE_WATCH_PERCENTAGE},channel_metrics:{views:a(r,"VIEWS"),watch_time:a(r,"WATCH_TIME"),average_watch_percentage:a(r,"AVERAGE_WATCH_PERCENTAGE"),video_count:n}}},a=(e,t)=>{if(!e||!e.resultData||e.resultData.length<1)return null;const o=e.resultData.filter((e=>e.Type.toLowerCase()===t.toLowerCase())).map((e=>e.Value));return o.length>0?o[0]:null},i=()=>new Promise((e=>{TubeBuddyStatFire.GetCompetitorChannelStats(TBGlobal.CurrentChannelId(),null,1,1,((t,o)=>{if(o&&o.ChannelStats&&o.ChannelStats.length>0){const t=o.ChannelStats[o.ChannelStats.length-1].VideoCount;e(t)}else e(null)}))}));return{ChapterEditorOpened:()=>{r("Chapter Editor Opened",{})},ChapterEditorClosed:()=>{r("Chapter Editor Closed",{})},ChapterEditorApplied:async t=>{const o=e?e.getters.getVideoId:null,a=await n(o),i=e.getters.getVideoChaptersAutoSort;a.chapter_count=i.length,"applied"===t?r("Chapter Editor Applied To Video",a):"copied"===t&&r("Chapter Editor Copied To Clipboard",a);const l={videoId:o,checkDate:moment().add("days",30)},s="tb-"+TBGlobal.CurrentChannelId()+"-ch-ed-30day";TBExtension.GetDbValue(s,((e,t)=>{if(t){const o=JSON.parse(t);o.push(l),TBExtension.SetDbValue(e,JSON.stringify(o),null),TBUtilities.Log("Chapter Editor Updated VideoIds to fetch: "+JSON.stringify(o))}else TBExtension.SetDbValue(e,JSON.stringify([l]),null),TBUtilities.Log("Chapter Editor Create list of VideoIds to fetch: "+JSON.stringify([l]))}))},ChapterEditorStatsCheck:e=>{TBExtension.GetDbValue(`tb-${e}-ch-ed-30day`,(async(e,t)=>{if(!t)return;const r=JSON.parse(t);if(r.length<1)return;const n=r.filter((e=>moment(e.checkDate).isSameOrBefore(moment())));if(n.length<1)return;TBUtilities.Log("Chapter Editor - fetching data for: "+JSON.stringify(n));for(const e of n)await o(e.videoId);const a=r.filter((e=>!n.map((e=>e.videoId)).includes(e.videoId)));TBExtension.SetDbValue(e,JSON.stringify(a)),TBUtilities.Log("Chapter Editor - removing fetched videoIds from list: "+JSON.stringify(a))}))}}}const Ja={id:"tb-video-player-component"},Za={setup(e){const o=(0,t.useStore)(),{FeatureUsed:n}=qa(o),a=(0,r.computed)((()=>o.getters.getVideoId)),i=(0,r.ref)(null);let l,s=!1,c=!1;const d=(0,r.computed)((()=>o.getters.getVideoCheckInterval)),u=(0,r.computed)((()=>o.getters.getSelectedChapter));function m(e){e.target.playVideo();let t=-1,r=l.getCurrentTime(),n=r;const a=()=>{-1!=t&&(l.getPlayerState()!=YT.PlayerState.PLAYING&&l.getPlayerState()!=YT.PlayerState.PAUSED||(r=l.getCurrentTime(),r!==o.getters.getProgressBarCurrentTimestamp&&(o.commit("setProgressBarCurrentTimestamp",r),u.value&&Math.floor(u.value.timestampSeconds)!=Math.floor(r)&&o.commit("setSelectedChapterId",null)),n=r)),t=l.getCurrentTime(),setTimeout(a,d.value)};setTimeout(a,d.value)}function b(e){e.data!=YT.PlayerState.PLAYING||s||(s=!0),2===l.getPlayerState()&&(o.commit("setCurrentTimestamp",l.getCurrentTime()),c=!0)}return(0,r.watch)((()=>o.getters.getCurrentTimestamp),((e,t)=>{e!=t&&1!=c?l.seekTo(o.getters.getCurrentTimestamp,!0):c=!1})),(0,r.onMounted)((()=>{const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",i.value.parentNode.insertBefore(e,i.value.nextSibling),l=new YT.Player("player-container",{height:"390",width:"640",videoId:a.value,playerVars:{playsinline:1,rel:0,origin:window.location.origin},events:{onReady:m,onStateChange:b}}),o.commit("setPlayer",l)})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Ja,[(0,r.createElementVNode)("div",{id:"player-container",ref:(e,t)=>{t.playerContainer=e,i.value=e}},null,512)]))}},Xa=Za,ei=[(0,r.createElementVNode)("div",{class:"body"},null,-1),(0,r.createElementVNode)("svg",{class:"body-point",height:"3",width:"7"},[(0,r.createElementVNode)("polygon",{points:"0,0 7,0 3,3"}),(0,r.createTextVNode)(" Sorry, your browser does not support inline SVG. ")],-1)],ti={props:{chapter:Object,styling:String},setup(e){const o=(0,t.useStore)(),n=(0,r.computed)((()=>o.getters.getVideoChaptersAutoSort)),a=(0,r.computed)((()=>o.getters.getSelectedChapterId)),i=(0,r.computed)((()=>{const e=n.value.filter((e=>e.id===a.value))[0];return!(e&&e.length>0)||e.isValidLength}));return(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"tb-chapter-marker",onClick:n[0]||(n[0]=t=>{return r=e.chapter,o.commit("setSelectedChapterId",null),o.getters.getPlayer.pauseVideo(),o.getters.getPlayer.seekTo(r.timestampSeconds),void(a.value!==r.id&&i.value&&(n=r.timestampSeconds,o.commit("setCurrentTimestamp",n),o.commit("setSelectedChapterId",r.id)));var r,n}),style:(0,r.normalizeStyle)(e.styling)},ei,4))}},oi=ti;function ri(){const e=e=>{const t=moment.duration(e,"seconds");return{hours:Math.floor(t.asHours()),minutes:t.minutes(),seconds:t.seconds()}};return{getFormattedTimestampString:t=>{const o=e(t),r=e=>e<10?"0"+e:e;return r(o.hours)+":"+r(o.minutes)+":"+r(o.seconds)},getTimeInSeconds:e=>{const t=e.match(/\d{1,2}(?::[0-5]\d){1,2}/gm)[0].split(":");return t?3==t.length?60*parseInt(t[0])*60+60*parseInt(t[1])+parseInt(t[2]):2==t.length?60*parseInt(t[0])+parseInt(t[1]):void 0:NaN},getTimestampParts:e}}const ni={class:"tb-relative"},ai={class:"tb-tooltip-vue"},ii={props:{text:{type:String,required:!0},position:{type:String,default:"bottom"}},setup(e){const t=e,o=(0,r.ref)(!1),n=(0,r.ref)(null),a=(0,r.ref)(null);function i(){if(!a.value)return;const e=a.value.children[0],o=e.getBoundingClientRect().height>0?e.getBoundingClientRect():e.children[0].getBoundingClientRect(),r=n.value.getBoundingClientRect();let i=0,s=0;"bottom"===t.position?(i=o.height+5,s=0-(r.width/2-o.width/2)):"top"===t.position?(i=0-r.height-10,s=0-(r.width/2-o.width/2)):"right"===t.position?(i=o.height/2-r.height/2,s=o.width+5):"left"===t.position&&(i=o.height/2-r.height/2,s=0-r.width-10);let c=l(e);return i-=c?c.scrollTop:0,`top:${i}px;left:${s}px;width:${r.width}px;`}function l(e){try{if(null==e)return null;const t=window.getComputedStyle(e).overflowY;return"visible"!==t&&"hidden"!==t&&e.scrollHeight>e.clientHeight?e:l(e.parentNode)}catch{return null}}return(t,l)=>((0,r.openBlock)(),(0,r.createElementBlock)("span",ni,[(0,r.createVNode)(r.Transition,null,{default:(0,r.withCtx)((()=>[o.value&&e.text.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"tb-absolute tb-z-10",style:(0,r.normalizeStyle)(i())},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["tb-flex tb-justify-center tb-items-center tb-fixed",{"tb-flex-wrap tb-flex-col":"bottom"==e.position||"top"==e.position}])},["bottom"===e.position||"right"===e.position?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:(0,r.normalizeClass)(["tb-flex tb-justify-center tb-items-center",{"tb-w-full tb-tooltip-arrow-up":"bottom"===e.position,"tb-h-full tb-tooltip-arrow-left":"right"===e.position}])},null,2)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",ai,(0,r.toDisplayString)(e.text),1),"top"===e.position||"left"===e.position?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:(0,r.normalizeClass)(["tb-flex tb-justify-center tb-items-center",{"tb-w-full tb-tooltip-arrow-down":"top"===e.position,"tb-h-full tb-tooltip-arrow-right":"left"===e.position}])},null,2)):(0,r.createCommentVNode)("",!0)],2)],4)):(0,r.createCommentVNode)("",!0)])),_:1}),(0,r.createElementVNode)("span",{onMouseenter:l[0]||(l[0]=e=>o.value=!0),onMouseleave:l[1]||(l[1]=e=>o.value=!1),ref:(e,t)=>{t.slotContainer=e,a.value=e},class:"tb-tooltip-slot-container"},[(0,r.renderSlot)(t.$slots,"default")],544),(0,r.createElementVNode)("div",{ref:(e,t)=>{t.tooltipEl=e,n.value=e},class:(0,r.normalizeClass)(["tb-tooltip-vue tb-invisible tb-fixed",{"tb-my-1":"top"===e.position||"bottom"===e.position,"tb-mx-1":"left"===e.position||"right"===e.position}])},(0,r.toDisplayString)(e.text),3)]))}},li=["tb-inline"],si=["id","disabled"],ci=(0,r.createElementVNode)("span",null,":",-1),di=["id","disabled"],ui=(0,r.createElementVNode)("span",null,":",-1),mi=["id","disabled"],bi={props:{isDisabled:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!0},seconds:{type:Number,default:0},chapterId:{type:String,default:""},isActive:{type:Boolean,default:!1},isInline:{type:Boolean,default:!1}},emits:"updated",setup(e,{emit:t}){const o=e,{getTimestampParts:n,getFormattedTimestampString:a}=ri(),i=(0,r.computed)((()=>n(o.seconds))),l=(0,r.ref)(i.value.hours),s=(0,r.ref)(i.value.minutes),c=(0,r.ref)(i.value.seconds);let d;function u(){clearTimeout(d),t("focused")}function m(e=500){clearTimeout(d),d=setTimeout((()=>{t("updated",v.value)}),e)}const b=(0,r.computed)((()=>o.isDisabled?"tb-timestamp-disabled":o.isActive&&void setTimeout((()=>document.activeElement.id.indexOf(o.chapterId)>-1),500)?"tb-timestamp-active":o.isInvalid?"tb-border-red-500":void 0)),p=(0,r.computed)({get:()=>x(i.value.hours),set(e){l.value=y(e),m()}}),g=(0,r.computed)({get:()=>x(i.value.minutes),set(e){s.value=y(e),m()}}),f=(0,r.computed)({get:()=>x(i.value.seconds),set(e){c.value=y(e),m()}}),h=(0,r.computed)((()=>60*parseInt(l.value)*60+60*parseInt(s.value)+parseInt(c.value))),v=(0,r.computed)((()=>({timestampFormatted:a(h.value),timestampSeconds:h.value})));function y(e){const t=parseInt(e),o=t&&!Number.isNaN(t)?t:0;return o>59?59:o}function x(e){const t=parseInt(e);let o=t&&!Number.isNaN(t)?t:0;return t>59?o=59:t<10&&(o="0"+t),o}return(t,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["tb-timestamp-input-container tb-rounded-md",(0,r.unref)(b)]),"tb-inline":e.isInline},[(0,r.withDirectives)((0,r.createElementVNode)("input",{id:`${e.chapterId}-hh`,"onUpdate:modelValue":o[0]||(o[0]=e=>(0,r.isRef)(p)?p.value=e:null),type:"text",maxlength:"2",disabled:e.isDisabled,class:(0,r.normalizeClass)({"tb-cursor-not-allowed":e.isDisabled}),onFocus:u,onBlur:m},null,42,si),[[r.vModelText,(0,r.unref)(p),void 0,{lazy:!0}]]),ci,(0,r.withDirectives)((0,r.createElementVNode)("input",{id:`${e.chapterId}-mm`,"onUpdate:modelValue":o[1]||(o[1]=e=>(0,r.isRef)(g)?g.value=e:null),type:"text",maxlength:"2",disabled:e.isDisabled,class:(0,r.normalizeClass)({"tb-cursor-not-allowed":e.isDisabled}),onFocus:u,onBlur:m},null,42,di),[[r.vModelText,(0,r.unref)(g),void 0,{lazy:!0}]]),ui,(0,r.withDirectives)((0,r.createElementVNode)("input",{id:`${e.chapterId}-ss`,"onUpdate:modelValue":o[2]||(o[2]=e=>(0,r.isRef)(f)?f.value=e:null),type:"text",maxlength:"2",disabled:e.isDisabled,class:(0,r.normalizeClass)({"tb-cursor-not-allowed":e.isDisabled}),onFocus:u,onBlur:m},null,42,mi),[[r.vModelText,(0,r.unref)(f),void 0,{lazy:!0}]])],10,li))}},pi=bi,gi={class:"tb-flex tb-items-center tb-justify-center tb-w-1/6"},fi={class:"tb-inline-editor-chapter-number"},hi={class:"tb-w-9/12 tb-mr-3"},vi={setup(e){const o=(0,t.useStore)(),n=(0,r.computed)((()=>o.getters.getVideoChaptersAutoSort)),a=(0,r.computed)((()=>o.getters.getSelectedChapterId)),i=(0,r.computed)((()=>null===a.value?"":n.value.filter((e=>e.id===a.value))[0])),l=(0,r.computed)((()=>n.value.findIndex((e=>e.id===a.value))));function s(){o.commit("updateVideoChapter",i.value)}function c(){o.commit("setSelectedChapterId",null)}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"tb-inline-editor-container",style:(0,r.normalizeStyle)(0==l.value?"right:-110px;":"right: 0px;")},[(0,r.createElementVNode)("div",gi,[(0,r.createElementVNode)("div",fi,(0,r.toDisplayString)((0,r.unref)(l)+1),1)]),(0,r.createElementVNode)("div",hi,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",name:"chapter title",class:"tb-inline-chapter-title tb-mb-2","onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.unref)(i).title=e),onInput:s,placeholder:"Insert chapter title",style:{}},null,544),[[r.vModelText,(0,r.unref)(i).title]]),(0,r.createVNode)(pi,{isDisabled:0===(0,r.unref)(l),isActive:"true",seconds:(0,r.unref)(i).timestampSeconds,chapterId:(0,r.unref)(i).id,isInline:"true",onUpdated:t[1]||(t[1]=e=>function(e,t){var r;r=t.timestampSeconds,o.commit("setCurrentTimestamp",r);const n=Object.assign(e,t);o.commit("updateVideoChapter",n)}((0,r.unref)(i),e))},null,8,["isDisabled","seconds","chapterId"])]),(0,r.createElementVNode)("div",{class:"tb-mr-1 tb-mt-1"},[(0,r.createElementVNode)("i",{class:"material-icons tb-icon-white tb-close-modal",onClick:c},"close")])],4))}},yi=vi,xi={class:"tb-chapter-editor-progress-bar-container"},wi={class:"tb-chapter-editor-progress-bar"},ki=(0,r.createElementVNode)("div",{id:"tb-progress-bar-elapsed",style:{width:"0%"}},null,-1),Ti={id:"tb-chapter-editor-playhead",style:{left:"-6px"}},Ei=(0,r.createElementVNode)("div",{class:"body"},null,-1),Si=(0,r.createElementVNode)("svg",{class:"body-point",height:"5",width:"13"},[(0,r.createElementVNode)("polygon",{points:"0,0 13,0 6,5"}),(0,r.createTextVNode)(" Sorry, your browser does not support inline SVG. ")],-1),Ci={setup(e){const o=(0,t.useStore)(),{getFormattedTimestampString:n}=ri(),{CanAccessLevel1Tools:a}=qe(),i=(0,r.computed)((()=>o.getters.getVideoChaptersAutoSort)),l=o.getters.getVideo.videoDurationMs,s=(0,r.ref)(1),c=(0,r.computed)((()=>o.getters.getSelectedChapterId)),d=(e,t)=>e/t*100-.5,u=(0,r.ref)(-1),m=(0,r.ref)(0);let b=!1,p=0,g=0,f=0,h=(0,r.ref)(!1);function v(e){let t=(e=>Math.floor(e/36e5%24))(e),o=(e=>Math.floor(e/6e4%60))(e),r=(e=>Math.floor(e/1e3%60))(e);return(e=>60*e*60)(t)+(e=>60*e)(o)+r}return(0,r.watch)((()=>o.getters.getProgressBarCurrentTimestamp),((e,t)=>{e!==t&&(!1===b?(b=!0,p=performance.now()):(g=performance.now(),b=!1,f=Math.floor(Math.abs(g-p)))),s.value=o.getters.getPlayer.getPlayerState(),h.value=function(e){let t=!1;for(let o=0;o<i.value.length;o++)if(e>i.value[o].timestampSeconds-10&&e<i.value[o].timestampSeconds+10){t=!0;break}return t}(e);let r=u.value;m.value=v(l),u.value=d(e,m.value)-.5,r!==u.value&&(document.getElementById("tb-chapter-editor-playhead").animate([{left:r.toString()+"%"},{left:u.value.toString()+"%"}],{duration:0===f||e>t+1||e<t?500:f,iterations:1,easing:"linear",fill:"forwards"}),document.getElementById("tb-progress-bar-elapsed").animate([{width:(r+1).toString()+"%"},{width:(u.value+1).toString()+"%"}],{duration:0===f||e>t+1||e<t?500:f,iterations:1,easing:"linear",fill:"forwards"}))})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",xi,[(0,r.createElementVNode)("div",wi,[ki,(0,r.unref)(i).length>=0?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)((0,r.unref)(i),((e,t)=>{return(0,r.openBlock)(),(0,r.createBlock)(oi,{chapter:e,key:e.id,styling:(o=e.timestampSeconds,"left:"+d(o,v(l))+"%;")},null,8,["chapter","styling"]);var o})),128)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",Ti,[(0,r.createVNode)(ii,{text:null===c.value?h.value?"Chapters need to be at least ten seconds apart":"Add chapter":"Remove chapter",position:"right"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["button",[null===(0,r.unref)(c)?"plus":"minus",(0,r.unref)(h)?"within-ten-seconds":""]]),onClick:t[0]||(t[0]=e=>function(){let e=o.getters.getSelectedChapterId;if(null===c.value){a("use Chapter Editor",TBGlobal.limitation.chaptereditor,"TBcloseChapterEditor"),o.getters.getPlayer.pauseVideo();const e=o.getters.getPlayer.getCurrentTime();if(h.value)return;const t={id:TBUtilities.CreateGuid(),timestampSeconds:e,timestampFormatted:n(e),title:""};o.commit("addVideoChapter",t),o.commit("setSelectedChapterId",t.id)}else{if(o.commit("setSelectedChapterId",null),"defaultFirstChapter"===e)return;o.commit("deleteVideoChapterById",e)}}())},null,2)])),_:1},8,["text"]),Ei,Si,(0,r.createVNode)(r.Transition,null,{default:(0,r.withCtx)((()=>[null!==(0,r.unref)(c)&&2===s.value?((0,r.openBlock)(),(0,r.createBlock)(yi,{key:0})):(0,r.createCommentVNode)("",!0)])),_:1})])])]))}},Vi=Ci,Bi={props:{buttonStyle:String},setup(e){const o=(0,t.useStore)(),{getFormattedTimestampString:n}=ri(),{CanAccessLevel1Tools:a}=qe();function i(){a("use Chapter Editor",TBGlobal.limitation.chaptereditor,"TBcloseChapterEditor");let e=0;o.getters.getPlayer&&(o.getters.getPlayer.pauseVideo(),e=Math.floor(o.getters.getPlayer.getCurrentTime()));const t={id:TBUtilities.CreateGuid(),timestampSeconds:e,timestampFormatted:n(e),title:""};o.commit("addVideoChapter",t),o.commit("setSelectedChapterId",t.id)}return(t,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{class:(0,r.normalizeClass)(["tb-btn",e.buttonStyle]),onClick:i}," Add Chapter ",2))}},Ni=[(0,r.createElementVNode)("i",{class:"material-icons tb-material-icon"},"delete_outline",-1)],Ii={props:{index:Number,id:String},setup(e){const o=(0,t.useStore)(),{getFormattedTimestampString:n}=ri();return(t,n)=>((0,r.openBlock)(),(0,r.createBlock)(ii,{text:0===e.index?"":"Remove chapter"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("a",{class:(0,r.normalizeClass)([0===e.index?"disabledButtonStyle":"buttonStyle"]),onClick:n[0]||(n[0]=t=>{return r=e.id,o.commit("deleteVideoChapterById",r),void(o.getters.getSelectedChapterId===r&&o.commit("setSelectedChapterId",null));var r})},Ni,2)])),_:1},8,["text"]))}};function Di(e){const t=()=>e.getters.getVideoChaptersAutoSort.length>2,o=()=>{const t=e.getters.getVideoChaptersAutoSort;return t.filter((e=>e.title&&e.title.length>0)).length===t.length},r=()=>0===e.getters.getVideoChaptersAutoSort.filter((e=>!e.isValidLength)).length;return{atLeastThreeChapters:t,allChaptersHaveTitles:o,allChaptersAtLeastTenSecondsLong:r,allChaptersAtLeastTenSecondsLongCount:()=>e.getters.getVideoChaptersAutoSort.filter((e=>e.isValidLength)).length,allChaptersHaveTitlesCount:()=>e.getters.getVideoChaptersAutoSort.filter((e=>e.title&&e.title.length>0)).length,runAllValidationChecks:()=>({atLeastThreeCheck:t(),titlesCheck:o(),lengthCheck:r()})}}const Mi={class:"reqListCheckboxContainer"},Li={class:"summary-content-wrapper"},Oi={class:"summary-chapters-wrapper"},ji=(0,r.createElementVNode)("span",{class:"requirements-list-summary"}," Chapters must include ",-1),Ai=(0,r.createElementVNode)("span",{class:"disclosure-wrapper"},[(0,r.createElementVNode)("i",{id:"disclosure_icon",class:"material-icons"}," expand_less ")],-1),Ui={class:"details-chapter-wrapper"},Pi=(0,r.createElementVNode)("span",null," Minimum of three chapters ",-1),_i={class:"chaptersProgress"},$i={class:"tb-text-green-800 tb-font-bold"},zi={class:"details-duration-wrapper"},Fi=(0,r.createElementVNode)("span",null," All chapters must be at least 10 seconds ",-1),Gi={class:"durationsProgress"},Ri={class:"tb-text-green-800 tb-font-bold"},Qi={class:"details-title-wrapper"},Hi=(0,r.createElementVNode)("span",null," All chapters must have titles ",-1),Ki={class:"titlesProgress"},Wi={class:"tb-text-green-800 tb-font-bold"},Yi={emits:["closeModal"],setup(e,{emit:o}){const n=(0,t.useStore)(),{atLeastThreeChapters:a,allChaptersHaveTitles:i,allChaptersAtLeastTenSecondsLong:l,allChaptersAtLeastTenSecondsLongCount:s,allChaptersHaveTitlesCount:c}=Di(n),{updateDescriptionInput:d}=xr(),{FeatureApplied:u,FeatureUsed:m}=qa(n),b=(0,r.computed)((()=>a())),p=(0,r.computed)((()=>i())),g=(0,r.computed)((()=>l())),f=(0,r.computed)((()=>s())),h=(0,r.computed)((()=>c())),v=(0,r.computed)((()=>n.getters.getVideoChapters)),y=(0,r.computed)((()=>!b.value||!p.value||!g.value));(0,r.ref)(!1);let x=(0,r.ref)(!1);function w({target:e}){x=e.open,o("toggle",x)}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"requirementsRect",ref:(e,t)=>{t.reqList=e}},[(0,r.createElementVNode)("div",Mi,[(0,r.createElementVNode)("details",{open:"",id:"requirementListDetails",onToggle:w},[(0,r.createElementVNode)("summary",null,[(0,r.createElementVNode)("div",Li,[(0,r.createElementVNode)("div",Oi,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["material-icons tb-text-gray-200 tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4",{"material-icons tb-font-color-green tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4":!(0,r.unref)(y)}])}," check_circle ",2),ji]),Ai])]),(0,r.createElementVNode)("div",Ui,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["material-icons tb-text-gray-200 tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4",{"material-icons tb-font-color-green tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4":1==(0,r.unref)(b)}])}," check_circle ",2),Pi,(0,r.createElementVNode)("span",_i,[(0,r.createElementVNode)("span",$i,(0,r.toDisplayString)((0,r.unref)(v).length),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["tb-text-gray-200",{"tb-text-green-800 tb-font-bold":1==(0,r.unref)(b)}])},"/"+(0,r.toDisplayString)(1==(0,r.unref)(b)?(0,r.unref)(v).length:"3"),3)])]),(0,r.createElementVNode)("div",zi,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["material-icons tb-text-gray-200 tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4",{"material-icons tb-font-color-green tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4":1==(0,r.unref)(g)&&1==(0,r.unref)(b)}])}," check_circle ",2),Fi,(0,r.createElementVNode)("span",Gi,[(0,r.createElementVNode)("span",Ri,(0,r.toDisplayString)((0,r.unref)(f)),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["tb-text-gray-200",{"tb-text-green-800 tb-font-bold":1==(0,r.unref)(g)&&1==(0,r.unref)(b)}])},"/"+(0,r.toDisplayString)(1==(0,r.unref)(b)?(0,r.unref)(v).length:"3"),3)])]),(0,r.createElementVNode)("div",Qi,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["material-icons tb-text-gray-200 tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4",{"material-icons tb-font-color-green tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4":1==(0,r.unref)(p)&&1==(0,r.unref)(b)}])}," check_circle ",2),Hi,(0,r.createElementVNode)("span",Ki,[(0,r.createElementVNode)("span",Wi,(0,r.toDisplayString)((0,r.unref)(h)),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["tb-text-gray-200",{"tb-text-green-800 tb-font-bold":1==(0,r.unref)(p)&&1==(0,r.unref)(b)}])},"/"+(0,r.toDisplayString)(1==(0,r.unref)(b)?(0,r.unref)(v).length:"3"),3)])])],32)])],512))}},qi={id:"tb-chapter-editor-right-panel"},Ji={id:"requirements-list-container"},Zi={key:0},Xi=["data-row"],el={class:"tb-chapter-row"},tl=["onClick"],ol=["onUpdate:modelValue","onFocus","onInput"],rl=(0,r.createTextVNode)(" delete "),nl={key:0,class:"tb-text-red-500"},al={setup(e){const o=(0,t.useStore)(),n=(o.getters.getVideo.videoDurationMs,(0,r.computed)((()=>o.getters.getVideoChaptersAutoSort))),a=TBGlobal.CanAccessLevel1Tools(),i=(0,r.computed)((()=>o.getters.getSelectedChapterId)),l=(0,r.computed)((()=>{const e=n.value.filter((e=>e.id===i.value))[0];return!(e&&e.length>0)||e.isValidLength}));function s(e){o.commit("setCurrentTimestamp",e)}function c(e,t){i.value===e.id&&t&&e.isValidLength?o.commit("setSelectedChapterId",null):i.value!==e.id&&(s(e.timestampSeconds),o.commit("setSelectedChapterId",e.id),o.getters.getPlayer&&(o.getters.getPlayer.pauseVideo(),o.getters.getPlayer.seekTo(e.timestampSeconds)))}const d=(0,r.ref)(!0);function u(e){d.value=!!e}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",qi,[(0,r.createElementVNode)("div",Ji,[(0,r.createVNode)(Yi,{onToggle:u})]),(0,r.createElementVNode)("div",{id:"tb-video-chapters-container",class:(0,r.normalizeClass)(!0===d.value?"tb-video-chapters-container-details-open":"tb-video-chapters-container-details-closed")},[(0,r.unref)(a)&&(0,r.unref)(n).length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",Zi,[(0,r.createVNode)(r.TransitionGroup,{name:"list"},{default:(0,r.withCtx)((()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(n),((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:"tb-flex tb-items-center tb-flex-wrap","data-row":t},[(0,r.createElementVNode)("div",el,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["tb-chapter-number tb-rounded-md",(0,r.unref)(i)===e.id?"tb-chapter-selected":""]),onClick:(0,r.withModifiers)((t=>c(e,!0)),["stop"])},(0,r.toDisplayString)(t+1),11,tl),(0,r.createVNode)(ii,{text:0===t?"Chapter 1 timestamp must start at the beginning":"Hours:Minutes:Seconds",position:"right"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(pi,{"is-disabled":0===t||(0,r.unref)(i)&&e.id!==(0,r.unref)(i)&&!(0,r.unref)(l),"is-invalid":!e.isValidLength,"is-active":(0,r.unref)(i)&&e.id==(0,r.unref)(i),seconds:e.timestampSeconds,"chapter-id":e.id,onUpdated:t=>function(e,t){s(t.timestampSeconds);const r=Object.assign(e,t);o.commit("updateVideoChapter",r)}(e,t),onClick:t=>c(e),onFocused:t=>c(e)},null,8,["is-disabled","is-invalid","is-active","seconds","chapter-id","onUpdated","onClick","onFocused"])])),_:2},1032,["text"]),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t=>e.title=t,class:"tb-rounded-md flex items-center justify-center tb-input-chapter-title",type:"text",placeholder:"Insert chapter title",onFocus:t=>c(e),onInput:t=>function(e){o.commit("updateVideoChapter",e)}(e)},null,40,ol),[[r.vModelText,e.title]]),(0,r.createVNode)(Ii,{id:e.id,index:t},{default:(0,r.withCtx)((()=>[rl])),_:2},1032,["id","index"])]),e.isValidLength?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",nl,(0,r.toDisplayString)("Chapters must be at least 10 seconds long")))],8,Xi)))),128))])),_:1})])):(0,r.createCommentVNode)("",!0)],2)]))}},il=al,ll={class:"tb-flex tb-items-center tb-justify-end tb-mt-8"},sl=["onClick"],cl=["onClick"],dl={emits:["closeModal"],setup(e,{emit:o}){const n=(0,t.useStore)(),{atLeastThreeChapters:a,allChaptersHaveTitles:i,allChaptersAtLeastTenSecondsLong:l}=Di(n),{updateDescriptionInput:s}=xr(),{ChapterEditorApplied:c}=qa(n),d=(0,r.computed)((()=>a())),u=(0,r.computed)((()=>i())),m=(0,r.computed)((()=>l())),b=(0,r.computed)((()=>n.getters.getVideoChapters)),p=(0,r.computed)((()=>!d.value||!u.value||!m.value)),g=(0,r.ref)(!1);function f(){TubeBuddyMenu.HideBackground(),jQuery("body").trigger("TBcloseChapterEditor")}function h(){g.value=!0,setTimeout((()=>{g.value=!1}),1e4)}function v(){!0!==p.value?(navigator.clipboard.writeText(x()),c("copied"),TBUtilities.Alert("Your video chapters have been copied to your clipboard. Paste them into your video's Description on a new line and click 'Save' on the YouTube page.",f())):h()}function y(){if(!0===p.value)return void h();const e=n.getters.getVideoDescription,t=x();let o=e.text;null===e.existingChaptersStartIndex?o+=0===e.text.length?t:"\n"+t:o=e.text.slice(0,e.existingChaptersStartIndex)+t+e.text.slice(e.existingChaptersEndIndex),s(o,!1),c("applied");const r=null===e.existingChaptersStartIndex?"Your chapters have been added to your video's description. Please review and click 'Save' on the YouTube page to apply them to your video.":"Your video's description has been updated with your new chapters. Please review and click 'Save' on the YouTube page to apply them to your video";TBUtilities.Alert(r,f())}function x(){const e=n.getters.getVideoChaptersAutoSort,t=moment.duration(n.getters.getVideo.videoDurationMs).asMinutes();return e.map((e=>(t>59?e.timestampFormatted:e.timestampFormatted.slice(3))+" "+e.title)).join("\n")}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",ll,[(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["tb-btn tb-btn-sm tb-mr-4 tb-copy-to-clipboard-neutral",{"tb-copy-to-clipboard-disabled":1==(0,r.unref)(b).length||(0,r.unref)(p)}]),onClick:(0,r.withModifiers)(v,["stop"])},"Copy to Clipboard",10,sl),(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["tb-btn tb-btn-sm tb-btn-primary-add-chapter-to-video-neutral",{"tb-btn-primary-add-chapter-to-video-disabled":1==(0,r.unref)(b).length||(0,r.unref)(p)}]),onClick:(0,r.withModifiers)(y,["stop"])},"Add to Video",10,cl)]))}},ul={id:"ce-age-restrict",class:"tb-m-5 tb-flex tb-items-center tb-w-9/12 tb-justify-center"},ml=["src"],bl=(0,r.createElementVNode)("div",{class:"tb-flex tb-flex-col tb-w-96"},[(0,r.createElementVNode)("h3",{class:"tb-mb-5"}," We are unable to preview this video due to the age restriction settings "),(0,r.createElementVNode)("div",null," YouTube prevents age restricted videos from being played in a preview window. You can manually edit your chapters on the right. ")],-1),pl={setup(e){const t=browser.runtime.getURL("/images/modules/chaptereditor/Locked-door.png");return(e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",ul,[(0,r.createElementVNode)("img",{class:"tb-mr-5",src:(0,r.unref)(t)},null,8,ml),bl]))}};function gl(e){const t=(0,r.ref)(e);return[(0,r.readonly)(t),e=>{t.value=e}]}const fl={state:()=>({video:{}}),mutations:{setVideo(e,t){e.video={...e.video,...t}}},getters:{getVideo:e=>e.video}},hl={state:()=>({videoId:0}),mutations:{setVideoId(e,t){e.videoId=t}},getters:{getVideoId:e=>e.videoId}},vl={state:()=>({videoDescription:{text:"",existingChaptersStartIndex:null,existingChaptersEndIndex:null}}),mutations:{setVideoDescription(e,t){e.videoDescription=t}},getters:{getVideoDescription:e=>e.videoDescription}},yl={state:()=>({currentTimestamp:0}),mutations:{setCurrentTimestamp(e,t){e.currentTimestamp=t}},getters:{getCurrentTimestamp:e=>e.currentTimestamp}},xl={state:()=>({progressBarCurrentTimestamp:0}),mutations:{setProgressBarCurrentTimestamp(e,t){e.progressBarCurrentTimestamp=t}},getters:{getProgressBarCurrentTimestamp:e=>e.progressBarCurrentTimestamp}},wl={state:()=>({chapterList:[{id:"defaultFirstChapter",timestampSeconds:0,timestampFormatted:"00:00:00",title:"Introduction"}]}),mutations:{setVideoChapters(e,t){e.chapterList=t},addVideoChapter(e,t){e.chapterList.push(t)},deleteVideoChapterById(e,t){"defaultFirstChapter"!=t&&(e.chapterList=e.chapterList.filter((e=>e.id!==t)))},updateVideoChapter(e,t){const o=e.chapterList.findIndex((e=>e.id==t.id));e.chapterList[o]={...e.chapterList[o],...t}},resetVideoChapters(e){e.chapterList=[{id:"defaultFirstChapter",timestampSeconds:0,timestampFormatted:"00:00:00",title:"Introduction"}]}},getters:{getVideoChapters:e=>e.chapterList,getVideoChaptersAutoSort(e,t,o){const r=o.video.video.videoDurationMs?o.video.video.videoDurationMs/1e3:0,n=e.chapterList.sort(((e,t)=>e.timestampSeconds-t.timestampSeconds));return n.map(((e,t)=>({...e,isValidLength:0===t||e.timestampSeconds-n[t-1].timestampSeconds>=10&&e.timestampSeconds<=r-8})))},getSelectedChapter(e,t,o){const r=e.chapterList.filter((e=>e.id===o.selectedChapterId.selectedChapterId));return r.length>0?r[0]:null}}},kl={state:()=>({player:null}),mutations:{setPlayer(e,t){e.player=t}},getters:{getPlayer:e=>e.player}},Tl={state:()=>({selectedChapterId:null}),mutations:{setSelectedChapterId(e,t){e.selectedChapterId=t}},getters:{getSelectedChapterId:e=>e.selectedChapterId}},El={state:()=>({videoCheckInterval:500}),mutations:{setVideoCheckInterval(e,t){e.videoCheckInterval=t}},getters:{getVideoCheckInterval:e=>e.videoCheckInterval}},Sl={class:"tb-chapter-editor-header"},Cl=(0,r.createTextVNode)("Chapter Editor | "),Vl={class:"tb-chapter-editor-header-sub"},Bl={key:0},Nl={class:"tb-title-container tb-flex tb-justify-between tb-items-center tb-mb-4"},Il=(0,r.createElementVNode)("div",{class:"tb-text-3xl tb-font-semibold"}," Chapters ",-1),Dl={class:"tb-pt-6 tb-flex tb-justify-end tb-items-center"},Ml={key:1,class:"tb-chapter-editor-container tb-flex tb-justify-center tb-items-center tb-px-2 tb-pt-6"},Ll=[(0,r.createElementVNode)("div",{class:"tb-spinner"},null,-1),(0,r.createElementVNode)("div",{class:"tb-text-2xl"}," Loading... ",-1)],Ol={props:{isUpload:Boolean,videoId:String},setup(e){const o=(0,t.useStore)(),{CanAccessLevel1Tools:n}=qe(),{getFormattedTimestampString:a,getTimeInSeconds:i,getTimestampParts:l}=(TBGlobal.CanAccessLevel1Tools(),ri()),{runAllValidationChecks:s}=Di(o),{ChapterEditorOpened:c,ChapterEditorClosed:d}=qa(o),u=(0,r.computed)((()=>null!=o.getters.getVideo.title?o.getters.getVideo.title:"")),[m,b]=((0,r.computed)((()=>o.getters.getVideoChapters)),gl(!1));function p(){TubeBuddyMenu.HideBackground(),jQuery("body").trigger("TBcloseChapterEditor")}function g(e){o.commit("setSelectedChapterId",null)}return(0,r.onMounted)((()=>{c();const e=document.querySelector("#description-container #textbox").innerText;if("18+ only"===document.querySelector("#visibility-text").innerText&&b(!0),e.length>0){let t=function(e){const t=/^(?<timestamp>\d{1,2}(?::[0-5]\d){1,2}) (?<title>.+)$/dgm;let o=t.exec(e);if(null==o)return null;const r=[];do{const e=i(o.groups.timestamp);r.push({title:o.groups.title,timestampSeconds:e,timestampFormatted:a(e),existingChapterStartIndex:o.indices[0][0],existingChapterEndIndex:o.indices[0][1]})}while(null!==(o=t.exec(e)));return r}(e);const r={text:e,existingChaptersStartIndex:null,existingChaptersEndIndex:null};t&&t.length>0&&0===t[0].timestampSeconds&&(t=t.map(((e,t)=>({...e,id:0===t?"defaultFirstChapter":TBUtilities.CreateGuid()}))),o.commit("setVideoChapters",t),r.existingChaptersStartIndex=t[0].existingChapterStartIndex,r.existingChaptersEndIndex=t[t.length-1].existingChapterEndIndex),o.commit("setVideoDescription",r)}})),(0,r.onUnmounted)((()=>{d()})),(0,r.onBeforeMount)((async()=>{n("use Chapter Editor",TBGlobal.limitation.chaptereditor,"TBcloseChapterEditor");const e=window.location.href.match(/video\/[^/]+\/edit/gi);if(null==e)return;const t=e[0].replace(/video\/|\/edit/gi,"");o.commit("setVideoId",t);const r={description:!0,title:!0,videoId:!0,videoDurationMs:!0};try{await async function(e,t){const r=await TubeBuddyYouTubeActions.GetCreatorVideosStudio(e,t);o.commit("setVideo",r)}(t,r)}catch(e){TBUtilities.LogError(e)}})),(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(f,{id:"chapter-editor-vue",link:"chaptereditor",width:1100,height:800,left:"26%",onModalClosing:(0,r.withModifiers)(p,["stop","prevent"])},{header:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("span",Sl,[Cl,(0,r.createElementVNode)("span",Vl,(0,r.toDisplayString)((0,r.unref)(u)),1)])])])),content:(0,r.withCtx)((()=>[(0,r.unref)(u)?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"tb-chapter-editor-container tb-flex",onClick:g},[(0,r.unref)(m)?((0,r.openBlock)(),(0,r.createElementBlock)("div",Bl,[(0,r.createVNode)(pl)])):(0,r.createCommentVNode)("",!0),(0,r.unref)(m)?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,onClick:g},[(0,r.createVNode)(Xa),(0,r.createElementVNode)("div",{class:"tb-justify-center tb-items-center",onClick:t[0]||(t[0]=(0,r.withModifiers)((()=>{}),["stop"]))},[(0,r.createVNode)(Vi)])])),(0,r.createElementVNode)("div",{id:"tb-chapter-editor",onClick:t[1]||(t[1]=(0,r.withModifiers)((()=>{}),["stop"]))},[(0,r.createElementVNode)("div",Nl,[Il,(0,r.createVNode)(Bi,{"button-style":"tb-btn-sm tb-btn-gray"})]),(0,r.createVNode)(il),(0,r.createElementVNode)("div",Dl,[(0,r.createVNode)(dl)])])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Ml,Ll))])),_:1},8,["onModalClosing"]))}},jl=Ol,{ChapterEditorStatsCheck:Al}=qa(),Ul=["src"],Pl={class:"learn-video-container-text tb-font-bold tb-p-3"},_l={props:{id:{required:!0,type:String},index:{type:Number,default:0},title:{required:!0,type:String,default:""},thumbnails:{required:!1,type:Object,default:()=>null},currentSelectedVideo:{type:String,default:""}},emits:["handle-video-click"],setup(e,{emit:t}){const o=e,n=(0,r.computed)((()=>o.id)),a=(0,r.computed)((()=>o.index)),i=(0,r.computed)((()=>o.title)),l=(0,r.computed)((()=>o.thumbnails.thumbnailDefault)),s=(0,r.computed)((()=>o.currentSelectedVideo));return(e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["learn-video-container tb-flex tb-items-center hover:tb-bg-gray-100 tb-cursor-pointer tb-border-b tb-border-solid tb-border-gray-200",(0,r.unref)(s)===(0,r.unref)(n)?"tb-bg-gray-300":""]),onClick:o[0]||(o[0]=e=>t("handle-video-click",{videoId:(0,r.unref)(n),index:(0,r.unref)(a)}))},[(0,r.createElementVNode)("img",{class:"tb-m-2",src:(0,r.unref)(l)},null,8,Ul),(0,r.createElementVNode)("div",Pl,(0,r.toDisplayString)((0,r.unref)(i)),1)],2))}};function $l(){const{track:e}=S(),t=(t,o,r,n)=>{const a={Action:o,ModuleType:"Vuejs"};a.Tool=n||"Learnings",r&&(a.Data=r);try{e(t,a)}catch(e){TBUtilities.Log(e)}};return{FeatureUsed:(e,o,r)=>{t("Feature Used",e,o,r)},FeatureApplied:(e,o,r)=>{t("Feature Applied",e,o,r)}}}const zl=["src"],Fl={props:{videoId:{type:String,required:!0,default:""},toolType:{type:String,required:!0,default:"Learning"},index:{type:Number,default:0}},setup(e){const t=e,{FeatureUsed:o}=$l(),n=(0,r.computed)((()=>t.videoId)),a=(0,r.ref)(null),i=e=>{0===e.target.playerInfo.playerState&&o("Finished",{VideoId:n.value,Index:t.index,TimeWatched:e.target.playerInfo.currentTime,FinishedVideo:!0},t.toolType)};return(0,r.onMounted)((()=>{const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",a.value.parentNode.insertBefore(e,a.value.nextSibling)})),(0,r.onUpdated)((()=>{new YT.Player("frame-player",{events:{onStateChange:i}})})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{id:"player-container",ref:(e,t)=>{t.playerContainer=e,a.value=e}},[(0,r.createElementVNode)("iframe",{id:"frame-player",width:"720",height:"450",src:`https://www.youtube.com/embed/${(0,r.unref)(n)}?enablejsapi=1`,title:"YouTube video player",frameborder:"0",allow:"accelerometer;\r\n          autoplay;\r\n          clipboard-write;\r\n          encrypted-media;\r\n          gyroscope;\r\n          picture-in-picture",enablejsapi:"true",allowfullscreen:""},null,8,zl)],512))}},Gl=Fl,Rl={class:"learn-modal-backdrop"},Ql={id:"learn-module",class:"tb-flex"},Hl={id:"learn-video-sidebar",class:"tb-flex-col tb-overflow-y-auto"},Kl={props:{playlistId:{required:!0,type:String,default:""},toolType:{required:!0,type:String,default:"Learning"}},setup(e){const t=e,{FeatureUsed:o}=$l(),[n,a]=gl([]),[i,l]=gl(""),[s,c]=gl(0);(0,r.onBeforeMount)((()=>{o("Opened",null,t.toolType);const e=`${TBGlobal.host+TBGlobal.apiUrls.getPlaylist}?playlistId=${t.playlistId}`;TBExtension.Get(e,((e,t,o)=>{const r=JSON.parse(o);if(e){const e=r.reduce(((e,{snippet:t,id:o,url:r})=>(e.push({...t,id:o,url:r}),e)),[]);a(e),l(n.value[0].id)}}))}));const d=()=>{jQuery("body").trigger("TBCloseLearnModule")},u=({videoId:e,index:r})=>{e!==i.value&&(o("Clicked",{VideoId:e,Index:r},t.toolType),l(e),c(r))};return(e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Rl,[(0,r.createVNode)(f,{id:"learn",width:1050,height:600,margin:"margin-top: 0px;","is-draggable":!1,onModalClosing:(0,r.withModifiers)(d,["stop","prevent"])},{header:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(t.toolType),1)])),content:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",Ql,[(0,r.createVNode)(Gl,{"video-id":(0,r.unref)(i),"tool-type":t.toolType,index:(0,r.unref)(s)},null,8,["video-id","tool-type","index"]),(0,r.createElementVNode)("div",Hl,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(n),(({id:e,title:t,thumbnails:o},n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:"learn-video-parent"},[(0,r.createVNode)(_l,{id:e,title:t,thumbnails:o,"current-selected-video":(0,r.unref)(i),index:n,onHandleVideoClick:u},null,8,["id","title","thumbnails","current-selected-video","index"])])))),128))])])])),_:1},8,["onModalClosing"])]))}},Wl=Kl,Yl=(0,r.createElementVNode)("span",{class:"tb-text-3xl"},"Upgrade required",-1),ql={class:"",style:{padding:"50px 50px 35px"}},Jl={class:"tb-pb-8 tb-font-bold"},Zl={class:"tb-text-5xl tb-mb-3"},Xl=(0,r.createTextVNode)("This is a "),es={id:"tb-license-type",class:"tb-text-yellow-500"},ts=(0,r.createTextVNode)(" License feature."),os={class:"tb-text-5xl tb-mb-3"},rs=(0,r.createElementVNode)("p",{class:"tb-text-5xl"},"an upgrade!",-1),ns={class:"tb-pb-8 tb-pt-0 tb-text-3xl tb-text-black-500 tb-text-opacity-75"},as=(0,r.createElementVNode)("div",{id:"tb-paywall-pro-list",class:"tb-pb-8 tb-pt-0 tb-text-2xl tb-text-black-500 tb-text-opacity-75 tb-tool-list"},[(0,r.createElementVNode)("ul",{class:"tb-marker:text-green tb-list-outside tb-list-disc tb-ml-6"},[(0,r.createElementVNode)("li",null,"Keyword Explorer (full access)"),(0,r.createElementVNode)("li",null,"Card and End Screen Templates"),(0,r.createElementVNode)("li",null,"Canned Responses"),(0,r.createElementVNode)("li",null,"Thumbnail Generator (full access)")])],-1),is=(0,r.createElementVNode)("div",{id:"tb-paywall-star-list",class:"tb-pb-8 tb-pt-0 tb-text-2xl tb-text-black-500 tb-text-opacity-75 tb-tool-list"},[(0,r.createElementVNode)("ul",{class:"tb-marker:text-green tb-list-outside tb-list-disc tb-ml-6"},[(0,r.createElementVNode)("li",null,"Demonetization Double-Check"),(0,r.createElementVNode)("li",null,"Scheduled Publish"),(0,r.createElementVNode)("li",null,"Bulk video editing tools")])],-1),ls=(0,r.createElementVNode)("div",{id:"tb-paywall-legend-list",class:"tb-pb-8 tb-pt-0 tb-text-2xl tb-text-black-500 tb-text-opacity-75 tb-tool-list"},[(0,r.createElementVNode)("ul",{class:"tb-marker:text-green tb-list-outside tb-list-disc tb-ml-6"},[(0,r.createElementVNode)("li",null,"A/B testing"),(0,r.createElementVNode)("li",null,"Tag translator"),(0,r.createElementVNode)("li",null,"Auto Translator")])],-1),ss=(0,r.createElementVNode)("p",{class:"tb-text-black-500 tb-text-opacity-75",style:{"padding-bottom":"20px","font-size":"16px"}},[(0,r.createTextVNode)(" For more information about tools and features tied to this license see our "),(0,r.createElementVNode)("a",{id:"tb-pricing-page",href:"{HOST}/pricing",target:"_blank",style:{"font-size":"16px","text-decoration":"underline"}},"Pricing page"),(0,r.createTextVNode)(". ")],-1),cs=(0,r.createElementVNode)("a",{id:"tb-pro-link",href:"",target:"_blank",class:"tb-btn tb-btn-primary tb-margin-left-10 tb-license-link",style:{"font-size":"16px"}},"UNLOCK",-1),ds={id:"tb-upgrade-screen-slideshow",class:"tb-pl-28 tb-p-8 tb-pr-28"},us={class:"tb-upgrade-screen-slide tb-justify-start tb-items-center"},ms={class:"img-placeholder"},bs=["src"],ps={class:"tb-upgrade-screen-testimonial tb-pl-8"},gs=(0,r.createElementVNode)("br",null,null,-1),fs={class:"tb-font-color-gray tb-font-italic tb-font-size-xs"},hs=(0,r.createElementVNode)("br",null,null,-1),vs={class:"tb-font-color-gray tb-font-italic tb-font-size-xs"},ys={props:{msg:String,feature:String,overrideDefaultMessage:Boolean,tool:Object,license:String,channelId:String},setup(e){const t=e,{FeatureUsed:o}=function(){const{track:e}=S(),t=TBGlobal.GetToolById("seostudio").name,o=(o,r)=>{void 0===r.Tool&&(r.Tool=t),r.hasOwnProperty("Data")&&r.Data.hasOwnProperty("Step")&&(r.Data.Tab=stepTitles[r.Data.Step]),r.ModuleType="Vuejs",e(o,r)};return{FeatureUsed:e=>{o("Feature Used",e)},FeatureApplied:e=>{o("Feature Applied",e)}}}(),n=(0,r.computed)((()=>a.value[i.value])),a=(0,r.ref)([{name:"- Derral Eves",thumbnail:"/images/modules/upgradeScreen/derraleves.jpg",quote:"TubeBuddy has completely transformed the way I manage my personal YouTube channel and my clients’ channels.",subtitle:"#1 YouTube Certified Expert"},{name:"- Matthew Santoro",thumbnail:"/images/modules/upgradeScreen/matthewsantoro_2021.jpg",quote:"I'm so glad I discovered TubeBuddy! It's super helpful. Love you guys!",subtitle:"6.2+ Million Subscribers"},{name:"- Ed Delage",thumbnail:"/images/modules/upgradeScreen/familyfeud.jpg",quote:"TubeBuddy's bulk processing tools have literally saved us hundreds of hours managing the Family Feud YouTube channel.",subtitle:"350+ Million Views"}]);const i=(0,r.ref)(0);let l=null;(0,r.onMounted)((()=>{l=setInterval((()=>{i.value++,i.value>=a.value.length-1&&(i.value=0)}),8e3)})),(0,r.onDeactivated)((()=>{clearInterval(l)}));const s=()=>{jQuery(".tb-tool-list").css("display","none"),jQuery("body").trigger("TBDestroyPaywall")};return jQuery(".tb-no-upgrade").on("click",(function(){jQuery("body").trigger("TBDestroyPaywall")})),(0,r.computed)((()=>browser.runtime.getURL("/images/modules/upgradeScreen/derraleves.jpg"))),(e,o)=>((0,r.openBlock)(),(0,r.createBlock)(f,{id:"paywall-modal",width:800,height:e.fit-e.content,"is-draggable":!0,onModalClosing:s},{header:(0,r.withCtx)((()=>[Yl])),content:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",ql,[(0,r.createElementVNode)("div",Jl,[(0,r.createElementVNode)("p",Zl,[Xl,(0,r.createElementVNode)("span",es,(0,r.toDisplayString)(t.license),1),ts]),(0,r.createElementVNode)("p",os,"Unlock "+(0,r.toDisplayString)(t.tool.name)+" (and more) with",1),rs]),(0,r.createElementVNode)("p",ns," These are other popular tools you can get with a "+(0,r.toDisplayString)(t.license)+" License: ",1),as,is,ls,ss,(0,r.createElementVNode)("div",{style:{"text-align":"end"}},[(0,r.createElementVNode)("a",{class:"tb-btn tb-btn-secondary tb-no-upgrade",style:{"background-color":"transparent","font-size":"16px",display:"inline-block"},onClick:s},"NO THANKS"),cs])])])),footer:(0,r.withCtx)((()=>{return[(0,r.createElementVNode)("div",ds,[(0,r.createElementVNode)("div",us,[(0,r.createElementVNode)("div",ms,[(0,r.createElementVNode)("img",{alt:"profile picture",src:(e=(0,r.unref)(n).thumbnail,browser.runtime.getURL(e)),class:"tb-rounded-full",style:{width:"80px"}},null,8,bs)]),(0,r.createElementVNode)("div",ps,[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(n).quote)+" ",1),gs,(0,r.createElementVNode)("span",fs,(0,r.toDisplayString)((0,r.unref)(n).name),1),hs,(0,r.createElementVNode)("span",vs,(0,r.toDisplayString)((0,r.unref)(n).subtitle),1)])])])];var e})),_:1},8,["height"]))}},xs=["src"],ws={props:{sidebarWidth:{type:Number,default:516}},setup(e){const o=e,n=(0,t.useStore)(),a=(0,r.computed)((()=>n.getters.getIsOpen)),i=(0,r.computed)((()=>browser.runtime.getURL("/images/branding/tb-icon.svg"))),l=()=>{let e=a.value?"translate3d(-"+o.sidebarWidth+"px, 0, 0)":"none";$("#tb-toxic-button").css("transform",e)},s=()=>{let e=!a.value;n.commit("setIsOpen",e)};return(0,r.onMounted)((()=>{l(),(0,r.watch)((()=>a.value),((e,t)=>{e!==t&&l()}))})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{id:"tb-toxic-button",class:"tb-pr-3 tb-pl-3 tb-pt-7 tb-pb-7 tb-flex tb-items-center tb-rounded-l-lg",style:{top:"50%"},onClick:s},[(0,r.createElementVNode)("img",{class:"tb-module-logo tb-rounded-full",style:{width:"20px",height:"20px"},src:(0,r.unref)(i),alt:"tb-logo","data-draggable":"false"},null,8,xs)]))}},ks=ws,Ts={class:"tb-flex tb-flex-col"},Es=(0,r.createElementVNode)("i",{class:"material-icons tb-text-red-600 tb-pr-2"}," format_quote ",-1),Ss={class:"tb-text-gray-400 tb-italic tb-pt-1"},Cs=["onClick"],Vs=[(0,r.createElementVNode)("i",{class:"tb-text-gray-500 material-icons tb-cursor-pointer"}," delete ",-1)],Bs={props:{id:{type:Number,default:0},comments:{type:Array,default:()=>[]},channelTable:{type:Object,default:()=>{}}},emits:["delete-comments"],setup(e,{emit:t}){const o=e,n=((0,r.computed)((()=>o.id)),(0,r.computed)((()=>o.comments)));return(0,r.computed)((()=>o.channelTable)),(e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Ts,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(n),(({comment:e,comment_id:o},n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:n,class:"tb-flex tb-items-start tb-pt-3"},[Es,(0,r.createElementVNode)("div",Ss,(0,r.toDisplayString)(e),1),(0,r.createElementVNode)("div",{class:"tb-ml-auto",onClick:e=>t("delete-comments",[o])},Vs,8,Cs)])))),128))]))}},Ns={class:"tb-flex tb-flex-col tb-justify-center"},Is=[(0,r.createElementVNode)("div",{class:"tb-text-gray-600 tb-flex tb-justify-center tb-p-5",style:{top:"50%"}},[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"150px",height:"150px",viewBox:"0 0 50 50",version:"1.1"},[(0,r.createElementVNode)("g",{id:"surface1"},[(0,r.createElementVNode)("path",{class:"tb-fill-current",d:"M 28.148438 30.476562 C 27.957031 30.140625 27.542969 30.003906 27.1875 30.15625 C 26.515625 30.449219 25.773438 30.605469 24.996094 30.605469 C 24.222656 30.605469 23.484375 30.445312 22.8125 30.15625 C 22.457031 30.003906 22.042969 30.136719 21.851562 30.476562 L 16.492188 39.8125 C 16.273438 40.1875 16.414062 40.667969 16.800781 40.863281 C 18.097656 41.53125 21.113281 42.832031 24.949219 42.851562 C 24.949219 42.851562 24.984375 42.851562 24.996094 42.851562 C 25.011719 42.851562 25.039062 42.851562 25.039062 42.851562 C 28.847656 42.832031 31.878906 41.53125 33.191406 40.863281 C 33.574219 40.667969 33.722656 40.1875 33.503906 39.8125 Z M 28.148438 30.476562 "}),(0,r.createElementVNode)("path",{class:"tb-fill-current",d:"M 19.488281 24.460938 C 19.671875 22.910156 20.484375 21.535156 21.664062 20.640625 C 21.972656 20.410156 22.058594 19.984375 21.859375 19.65625 L 16.429688 10.363281 C 16.214844 9.988281 15.722656 9.875 15.363281 10.109375 C 14.136719 10.910156 11.5 12.890625 9.589844 16.1875 C 9.574219 16.214844 9.574219 16.214844 9.570312 16.222656 C 9.566406 16.234375 9.550781 16.257812 9.550781 16.257812 C 7.664062 19.589844 7.285156 22.867188 7.21875 24.328125 C 7.199219 24.761719 7.542969 25.121094 7.976562 25.121094 L 18.746094 25.121094 C 19.121094 25.125 19.445312 24.839844 19.488281 24.460938 Z M 19.488281 24.460938 "}),(0,r.createElementVNode)("path",{class:"tb-fill-current",d:"M 40.433594 16.257812 C 40.433594 16.257812 40.417969 16.234375 40.414062 16.222656 C 40.410156 16.214844 40.410156 16.214844 40.394531 16.1875 C 38.484375 12.890625 35.847656 10.910156 34.621094 10.109375 C 34.257812 9.875 33.773438 9.988281 33.554688 10.363281 L 28.121094 19.65625 C 27.925781 19.988281 28.011719 20.410156 28.316406 20.640625 C 29.496094 21.535156 30.308594 22.910156 30.492188 24.460938 C 30.535156 24.839844 30.859375 25.125 31.242188 25.125 L 42.011719 25.125 C 42.445312 25.125 42.789062 24.765625 42.769531 24.332031 C 42.699219 22.871094 42.324219 19.59375 40.433594 16.257812 Z M 40.433594 16.257812 "}),(0,r.createElementVNode)("path",{class:"tb-fill-current",d:"M 21.285156 25.101562 C 21.292969 26.457031 22.03125 27.632812 23.125 28.269531 C 23.671875 28.589844 24.3125 28.777344 24.988281 28.777344 C 25.671875 28.777344 26.3125 28.589844 26.867188 28.269531 C 27.953125 27.632812 28.683594 26.457031 28.699219 25.101562 C 28.699219 25.089844 28.699219 25.082031 28.699219 25.070312 C 28.699219 23.695312 27.953125 22.496094 26.84375 21.859375 C 26.300781 21.546875 25.667969 21.363281 24.996094 21.363281 C 24.324219 21.363281 23.691406 21.546875 23.144531 21.859375 C 22.039062 22.503906 21.289062 23.699219 21.289062 25.070312 C 21.285156 25.082031 21.285156 25.089844 21.285156 25.101562 Z M 21.285156 25.101562 "}),(0,r.createElementVNode)("path",{class:"tb-fill-current",d:"M 42.660156 7.320312 C 40.367188 5.023438 37.695312 3.226562 34.71875 1.964844 C 31.632812 0.664062 28.363281 0 24.988281 0 C 21.617188 0 18.347656 0.664062 15.261719 1.964844 C 12.285156 3.226562 9.617188 5.023438 7.320312 7.320312 C 5.023438 9.617188 3.226562 12.285156 1.964844 15.261719 C 0.664062 18.339844 0 21.617188 0 24.988281 C 0 28.363281 0.664062 31.632812 1.964844 34.71875 C 3.226562 37.695312 5.023438 40.363281 7.320312 42.660156 C 9.617188 44.953125 12.285156 46.753906 15.261719 48.011719 C 18.347656 49.316406 21.617188 49.980469 24.988281 49.980469 C 28.363281 49.980469 31.632812 49.316406 34.71875 48.011719 C 37.695312 46.753906 40.367188 44.953125 42.660156 42.660156 C 44.953125 40.363281 46.753906 37.695312 48.011719 34.71875 C 49.316406 31.632812 49.980469 28.363281 49.980469 24.988281 C 49.980469 21.617188 49.316406 18.34375 48.019531 15.261719 C 46.757812 12.285156 44.953125 9.617188 42.660156 7.320312 Z M 43.59375 32.847656 C 42.578125 35.246094 41.121094 37.40625 39.265625 39.261719 C 37.410156 41.117188 35.253906 42.574219 32.851562 43.589844 C 30.363281 44.640625 27.71875 45.175781 24.996094 45.175781 C 22.269531 45.175781 19.625 44.640625 17.136719 43.589844 C 14.738281 42.574219 12.578125 41.117188 10.722656 39.261719 C 8.867188 37.40625 7.410156 35.246094 6.394531 32.847656 C 5.34375 30.359375 4.808594 27.714844 4.808594 24.988281 C 4.808594 22.265625 5.34375 19.621094 6.394531 17.132812 C 7.410156 14.730469 8.867188 12.574219 10.722656 10.71875 C 12.578125 8.863281 14.738281 7.40625 17.136719 6.390625 C 19.625 5.339844 22.269531 4.804688 24.996094 4.804688 C 27.71875 4.804688 30.363281 5.339844 32.851562 6.390625 C 35.253906 7.40625 37.410156 8.863281 39.265625 10.71875 C 41.121094 12.574219 42.578125 14.730469 43.59375 17.132812 C 44.644531 19.621094 45.183594 22.265625 45.183594 24.988281 C 45.183594 27.714844 44.644531 30.359375 43.59375 32.847656 Z M 43.59375 32.847656 "})])])],-1),(0,r.createElementVNode)("div",{class:"tb-flex tb-text-center tb-pt-5 tb-flex-col tb-text-gray-600"},[(0,r.createElementVNode)("h2",null,"No toxic comments detected"),(0,r.createTextVNode)(" We are only looking at your last 200 comments ")],-1)],Ds={},Ms=(0,v.Z)(Ds,[["render",function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",Ns,Is)}]]);function Ls(){const e="#tb-editvideo-nav-video",t="#tb-editvideo-nav-list-menu",o=()=>document.location.href.slice(document.location.href.search("/video/")+7,document.location.href.search("/video/")+18);return{isSmallWindow:e=>window.innerWidth<=e,shrinkWorkareaSize:(e,t,o,r)=>{let n=!t&&o?(window.innerWidth-r).toString()+"px":"auto";$(e).css("width",n)},adjustQuickEditToolbar:o=>{o?($(e).addClass("is-open"),$(t).addClass("is-open")):($(e).removeClass("is-open"),$(t).removeClass("is-open"))},getVideoId:o,getVideoTitle:()=>jQuery("#entity-name").length>0?jQuery("#entity-name").text().trim():"",getVideoDescription:()=>{if(jQuery(".description").find("textarea").length>0)return jQuery(".description").find("textarea").val().trim()},getVideoThumbnail:()=>jQuery("#img-with-fallback:first").length>0?jQuery('#img-with-fallback[src*="'+o()+'"]:first').attr("src"):"https://img.youtube.com/vi/"+o()+"/mqdefault.jpg"}}const Os={id:"tb-sidebar"},js={props:{sidebarWidth:{type:Number,default:516},sidebarHeight:{type:[Number,String],default:null},smallestWorkareaSize:{type:Number,default:1828},workareaSelector:{type:String,default:"#entity-page"},shrinkWorkarea:{type:Boolean,default:!1}},setup(e){const o=e,{isSmallWindow:n,shrinkWorkareaSize:a,adjustQuickEditToolbar:i}=Ls(),l=(0,t.useStore)(),s="#tb-sidebar",c=(0,r.computed)((()=>l.getters.getModuleId)),d=(0,r.computed)((()=>l.getters.getIsOpen)),u=()=>{let e=null,t=null;null!==o.sidebarHeight?typeof o.sidebarHeight===Number?(e=o.sidebarHeight.toString()+"px",t=o.sidebarHeight):(e=o.sidebarHeight,t=o.sidebarHeight):(e=window.innerHeight.toString()+"px",t=window.innerHeight),$(s).css("height",e),l.commit("setSidebarHeight",t)},m=()=>{let e=0;e=n(o.smallestWorkareaSize)?d.value?-Math.abs(o.sidebarWidth):0:o.shrinkWorkarea?d.value?0:o.sidebarWidth:d.value?-Math.abs(o.sidebarWidth):0;let t="translate3d("+e.toString()+"px, 0, 0)";$(s).css("transform",t)};return(0,r.onMounted)((()=>{$(s).css("width",o.sidebarWidth),i(d.value),u();let e=null;o.shrinkWorkarea?(e=!n(o.smallestWorkareaSize),l.commit("setIsOpen",e),a(o.workareaSelector,n(o.smallestWorkareaSize),d.value,o.sidebarWidth)):(e=!1,l.commit("setIsOpen",e)),(0,r.watch)((()=>d.value),((e,t)=>{e!==t&&(m(),i(d.value),o.shrinkWorkarea&&a(o.workareaSelector,n(o.smallestWorkareaSize),d.value,o.sidebarWidth))})),$(o.workareaSelector).on("click",(e=>{$(c.value).has(e.target).length>0||0===$(c.value).has(e.target).length&&d.value&&(l.commit("setIsOpen",!1),i(d.value),o.shrinkWorkarea&&a(o.workareaSelector,n(o.smallestWorkareaSize),d.value,o.sidebarWidth))})),$(window).on("resize",(()=>{u(),i(d.value),n(o.smallestWorkareaSize)?m():o.shrinkWorkarea?(m(),l.commit("setIsOpen",!0)):m(),o.shrinkWorkarea&&a(o.workareaSelector,n(o.smallestWorkareaSize),d.value,o.sidebarWidth)}))})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Os,[(0,r.renderSlot)(e.$slots,"main-content-1")]))}},As=js,Us={class:"tb-flex tb-flex-grow tb-flex-col tb-pb-3"},Ps=["id"],_s={props:{id:{type:Number,default:0},mainContentProps:{type:Object,default:()=>{}}},setup(e){const t=e,[o,n]=gl(!1),a=(0,r.computed)((()=>t.id)),i=(0,r.computed)((()=>t.mainContentProps));return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Us,[(0,r.createElementVNode)("div",{class:"tb-pl-3 tb-pr-3 tb-pt-4 tb-pb-4 tb-rounded-lg tb-flex tb-items-center tb-justify-between tb-cursor-pointer",style:{"background-color":"#F9F5F5"},onClick:t[0]||(t[0]=e=>{n(!o.value)})},[(0,r.renderSlot)(e.$slots,"title"),(0,r.createElementVNode)("i",{style:{color:"#ADAAAA"},class:(0,r.normalizeClass)(["tb-flex material-icons tb-transition-all tb-duration-200 tb-transform",{"tb-rotate-180":(0,r.unref)(o),"tb-rotate-0":!(0,r.unref)(o)}])}," expand_more ",2)]),(0,r.withDirectives)((0,r.createElementVNode)("div",{id:(0,r.unref)(a)},[(0,r.renderSlot)(e.$slots,"content",{contentProps:(0,r.unref)(i)})],8,Ps),[[r.vShow,(0,r.unref)(o)]])]))}},$s=_s,zs={id:"tb-toxicity"},Fs={key:0,class:"confirm-modal-backdrop"},Gs={class:"tb-flex tb-flex-col tb-justify-center tb-p-6"},Rs={key:0},Qs={key:0,class:"tb-font-bold"},Hs={key:1,class:"tb-font-bold"},Ks={key:2,class:"tb-pt-5"},Ws={key:3},Ys=[(0,r.createElementVNode)("span",{class:"tb-spinner"},null,-1),(0,r.createTextVNode)(" Deleting comments. The page will refresh when finished. ")],qs={key:1,class:"tb-text-red-600"},Js={class:"tb-flex tb-justify-end tb-pt-12"},Zs=(0,r.createTextVNode)(" Cancel "),Xs={class:"tb-bg-white tb-p-5 tb-rounded-lg"},ec=(0,r.createElementVNode)("div",{class:"tb-pb-3"},[(0,r.createElementVNode)("h2",{class:"tb-font-bold tb-pb-3 tb-text-gray-900"}," Hall Of Shame "),(0,r.createElementVNode)("div",{class:"tb-text-gray-400"}," These are the commentors who have made the most toxic comments on your content of the last 200 comments. ")],-1),tc={key:1},oc={class:"tb-flex"},rc={class:"tb-font-semibold tb-text-gray-900 tb-text-xl"},nc=["onClick"],ac=(0,r.createTextVNode)(" delete all toxic comments "),ic={setup(e){const o=(0,t.useStore)(),[n,a]=gl(!0),[i,l]=gl(!1),[s,c]=gl(!1),[d]=gl(!1),[u,m]=gl({}),[b,p]=gl({}),[g,h]=gl([]),[v,y]=gl([]),[w,k]=gl(!1);(0,r.computed)((()=>o.getters.getIsOpen)),(0,r.onBeforeMount)((()=>{(async()=>{try{const e=await TubeBuddyYouTubeActions.GetCommentsToxicity(200),t=`${TBGlobal.host}/api/toxicity/analysis`;if(!(e.commentsList.length>0))return void a(!1);{const t=e.commentsList.reduce(((e,t)=>(e[t.comment_id]=t.delete,e)),{});m(t);const o=e.commentsList.reduce(((e,t)=>(void 0===e[t.commenter_channel_id]&&(e[t.commenter_channel_id]=t.commenter_name),e)),{});p(o)}TBExtension.Post(t,JSON.stringify(e.commentGrouping),((e,t,o)=>{const r=JSON.parse(o);h(r),a(!1)}),null,{contentType:"application/json"})}catch(e){console.log(e)}})()})),(0,r.onMounted)((()=>{o.commit("setModuleId","#tb-toxicity")}));const T=()=>{console.log("delete"),l(!0),v.value.forEach((async e=>{try{await TubeBuddyYouTubeActions.DeleteCommentStudio(e),await Dt(500)}catch(e){console.log("err:",e),c(!0),l(!1)}})),s.value||window.location.reload()},E=e=>{const t=[];e.forEach((e=>{t.push(u.value[e])})),y(t),k(!0)},S=()=>{const e=g.value.reduce(((e,t)=>{const o=t.comments.map((e=>e.comment_id));return e.push(o),e}),[]);E(e.flat())},C=()=>{!0!==i.value&&(y([]),c(!1),k(!1))};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",zs,[(0,r.unref)(w)?((0,r.openBlock)(),(0,r.createElementBlock)("div",Fs,[(0,r.createVNode)(f,{id:"toxicity",width:500,height:500,"is-draggable":!1,onModalClosing:(0,r.withModifiers)(C,["stop","prevent"])},{header:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(v).length>1?"Delete Comments":"Delete Comment"),1)])),content:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",Gs,[(0,r.unref)(s)?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",Rs,[(0,r.unref)(v).length>1&&!(0,r.unref)(i)?((0,r.openBlock)(),(0,r.createElementBlock)("div",Qs," Are you sure you want to delete these comments? ")):(0,r.createCommentVNode)("",!0),1!==(0,r.unref)(v).length||(0,r.unref)(i)?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",Hs," Are you sure you want to delete this comment? ")),(0,r.unref)(i)?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",Ks," Comments cannot be restored once they are deleted. ")),(0,r.unref)(i)?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ws,Ys)):(0,r.createCommentVNode)("",!0)])),(0,r.unref)(s)?((0,r.openBlock)(),(0,r.createElementBlock)("div",qs," There was an error deleting the comments. ")):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",Js,[(0,r.createVNode)(x,{class:(0,r.normalizeClass)(["tb-bg-gray-200 tb-text-gray-500 tb-rounded-md",(0,r.unref)(i)?" tb-pointer-events-none":""]),onClick:C},{default:(0,r.withCtx)((()=>[Zs])),_:1},8,["class"]),(0,r.createVNode)(x,{class:(0,r.normalizeClass)(["tb-bg-red-500 tb-text-white tb-ml-3 tb-rounded-md",(0,r.unref)(i)?" tb-pointer-events-none":""]),onClick:T},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(v).length>1?"Delete Comments":"Delete Comment"),1)])),_:1},8,["class"])])])])),_:1},8,["onModalClosing"])])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(ks,{sidebarWidth:350}),(0,r.createVNode)(As,{class:"tb-p-6 tb-flex tb-flex-col",title:"Comment Analysis",sidebarWidth:350,sidebarHeight:"calc(100vh - 7em)",workareaSelector:"#entity-page"},{"main-content-1":(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",Xs,[ec,(0,r.unref)(g).length<1&&!(0,r.unref)(n)?((0,r.openBlock)(),(0,r.createBlock)(Ms,{key:0})):(0,r.createCommentVNode)("",!0),(0,r.unref)(g).length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",tc,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(g),(({comments:e,commenter_channel_id:t})=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t},[(0,r.createElementVNode)("div",oc,[(0,r.createVNode)($s,{id:t,"main-content-props":{commenter_channel_id:t,comments:e,commentData:(0,r.unref)(u)}},{title:(0,r.withCtx)((()=>[(0,r.createElementVNode)("span",rc,(0,r.toDisplayString)((0,r.unref)(b)[t]),1)])),content:(0,r.withCtx)((({contentProps:e})=>[(0,r.createVNode)(Bs,{comments:e.comments,onDeleteComments:E},null,8,["comments"])])),_:2},1032,["id","main-content-props"]),(0,r.createElementVNode)("i",{class:"tb-text-gray-500 tb-flex material-icons tb-cursor-pointer",onClick:t=>E(e.map((e=>e.comment_id)))}," delete ",8,nc)])])))),128))])):(0,r.createCommentVNode)("",!0),(0,r.unref)(g).length>0?((0,r.openBlock)(),(0,r.createBlock)(x,{key:2,class:"tb-bg-blue-500 tb-text-white",onClick:S},{default:(0,r.withCtx)((()=>[ac])),_:1})):(0,r.createCommentVNode)("",!0)])])),_:1})]))}};let lc={state:()=>({moduleId:""}),mutations:{setModuleId(e,t){e.moduleId=t}},getters:{getModuleId:e=>e.moduleId}},sc={state:()=>({isOpen:!1}),mutations:{setIsOpen(e,t){e.isOpen=t}},getters:{getIsOpen:e=>e.isOpen}},cc={state:()=>({sidebarHeight:0}),mutations:{setSidebarHeight(e,t){e.sidebarHeight=t}},getters:{getSidebarHeight:e=>e.sidebarHeight}};const dc=["src"],uc={props:{sidebarWidth:{type:Number,default:516}},setup(e){const o=e,n=(0,t.useStore)(),a=(0,r.computed)((()=>n.getters.getIsOpen)),i=(0,r.computed)((()=>browser.runtime.getURL("/images/branding/tb-icon-transparent.svg"))),l=()=>{let e=a.value?"translate3d(-"+o.sidebarWidth+"px, 0, 0)":"none";$("#tb-sidebar-tab").css("transform",e)},s=()=>{let e=!a.value;n.commit("setIsOpen",e);const t=`tb-${TBGlobal.CurrentChannelId()}-${n.getters.getModuleId}-isOpen`;TBExtension.SetDbValue(t,e,(t=>TBUtilities.Log(`tb-sidebar saved state of ${n.getters.getModuleId} to ${e}`)))};return(0,r.onMounted)((()=>{l(),(0,r.watch)((()=>a.value),((e,t)=>{e!==t&&l()}))})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{id:"tb-sidebar-tab",class:"tb-pr-3 tb-pl-3 tb-pt-7 tb-pb-7 tb-items-center tb-rounded-l-lg",style:{top:"15%"},onClick:s},[(0,r.createElementVNode)("img",{class:"tb-module-logo tb-rounded-full",src:(0,r.unref)(i),alt:"tb-logo","data-draggable":"false"},null,8,dc)]))}},mc=uc,bc={class:"tb-sidebar-list-item"},pc={class:"tb-sidebar-header"},gc=["src"],fc={class:"right"},hc=["onClick","innerHTML"],vc=["onClick"],yc=["innerHTML"],xc={props:{itemHeaders:{type:Object,default:{}},subitems:{type:Object,default:{}}},setup(e){const t=e,{track:o}=S(),{getVideoId:n,getVideoTitle:a,getVideoThumbnail:i}=Ls(),l=TBGlobal.CanAccessLevel1Tools(),s=TBGlobal.CanAccessLevel2Tools(),c=TBGlobal.CanAccessLevel3Tools(),d=n(),u=a(),m=i();let b="";const p=(e,t)=>{t.video_id=n(),t.feature_name=b.length?b:null,o(e,t)},g=e=>browser.runtime.getURL(e),f=(e,t)=>""===e||void 0===e||""===t||void 0===t?"":e+": "+t+";";let h={};for(let e=0;e<t.subitems.length;e++)for(let o=0;o<t.subitems[e].goals.length;o++){let r=t.subitems[e].goals[o];r in h?h[r].push(e):h[r]=[e]}const v=(e,t)=>{let o="";if(""!==e.highlight&&void 0!==e.highlight){let t="";"new"===e.highlight&&(t="red"),"beta"===e.highlight&&(t="blue"),o='<span class="tb-sub-item-span '+t+'">'+e.highlight+"</span>"}const r=g("/images/modules/figma/lock.svg"),n=t?'<img class="tb-lock-icon" src="'+r+'" />':"";let a="";if(t){let t="",o="";switch(!0===(i=e).Level1Access?1:!0===i.Level2Access?2:!0===i.Level3Access?3:null){case 1:t="PRO REQUIRED",o="yellow";break;case 2:t="STAR REQUIRED",o="orange";break;case 3:t="LEGEND REQUIRED",o="purple";break;default:t="REQUIRED",o="yellow"}a='<div class="tb-permission-copy"><div class="tb-permission-access '+o+'">'+t+'</div>for access <a class="tb-permission-anchor" href="'+TBGlobal.GetUpgradeLink(e.id)+'" target="_blank">upgrade now</a>.</div>'}var i;return"<h4>"+e.name+"</h4>"+o+n+'<p class="tb-sub-item-p">'+e.toolBoxCopy+"</p>"+a};return(e,o)=>t.itemHeaders.length>0?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)(t.itemHeaders,(e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",bc,[(0,r.createElementVNode)("div",pc,[(0,r.createElementVNode)("div",{class:"left",style:(0,r.normalizeStyle)(f("background-color",e.iconBackgroundColor))},[(0,r.createElementVNode)("img",{class:"tb-sidebar-header-image",src:g(e.icon)},null,8,gc)],4),(0,r.createElementVNode)("div",fc,[(0,r.createElementVNode)("h2",{style:(0,r.normalizeStyle)(f("color",e.fontColor))},(0,r.toDisplayString)(e.title),5),(0,r.createElementVNode)("h3",{style:(0,r.normalizeStyle)(f("color",e.fontColor))},(0,r.toDisplayString)(e.subtitle),5)])]),(0,r.unref)(h)[e.category].length>0?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)((0,r.unref)(h)[e.category],(e=>{return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(o=t.subitems[e],!0===o.Level0Access||!0===l&&!0===o.Level1Access||!0===s&&!0===o.Level2Access||!0===c&&!0===o.Level3Access?((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:1,class:"tb-sidebar-sub-item-a",onClick:o=>(e=>{if(b=e.name,p("Toolbox Feature Clicked",{}),"videoabtests"!==e.id)return"chaptereditor"===e.id?(TubeBuddyMenu.ShowBackgroundSticky(),void jQuery("body").trigger("TBopenChapterEditor")):"cardtemplates"===e.id?(TubeBuddyMenu.ShowBackgroundSticky(),void TubeBuddyCardTemplatesStudio.Show(d,u,m)):"endscreentemplates"===e.id?(TubeBuddyMenu.ShowBackgroundSticky(),void TubeBuddyEndScreenTemplatesStudio.Show(d,u,m)):"schedulegolive"===e.id?(TubeBuddyMenu.ShowBackgroundSticky(),void TubeBuddyScheduledPublish.Show(d,u,m)):"vid2vid"===e.id?(TubeBuddyMenu.ShowBackgroundSticky(),void TubeBuddyV2VPromote.Show(d,u,m)):void 0;{let e=encodeURI("https://img.youtube.com/vi/"+d+"/mqdefault.jpg");window.open(TBGlobal.host+"/channel/abtestcreate/"+TBGlobal.CurrentChannelId()+"?videoid="+d+"&videotitle="+u+"&videothumbnail="+e,"_blank")}})(t.subitems[e])},[(0,r.createElementVNode)("div",{class:"tb-sidebar-sub-item",innerHTML:v(t.subitems[e],!1)},null,8,yc)],8,vc)):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"tb-sidebar-sub-item tb-sub-item-locked",onClick:o=>{return r=t.subitems[e].name,b=r,void p("Toolbox Upgrade Clicked",{});var r},innerHTML:v(t.subitems[e],!0)},null,8,hc)))],64);var o})),256)):(0,r.createCommentVNode)("",!0)])))),256)):(0,r.createCommentVNode)("",!0)}},wc=xc,kc={id:"tb-sidebar-footer"},Tc={id:"tb-sidebar-other-resources"},Ec=(0,r.createElementVNode)("h4",null," Other resources ",-1),Sc={class:"tb-sidebar-list"},Cc=["href"],Vc=["src"],Bc={class:"tb-list-copy"},Nc={setup(e){const t=[{url:"https://www.youtube.com/c/tubebuddy",icon:"/images/modules/figma/youtube.svg",copy:"TubeBuddy Channel"},{url:"https://www.tubebuddy.com/blog/",icon:"/images/modules/figma/rss.svg",copy:"TubeBuddy Blog"},{url:"https://discord.com/channels/347812838737444865/694284089582420098",icon:"/images/modules/figma/discord.svg",copy:"TubeBuddy Discord server"},{url:"https://bengroup.qualtrics.com/jfe/form/SV_ezzfCbk2qmJqC3k",icon:"/images/modules/figma/feedback.svg",copy:"TubeBuddy Qualtrics survey"}];return(e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",kc,[(0,r.createElementVNode)("div",Tc,[Ec,(0,r.createElementVNode)("ul",Sc,[t.length>0?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)(t,(e=>{return(0,r.createElementVNode)("a",{href:e.url,target:"_blank"},[(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("img",{class:"tb-list-image",src:(t=e.icon,browser.runtime.getURL(t))},null,8,Vc),(0,r.createElementVNode)("p",Bc,(0,r.toDisplayString)(e.copy),1)])],8,Cc);var t})),64)):(0,r.createCommentVNode)("",!0)])])]))}},Ic={id:"tb-toolbox"},Dc={id:"tb-header"},Mc=["src"],Lc=(0,r.createElementVNode)("h2",null," Toolbox ",-1),Oc={id:"tb-body"},jc={id:"tb-workarea"},Ac={props:{defaultOpen:Boolean},setup(e){const o=e,n=(0,t.useStore)(),a=(0,r.computed)((()=>browser.runtime.getURL("/images/branding/tb-icon.svg"))),i=o.defaultOpen,l=(0,r.computed)((()=>n.getters.getSidebarHeight)),s=(0,r.ref)(0),c=()=>{(()=>{if(0===$("#tb-body").length)return;let e=$("#tb-body").offset();s.value=Math.floor(e.top)})(),(()=>{let e=l.value-s.value-60;$("#tb-workarea").css("height",e)})()},d=[{title:"Get more views",subtitle:"Views are a huge driver to help grow your channel.",category:"more views",fontColor:"#120080",icon:"/images/modules/figma/eye.svg",iconBackgroundColor:"#C6B8FF"},{title:"Save time",subtitle:"You are always short on time, get time back.",category:"save time",fontColor:"#00804F",icon:"/images/modules/figma/clock.svg",iconBackgroundColor:"#A0F3C5"},{title:"Audience Engagement",subtitle:"Increase how much of your content your viewers watch.",category:"audience",fontColor:"#005387",icon:"/images/modules/figma/users.svg",iconBackgroundColor:"#9DE6F6"}],u=TBGlobal.GetAllTools().filter((e=>!0===e.showInToolbox));return(0,r.onMounted)((()=>{n.commit("setModuleId","#tb-toolbox"),c(),window.addEventListener("resize",c),$("#tb-editvideo-nav-video").length>0&&($("#tb-editvideo-nav-video").css({top:"auto",bottom:"10%"}),$("#tb-editvideo-nav-list-menu").css({top:"auto",bottom:"30%"}))})),(0,r.onUnmounted)((()=>{window.removeEventListener("resize",c)})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Ic,[(0,r.createVNode)(As,{sidebarWidth:516,workareaSelector:"#entity-page",shrinkWorkarea:(0,r.unref)(i)},{"main-content-1":(0,r.withCtx)((()=>[(0,r.createElementVNode)("header",Dc,[(0,r.createElementVNode)("img",{class:"tb-module-logo",style:{width:"25px",height:"25px"},src:(0,r.unref)(a),alt:"TubeBuddy logo"},null,8,Mc),Lc]),(0,r.createElementVNode)("section",Oc,[(0,r.createElementVNode)("section",jc,[(0,r.createVNode)(wc,{itemHeaders:d,subitems:(0,r.unref)(u)},null,8,["subitems"]),(0,r.createVNode)(Nc)])])])),_:1},8,["shrinkWorkarea"]),(0,r.createVNode)(mc,{sidebarWidth:516})]))}},Uc=Ac,Pc={class:"tb-tab-navigation-container tb-flex tb-items-center tb-text-center tb-justify-start tb-w-full tb-bg-gray-100 tb-p-7"},_c={class:"tb-flex"},$c={id:"tb-opt-num"},zc={class:"tb-font-bold"},Fc={props:{steps:{type:Array,default:()=>[]},completedSteps:{type:Object,default:()=>{}}},setup(e){const t=e,o=(0,r.computed)((()=>t.steps)),n=(0,r.computed)((()=>t.completedSteps));return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",Pc,[(0,r.createElementVNode)("div",_c,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(o),(({stepIndex:e,stepName:t})=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:"tb-flex tb-items-center tb-mr-5"},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["tb-step-crumb tb-p-3 tb-flex tb-justify-center tb-items-center tb-mr-2",(0,r.unref)(n)[e]])},[(0,r.createElementVNode)("span",$c,(0,r.toDisplayString)(e),1)],2),(0,r.createElementVNode)("span",zc,(0,r.toDisplayString)(t),1),e!==(0,r.unref)(o).length?((0,r.openBlock)(),(0,r.createElementBlock)("i",{key:0,class:(0,r.normalizeClass)(["material-icons tb-step-chevron tb-ml-2",(0,r.unref)(n)[e]])}," chevron_right ",2)):(0,r.createCommentVNode)("",!0)])))),128))])]))}},Gc=Fc,Rc=["src"],Qc={class:"tb-optimization-copy"},Hc={key:0,id:"tb-optimization-arrow",width:"6",height:"3"},Kc=[(0,r.createElementVNode)("polygon",{points:"0,0 6,0 3,3"},null,-1)],Wc={key:0,id:"tb-optimization-completed-list"},Yc=[(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("a",{href:"#"},"View results")],-1),(0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("a",{href:"#"},"Run another test")],-1)],qc={key:0,class:"tb-optimization-confidence-level"},Jc=[(0,r.createElementVNode)("span",{class:"tb-text-3xl"},"Test Alternate Details",-1)],Zc=(0,r.createTextVNode)("Footer placeholder"),Xc={setup(e){const{track:t}=S(),[o,n]=gl(!1),a="#tb-video-optimization-testing",i=(0,r.ref)("/images/branding/tb-icon-transparent.svg"),l=(0,r.computed)((()=>browser.runtime.getURL(i.value))),s=(0,r.ref)(null),c=(0,r.ref)(""),d=(0,r.ref)(!1),u=[2,4,6],[m,b]=gl({1:"is-completed-step"}),p=(TBGlobal.CanAccessLevel3Tools(),[{stepIndex:1,stepName:"Test Type"},{stepIndex:2,stepName:"Time"},{stepIndex:3,stepName:"Thumbnail"},{stepIndex:4,stepName:"Title"},{stepIndex:5,stepName:"Description"},{stepIndex:6,stepName:"Tags"}]),g=(0,r.computed)((()=>{if(null===s.value)return!1;let e=!1;for(const t of u)if(s.value.status===t){e=!0;break}return e})),h=()=>{n(!1)};return(0,r.onMounted)((()=>{$("#main-container").on("click",(e=>{$(a).has(e.target).length>0||0===$(a).has(e.target).length&&d.value&&(d.value=!1)}))})),(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",{id:"tb-video-optimization-testing",class:(0,r.normalizeClass)(c.value)},[(0,r.createElementVNode)("button",{class:(0,r.normalizeClass)(["tb-optimization-button",d.value?"open":""]),onClick:n[0]||(n[0]=e=>{(()=>{const e=document.location.href.slice(document.location.href.search("/video/")+7,document.location.href.search("/video/")+18);t("Video Optimization Testing Test Alternates Clicked",{video_id:e,timestamp:new Date,destination:"website"})})(),(()=>{const e=document.location.href.slice(document.location.href.search("/video/")+7,document.location.href.search("/video/")+18),t=encodeURI("https://img.youtube.com/vi/"+e+"/mqdefault.jpg"),o=jQuery("#entity-name").text().trim(),r=TBGlobal.host+"/channel/abtestcreate/"+TBGlobal.CurrentChannelId()+"?videoid="+e+"&videotitle="+o+"&videothumbnail="+t;window.open(r,"_blank")})()})},[(0,r.createElementVNode)("img",{class:"tb-optimization-logo",src:(0,r.unref)(l),alt:"TubeBuddy logo"},null,8,Rc),(0,r.createElementVNode)("p",Qc,[(0,r.createTextVNode)((0,r.toDisplayString)(s.value?g.value?"Test Completed":"Test in Progress":"Test Alternates")+" ",1),(0,r.unref)(g)?((0,r.openBlock)(),(0,r.createElementBlock)("svg",Hc,Kc)):(0,r.createCommentVNode)("",!0)]),(0,r.unref)(g)?((0,r.openBlock)(),(0,r.createElementBlock)("ul",Wc,Yc)):(0,r.createCommentVNode)("",!0)],2),s.value&&!(0,r.unref)(g)?((0,r.openBlock)(),(0,r.createElementBlock)("p",qc,(0,r.toDisplayString)(s.value.confidenceLevel)+" confidence",1)):(0,r.createCommentVNode)("",!0)],2),(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createBlock)(f,{key:0,id:"video-optimization-testing-modal",onModalClosing:(0,r.withModifiers)(h,["stop","prevent"])},{header:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",{onMousedown:n[1]||(n[1]=t=>{e.dragModalEnabled=!0})},Jc,32)])),content:(0,r.withCtx)((()=>[(0,r.createVNode)(Gc,{steps:p,"completed-steps":(0,r.unref)(m)},null,8,["completed-steps"])])),footer:(0,r.withCtx)((()=>[Zc])),_:1},8,["onModalClosing"])):(0,r.createCommentVNode)("",!0)],64))}},ed=Xc,td={state:()=>({currentStep:0,savedSteps:[!1,!1,!1,!1,!1,!1]}),mutations:{setCurrentStep(e,t){e.currentStep=t},saveStep(e,{index:t,value:o}){e.savedSteps[t]=o},resetSteps(e){e.savedSteps=[!1,!1,!1,!1,!1,!1]}},getters:{getCurrentStep:e=>e.currentStep,getSavedStep:e=>t=>e.savedSteps[t]}},od={state:()=>({testSettings:{NumberOfDays:14,IsThumbnailTest:!1,RunUntilSignificant:!1,MetaChanged:!1,AutoApplyWinner:!1,YouTubeChannelId:"",VideoId:"",StartDate:null,VariationViewModel:{ThumbnailId:null,Title:"",Description:"",SelectedKeywords:""}}}),mutations:{setVideoId(e,t){e.testSettings.VideoId=t},setChannel(e,t){e.testSettings.YouTubeChannelId=t},setIsThumbnailOnly(e,t){e.testSettings.IsThumbnailTest=t},setIsMetadataTest(e,t){e.testSettings.MetaChanged=t},setNumberOfDays(e,t){e.testSettings.NumberOfDays=t,e.testSettings.RunUntilSignificant=!1},setRunUntilSignificant(e){e.testSettings.RunUntilSignificant=!0,e.testSettings.NumberOfDays=99},setStartDate(e,t){e.testSettings.StartDate=t},setVariationThumbnail(e,t){e.testSettings.VariationViewModel.ThumbnailId=t},setVariationTitle(e,t){e.testSettings.VariationViewModel.Title=t},setVariationDescription(e,t){e.testSettings.VariationViewModel.Description=t},setVariationTags(e,t){e.testSettings.VariationViewModel.SelectedKeywords=t}},getters:{getTestSettings:e=>e.testSettings}},rd=[new class extends a{constructor(){super(),this.match=/.*/,this.name="SeoStudioVue"}initialize(){return jQuery("body").on("TBopenSeoStudioVue",((e,t={})=>{this.create(t).then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),jQuery("body").on("TBcloseSeoStudioVue",(e=>{this.destroy().then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}create({isUpload:e=!1,videoId:o="",startingKeyword:r="",kwExplorerBtn:n=""}){return new Promise((async(a,i)=>{if(this.isRegistered()&&this.isMounted())return void i({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});await Dt(500);const l=this.getIdentifier();if(null==document.getElementById(this.getIdentifier())){const t=e?"#upload-mount-node":"body",o=document.querySelector(t);if(null==o)return void i({created:!1,msg:`The selector ${t} was not found, couldn't mount the module to the DOM.`});const r=document.createElement("div");r.id=l,r.classList.add("tb-fullscreen"),r.classList.add("tb-z-10"),o.append(r)}const s=(0,t.createStore)({modules:{meta:vo,video:yo,targetKeyword:xo,seoScore:wo,uploadDefaults:To,studioDrafts:ko,steps:Eo,preview:So,isUploadOpen:Co,videoContext:Vo,callingBtn:Bo}});this.createApp(rn,s,{isUpload:e,videoId:o,startingKeyword:r,kwExplorerBtn:n}),a({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}},new class extends a{constructor(){super(),this.match=/channel\/.*\/comments/,this.name="BulkDeleteComments"}initialize(){const{FeatureUsed:e}=Tn();return jQuery("body").on("TBBulkDeleteCommentsClose",(e=>{this.destroy().then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),jQuery("body").on("click","div.tb-bulk-delete-comments",(e=>{this.create({query:e.currentTarget.getAttribute("tb-data-query"),avatar:e.currentTarget.getAttribute("tb-data-avatar")})})),jQuery("body").on("click","ytcp-icon-button#action-menu-button.style-scope.ytcp-comment",(t=>{if(TBUtilities.ReportProductExposure("bulk-delete-comments"),!TBGlobal.IsExperimentEnabled("bulk-delete-comments"))return;const o=jQuery(t.target).closest("[id^='content']"),r=jQuery(t.target).closest("[id^='body']"),n=o.find("a#name").text().trim(),a=r.find("img#img").attr("src");if(o.find('div#metadata ytcp-author-comment-badge:not([style*="display: none"])').length)return void TBUtilities.Log("User is either a manager of a personal account.");e({Action:"Impression"});const i=jQuery("tp-yt-paper-dialog#action-menu-dialog");jQuery("div.tb-bulk-delete-comments").remove();const l=`\n            <div class="tb-flex tb-px-5 tb-py-1 tb-bg-white hover:tb-bg-gray-100 tb-cursor-pointer tb-items-center tb-justify-start tb-bulk-delete-comments" style="margin-bottom:0px" tb-data-query="${n}" tb-data-avatar=${a}>\n                <div class="tb-relative">\n                    <svg viewBox="0 0 24 24" width="30px" height="30px" class="tb-fill-current tb-text-gray-400"><g><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g></svg>\n                    <img src="${browser.runtime.getURL("/images/branding/icon_medium.png")}" style="width: 12px; height:12px;" class="tb-rounded-full tb-absolute mt-2 tb-left-1">\n                </div>\n                \n                <span class="tb-commenter-name tb-ml-4 tb-text-gray-500">Remove all existing comments from this user</span>\n            </div>\n            `;i.each((function(e,t){const o=jQuery(t);o.find("div.tb-bulk-delete-comments").remove(),o.find("ytcp-menu-service-item-renderer[use-icons]").length<3?TBUtilities.Log("User is either a manager of a personal account."):o.append(jQuery(l))}))})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}create(e){return new Promise((async(t,o)=>{if(this.isRegistered()&&this.isMounted())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const r=this.getIdentifier();if(null===document.getElementById(this.getIdentifier())){const e="body",t=document.querySelector(e);if(void 0===t)return void o({created:!1,msg:`The selector ${e} was not found, couldn't mount the module to the DOM.`});const n=document.createElement("div");n.id=r,n.classList.add("tb-fullscreen"),n.classList.add("tb-z-10"),t.append(n)}this.createApp(ea,null,e),t({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}},new ta,new class extends ca{constructor(){super(),this.match=/studio\.youtube\.com.*/,this.name="TutorialModule",this.tour=null}initialize(){jQuery("body").on("TBOnboardingTutorialOpen",this.createOnboardingTutorial.bind(this))}create(){return new Promise((async(e,t)=>{e({created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}async createOnboardingTutorial(){if(TBGlobal.Profile()){const e=await browser.storage.sync.get(),{tutorialIsFinished:t,currentChannelId:o}=e,r=e[`tubebuddyToken-${o}`],n="onboarding-tutorial-b";o&&r&&window.location.href.match(this.match)&&(TBUtilities.ReportProductExposure(n),TBGlobal.IsExperimentEnabled(n)&&(t||(this.tour=introJs().setOptions({...ia}),this.tour.onbeforechange((function(){!function(e){switch(browser.storage.sync.set({step:e._currentStep}),la({Data:{Step:e._currentStep,Action:`${e._direction}`,Title:`${sa[e._currentStep]}`}}),e._currentStep){case 2:"forward"===e._direction&&jQuery("#tb-main-menu").trigger("click"),jQuery("#tb-tools-tab").trigger("click");break;case 3:jQuery("#tb-industry-news-tab").trigger("click");break;case 4:jQuery("#tb-milestones-tab").trigger("click");break;case 7:jQuery("#tb-main-menu").trigger("click")}"backward"===e._direction&&1===e._currentStep&&jQuery("#tb-main-menu").trigger("click"),"backward"===e._direction&&6===e._currentStep&&jQuery("#tb-main-menu").trigger("click")}(this)})),this.tour.onexit((()=>{!async function(){const{step:e}=await browser.storage.sync.get("step");la({Data:{Step:e,Action:e<7?"closed":"finished",Title:`${sa[e]}`}}),browser.storage.sync.set({tutorialIsFinished:!0})}()})),this.tour.start())))}}},new class extends ca{constructor(){super(),this.match=/video\/[^\/]+\/edit$/,this.name="Demonetization Audit Module",this.hasProfile=!1}initialize(){return jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module was successfully initialized.`,alert:!1})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const r=setInterval((()=>{if(++o>=10)return clearInterval(r),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(r),e())}),250)}))}async create(){try{if(await this.waitForProfile(),!TBGlobal.Profile().SettingsShowDemonetizationAudit)return}catch(e){return Promise.reject(e)}return new Promise((async(e,t)=>{if(this.isMounted()&&this.isRegistered())return void t({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const o=this.getIdentifier(),r="ytcp-video-metadata-editor-sidepanel.ytcp-video-metadata-editor",n=await this.waitForElement(r).then((e=>e)).catch((e=>e));if(null==n)return void t({created:!1,msg:`The selector ${r} was not found. ${this.name} could not mount to the DOM.`,alert:!1});const a=document.createElement("div");a.id=o,n.appendChild(a),this.createApp(Ya),e({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`,alert:!1})}))}},new class extends a{constructor(){super(),this.match=/(https:\/\/studio\.youtube\.com\/video\/[^\/]+\/edit)($|\?)/,this.name="ChapterEditor",this.isUploadStudio=!1,this.vidId=""}initialize(){return jQuery("body").on("TBopenChapterEditor",((e,t={})=>{const{isUpload:o=!1,videoId:r=""}=t;this.isUploadStudio=o,this.vidId=r,this.create().then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),jQuery("body").on("TBcloseChapterEditor",(e=>{this.destroy().then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}create(){return new Promise((async(e,o)=>{if(this.isRegistered()&&this.isMounted())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});await Dt(500);const r=this.getIdentifier();if(null==document.getElementById(this.getIdentifier())){const e=this.isUploadStudio?"#upload-mount-node":"body",t=document.querySelector(e);if(null==t)return void o({created:!1,msg:`The selector ${e} was not found, couldn't mount the module to the DOM.`});const n=document.createElement("div");n.id=r,n.classList.add("tb-fullscreen"),n.classList.add("tb-z-10"),t.append(n)}const n=(0,t.createStore)({modules:{video:fl,videoId:hl,videoDescription:vl,currentTimestamp:yl,progressBarCurrentTimestamp:xl,videoChapters:wl,player:kl,selectedChapterId:Tl,videoCheckInterval:El}});this.createApp(jl,n,{isUpload:this.isUploadStudio,videoId:this.vidId}),e({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}},new class extends ca{constructor(){super(),this.match=/studio.youtube.com\/channel\/UC[\w-]{22}($|\?)/,this.name="Chapter Editor Data Follow-Up Module",this.hasProfile=!1}initialize(){return jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module was successfully initialized.`,alert:!1})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const r=setInterval((()=>{if(++o>=10)return clearInterval(r),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(r),e())}),250)}))}async create(){try{await this.waitForProfile(),Al(TBGlobal.CurrentChannelId())}catch(e){return Promise.reject(e)}return new Promise((async(e,t)=>{e({initialized:!0,msg:`The ${this.name} module stats check was successfully.`,alert:!1})}))}},new class extends a{constructor(){super(),this.match=/.*/,this.name="Learn",this.playlistId="",this.learningTypes={"keyword-explorer-video-learnings":"Keyword Explorer Learning"}}initialize(){return jQuery("body").on("TBOpenLearnModule",((e,{playlistType:t})=>{const o=TBGlobal.GetExperiment(t),{playlist_id:r}=o.payload;this.playlistId=r;const n=this.learningTypes[t];this.create(this.playlistId,n).then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),jQuery("body").on("TBCloseLearnModule",(e=>{this.destroy().then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}create(e,t){return new Promise((async(o,r)=>{if(this.isRegistered()&&this.isMounted())return void r({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});await Dt(500);const n=this.getIdentifier();if(null==document.getElementById(this.getIdentifier())){const e=document.querySelector("body");if(null==e)return void r({created:!1,msg:`The selector ${selector} was not found, couldn't mount the module to the DOM.`});const t=document.createElement("div");t.id=n,t.classList.add("tb-fullscreen"),t.classList.add("tb-z-10"),e.append(t)}this.createApp(Wl,null,{playlistId:e,toolType:t}),o({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}},new class extends a{constructor(){super(),this.match=/.*/,this.name="Paywall"}initialize(){return jQuery("body").on("TBShowPaywall",((e,t)=>{this.create(t).then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),jQuery("body").on("TBDestroyPaywall",(e=>{this.destroy().then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}create(e){return new Promise((async(t,o)=>{if(this.isRegistered()&&this.isMounted())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const r=this.getIdentifier();await this.waitForElement("body");const n=document.createElement("div");n.id=r,n.setAttribute("tb-upgrade-modal","created"),document.body.append(n);const a=TBGlobal.GetToolById(e.feature),i=TBGlobal.GetToolLicenseById(e.feature);e={...e,tool:a,license:i},this.createApp(ys,null,e),"Pro"==i?jQuery("#tb-paywall-pro-list").show():"Star"==i?jQuery("#tb-paywall-star-list").show():jQuery("#tb-paywall-legend-list").show(),t({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`}),TBUtilities.ReportProductEvent("SubscriptionPaywall",{ChannelId:TBGlobal.CurrentChannelId(),LicenseName:i,Tool:a,Platform:"extension"}),this.orderPageLink(a.id)}))}slideShowInterval=setInterval((function(){jQuery("#tb-upgrade-screen-slideshow > div.tb-upgrade-screen-slide:first").fadeOut(1e3).next().delay(2e3).fadeIn(1500).end().appendTo("#tb-upgrade-screen-slideshow")}),9e3);orderPageLink(e){var t=!1,o=location.hostname;"youtube.com"!=o&&"studio.youtube.com"!=o||(t=!0);var r="",n="";r=TBGlobal.host+"/account/upgrade",r+="?id="+TBGlobal.CurrentChannelId(),r+="&f="+e,1==t?(r+="&utm_source=youtube",r+="&utm_medium=extension"):(r+="&utm_source=site",r+="&utm_medium=home"),r+="&utm_campaign="+e+"&paywall=true",n=TBGlobal.host+"/pricing",1==t?(n+="?utm_source=youtube",n+="?utm_medium=extension"):(n+="&utm_source=site",n+="&utm_medium=home"),n+="&utm_campaign="+e+"&paywall=true",jQuery("#tb-pro-link").attr("href",r),jQuery("#tb-pricing-page").attr("href",n),TBUtilities.Log(r)}},new class extends ca{constructor(){super(),this.match=/channel\/UC[^/]{22}\/comments\/inbox/,this.name="ToxicityAnalysis",this.hasProfile=!1}initialize(){return jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const r=setInterval((()=>{if(++o>=10)return clearInterval(r),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(r),e())}),250)}))}async create(){try{if(await this.waitForProfile(),TBUtilities.ReportProductExposure("comment-toxicity"),!TBGlobal.CanAccessLevel2Tools())return;if(!TBGlobal.IsExperimentEnabled("comment-toxicity"))return}catch(e){return Promise.reject(e)}return new Promise((async(e,o)=>{if(this.isRegistered()&&this.isMounted())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const r=this.getIdentifier(),n=await this.waitForElement("main#main",1e3);if(console.log("Vue",n),void 0===n)return void o({created:!1,msg:`The selector ${selector} was not found, couldn't mount the module to the DOM.`});console.log("Vue after",n);const a=document.createElement("div");a.id=r,await Dt(500),n.append(a);const i=(0,t.createStore)({modules:{moduleId:lc,isOpen:sc,sidebarHeight:cc}});this.createApp(ic,i),e({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}},new class extends ca{constructor(){super(),this.match=/(https:\/\/studio\.youtube\.com\/video\/[^\/]+\/edit)($|\?)/,this.name="Toolbox Module",this.hasProfile=!1}initialize(){return jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module was successfully initialized.`,alert:!1})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const r=setInterval((()=>{if(++o>=10)return clearInterval(r),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(r),e())}),250)}))}allowDefaultOpen(){return new Promise((e=>{const t=`tb-${TBGlobal.CurrentChannelId()}-#tb-toolbox-isOpen`;TBExtension.GetDbValue(t,((t,o)=>{0==o?(TBUtilities.Log("Toolbox should not open by default"),e(!1)):(TBUtilities.Log("Toolbox should open by default if screen width allows"),e(!0))}))}))}async create(){try{await this.waitForProfile()}catch(e){return Promise.reject(e)}return new Promise((async(e,o)=>{if(this.isMounted()&&this.isRegistered())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const r=this.getIdentifier(),n="#entity-page",a=await this.waitForElement(n).then((e=>e)).catch((e=>e));if(null==a)return void o({created:!1,msg:`The selector ${n} was not found. ${this.name} could not mount to the DOM.`,alert:!1});const i=document.createElement("div");i.id=r,a.appendChild(i);const l=(0,t.createStore)({modules:{moduleId:lc,isOpen:sc,sidebarHeight:cc}}),s=await this.allowDefaultOpen();this.createApp(Uc,l,{defaultOpen:s}),e({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`,alert:!1})}))}},new ta,new class extends ca{constructor(){super(),this.match=/(https:\/\/studio\.youtube\.com\/video\/[^\/]+\/edit)($|\?)/,this.name="Video Optimization Testing Module",this.hasProfile=!1}initialize(){return jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module was successfully initialized.`,alert:!1})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const r=setInterval((()=>{if(++o>=10)return clearInterval(r),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(r),e())}),250)}))}async create(){try{await this.waitForProfile()}catch(e){return Promise.reject(e)}return new Promise((async(e,o)=>{const r=TBGlobal.CanAccessLevel3Tools();if(console.log("LEGEND: "+r),0==r||"false"==r)return void o({created:!1,msg:`The User has not access to ${this.name}.`});if(this.isMounted()&&this.isRegistered())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const n=this.getIdentifier(),a='.ytcp-video-details-section[slot="secondary"]',i=await this.waitForElement(a).then((e=>e)).catch((e=>e));if(null==i)return void o({created:!1,msg:`The selector ${a} was not found. ${this.name} could not mount to the DOM.`,alert:!1});const l=document.createElement("div");l.id=n;const s=(0,t.createStore)({modules:{steps:td,testSettings:od}});i&&(i.prepend(l),this.createApp(ed,s)),e({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`,alert:!1})}))}}];jQuery(document).ready((async()=>{try{const t=new e;await t.register(rd),await t.initialize(),await t.watch(),t.create()}catch(e){TBUtilities.Log(e)}}))})()})();
