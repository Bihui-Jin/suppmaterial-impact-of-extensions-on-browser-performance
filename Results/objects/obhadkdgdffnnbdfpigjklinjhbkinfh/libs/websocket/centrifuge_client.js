class CentrifugeClient extends WsClient{constructor(){super(),this.isConnected=!1,this.disconnected=!1,this.client=new Centrifuge(config.fugo_url);const t=localStorage.getItem("wss_token");this.client.setToken(t),this.client.on("connect",(()=>{this.isConnected=!0,"function"==typeof this.onOpen&&this.onOpen()})),this.client.on("disconnect",(t=>{this.disconnected=!0,"function"==typeof this.onClose&&this.onClose()})),this.client.on("error",(t=>{"function"==typeof this.onError&&this.onError(t)})),this.client.on("publish",(t=>{"function"==typeof this.onMessage&&this.onMessage(t.data)})),this.client.connect()}isReady(){return this.isConnected}shouldReconnect(){return this.disconnected}close(){this.client.disconnect()}send(t,n){this.client.namedRPC(t,n).then((t=>{void 0!==t.data&&"function"==typeof this.onMessage&&this.onMessage(t.data)}))}}