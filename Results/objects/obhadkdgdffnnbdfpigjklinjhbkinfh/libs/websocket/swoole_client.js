class SwooleClient extends WsClient{constructor(){super(),this.ws=new WebSocket(config.swoole_url),this.ws.onopen=()=>{"function"==typeof this.onOpen&&this.onOpen()},this.ws.onclose=o=>{o.wasClean?console.log("socket closed clean!","info"):console.log("socket closed!!","info"),console.log("code: "+o.code+" reason: "+o.reason),"function"==typeof this.onClose&&this.onClose()},this.ws.onerror=o=>{"function"==typeof this.onError&&this.onError(o)},this.ws.onmessage=o=>{console.log(o.data,"info");let s=o.data;"string"==typeof s&&(s=$.parseJSON(o.data)),"function"==typeof this.onMessage&&this.onMessage(s)}}isReady(){return this.ws.readyState===WebSocket.OPEN}shouldReconnect(){return this.ws.readyState>WebSocket.OPEN}close(){this.ws.close()}send(o,s){const e=JSON.stringify({cmd:"run_task_params",route:o,params:s});this.ws.send(e)}}