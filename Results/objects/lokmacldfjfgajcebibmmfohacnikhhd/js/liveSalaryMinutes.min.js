"use strict";function getSport(){var e=$.trim($("#contest-details-Sport").parent().text().toUpperCase());if(e&&-1!==e.indexOf("SPORT"))return e.replace("SPORT","")}function getSportMaxValue(e){var t=0;return"nfl"===e?t=nflMax:"mlb"===e?t=mlbMax:"nba"===e?t=nbaMax:"nhl"===e&&(t=nhlMax),t}function updateAsNeeded(e,t){$(".slick-viewport").click(function(){$(".salremdetails").parent().remove(),setTimeout(function(){if($("div#live-scoring-header").find("h6").length){var a=$("div#live-scoring-header").find("h6").last().text();a=parseInt(a.split(":")[1]),a>0&&calculateRemPercent($("table#live-scoring-main").find("tbody.players"),e,t)}},1e3)}),$("body").on("click","img",function(){$(".rg-header").remove(),$(".salremdetails").parent().remove(),setTimeout(function(){if("display:none"===$("div#h2h-wrap").attr("style")||"display: none;"===$("div#h2h-wrap").attr("style")){if($("div#live-scoring-header").find("h6").length){var a=$("div#live-scoring-header").find("h6").last().text();a=parseInt(a.split(":")[1]),a>0&&calculateRemPercent($("table#live-scoring-main").find("tbody.players"),e,t)}}else{parseInt($("div.left-ticker").find(".ticker").last().find("div").last().text())>0&&calculateRemPercent($(".left.h2h").find("tbody.players"),e,t);parseInt($("div.right-ticker").find(".ticker").first().find("div").last().text())>0&&calculateRemPercent($(".right.h2h").find("tbody.players"),e,t)}},1e3)})}function calculateRemPercent(e,t,a){var i=0,n=0,r=0,l=0;if($(e).find("tr").not(".top-bevel").each(function(){var e=parseInt($(this).attr("data-sal"));if(isNaN(e))r++;else{l+=e;var s=$(this).find("td.game").text().toUpperCase().split(" "),d=s[s.length-1];if("FINAL"!==d&&"FULLTIME"!==d&&"POSTPONED"!==d){var c=s[s.length-2];"mlb"===t?"PRE-GAME"!==d&&(d=s[5],c=s[6],-1!==c.indexOf("AB:")&&(c=c.replace("AB:",""))):"nfl"===t?(c=s[5],d=s[6].substr(0,2),0===c.indexOf("FINAL")&&(c="0:00",d="4Q")):"soc"===t&&(c="+"===c?s[s.length-3]:d),i+=getPlayerUpside(t,e,a,c,d)}}n++}),!(0===l&&r<n)&&(r>0&&(i+=(5e4-l)*a),0!==i)){var s=parseFloat(i/(5e4*a)*100).toFixed(1);if("display:none"===$("div#h2h-wrap").attr("style")||"display: none;"===$("div#h2h-wrap").attr("style")){if(null===document.getElementById("live-scoring-header").querySelector(".salremdetails")){var d=document.createElement("h6");d.setAttribute("title","Percentage Of Salary Remaining"),d.textContent="SAL REM: ";var c=document.createElement("span");c.setAttribute("class","salremdetails"),$(c).text(s+"%"),d.appendChild(c),$(d).insertAfter($("div#live-scoring-header").find("h6").last())}else{var m=document.getElementsByClassName("salremdetails")[0];$(m).text(s+"%")}}else if($(e).parent().parent().find(".salremdetails").length){var m=$(e).parent().parent().find(".salremdetails");$(m).text(s+"%")}else{var f=document.createElement("div");f.setAttribute("class","live-scoring rg-header");var d=document.createElement("h5");d.setAttribute("title","Percentage Of Salary Remaining"),d.textContent="SAL REM: ";var c=document.createElement("span");c.setAttribute("class","salremdetails"),$(c).text(s+"%"),d.appendChild(c),f.appendChild(d),$(f).insertAfter($(e).parent().parent().find("div").first())}}}function salaryAndMinutesRem(e,t){if("display:none"===$("div#h2h-wrap").attr("style")||"display: none;"===$("div#h2h-wrap").attr("style"))if($("div#live-scoring-header").find("h6").length){var a=$("div#live-scoring-header").find("h6").last().text();a=parseInt(a.split(":")[1]),a>0?(calculateRemPercent($("table#live-scoring-main").find("tbody.players"),e,t),setTimeout(function(){salaryAndMinutesRem(e,t)},15e3)):$(".salremdetails").parent().remove()}else setTimeout(function(){salaryAndMinutesRem(e,t)},15e3);else{var i=parseInt($("div.left-ticker").find(".ticker").last().find("div").last().text());i>0&&calculateRemPercent($(".left.h2h").find("tbody.players"),e,t);var n=parseInt($("div.right-ticker").find(".ticker").first().find("div").last().text());n>0&&calculateRemPercent($(".right.h2h").find("tbody.players"),e,t),i>0||n>0?setTimeout(function(){salaryAndMinutesRem(e,t)},15e3):($(".rg-header").remove(),$(".salremdetails").parent().remove())}}function getPlayerUpside(e,t,a,i,n){var r=0;if("nfl"===e||"nba"===e||"nhl"===e){var l=i.indexOf(":");if(-1===l)r=a;else{r=parseInt(i.substring(0,l));if("00"!==i.substring(l+1)&&r++,"nba"===e||"nfl"===e){var s=n;"1ST"===s||"1Q"===s?r+=a/4*3:"2ND"===s||"2Q"===s?r+=a/4*2:"3RD"!==s&&"3Q"!==s||(r+=a/4*1)}else if("nhl"===e){var d=n;"1ST"===d?r+=a/3*2:"2ND"===d&&(r+=a/3*1)}}}else if("mlb"===e){var c=n;if("PRE-GAME"===c||-1!==i.indexOf(":"))r=a;else{var m=parseInt(i.replace(/\D/g,""));r=a-m,r<0&&(r=0),r+="TOP"===c?1:.5}}else if("soc"===e)if(i!==n)console.log("not started?"),r=a;else if("HT"===n)r=a/2;else{var f=parseInt(i.replace("'",""));r=a-f}return r*t}function waitForGamecenter(){if($("#contest-details-Sport").length){var e=getSport();if(e.length&&$("._3P-sCWIUvhksp-6h6e4DiK").length){if(nflPremium&&"nfl"===e||mlbPremium&&"mlb"===e||nbaPremium&&"nba"===e||nhlPremium&&"nhl"===e){var t=getSportMaxValue(e);0!==t&&(salaryAndMinutesRem(e,t),updateAsNeeded(e,t))}}else setTimeout(function(){waitForGamecenter()},1e3)}else setTimeout(function(){waitForGamecenter()},1e3)}var nflPremium,mlbPremium,nbaPremium,nhlPremium,golfPremium,nflMax=60,mlbMax=9,nbaMax=48,nhlMax=60,calcSalMinsInit=function(e,t,a,i,n){nflPremium=e,mlbPremium=t,nbaPremium=a,nhlPremium=i,golfPremium=n,waitForGamecenter()};