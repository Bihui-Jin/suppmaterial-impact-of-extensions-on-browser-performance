"use strict";function handleUpdates(){var e=!1;$("div#contest-details-pop, div#h2h-modal").each(function(){e=!0}),e?contestDetailsPopup():(calcRakeOpt&&checkContests(),(overlayAmtOpt||overlayPercOpt)&&huntOverlay(),setTimeout(function(){handleUpdates()},2e3))}function contestDetailsPopup(){calcRakeOpt&&function(){var e=$("div.pull-left.contest-info"),t=void 0,i=void 0,l=void 0;$("div.pull-left.contest-info").each(function(){var a="div.well-inner p",n=1;if($(a).length||(a="div.tile-container span",n=2),(t=e.find(a).eq(3*n-1).text().split(" ")[0].replace(/,/g,"").split("$")[1])&&(i=e.find(a).eq(n-1).text().split(" ")[0].replace(",","").split("$")[1])){if(l=e.find(a).eq(2*n-1).text().split(" ")[0].split("/")[1]){if(-1!==l.indexOf("K")){var r=$(".summary").find(".panel-body").text();if(-1!==r.indexOf("-player contest"))r=r.split("-player contest")[0],r=r.replace(/\D/g,""),l=r;else{var s=0,c=1e4;-1!==l.indexOf(".")?(c=1e3*Number(l.split(".")[0]),s=100*Number(l.replace("K","").split(".")[1])):c=1e3*Number(l.replace("K","")),l=c+s+50}}}else l=2;if(l){var d=e.find(a).eq(n-1).find(".margindetails");d.length||(d=$('<small class="margindetails"></small>').appendTo(e.find(a).eq(n-1)));var o=parseFloat(100*(1-t/(i*l))).toFixed(2);d.css({color:"orange"}),d.text(" Marg: "+o+"%");var p=$(".prize-payouts").find("tr").eq(1).find("td").last().text();if(2!==l&&-1===p.toLowerCase().indexOf("ticket")){p=parseFloat(p.replace(/,/g,"").split("$")[1]);var f=e.find("div.well-inner p").eq(2).find(".firstdetails");f.length||(f=$('<small class="firstdetails"></small>').appendTo(e.find("div.well-inner p").eq(2)));var v=(p/t*100).toFixed(2);f.css({color:"orange"}),f.text(" 1st: "+v+"%")}}}}),$(".prize-payouts div.panel-body table").each(function(){var a=$.trim($(this).find("tr").eq(1).find("td").first().text().split("-")[1]);a=a?a.replace(/\D/g,""):1;var n=0,r=$(this).find("tr").last().find("td").first().text().split("-");r=r[r.length-1].replace(/\D/g,"");var s=e.find("div.well-inner p").eq(1).find(".paiddetails");s.length||(s=$('<small class="paiddetails"></small>').appendTo(e.find("div.well-inner p").eq(1)));var c=parseFloat(r/l*100).toFixed(2);if(s.css({color:"orange"}),s.text(" Pays: "+c+"%"),$(this).find("tr").each(function(){n++}),n>5){var d=$(this).find("tr td").last().text().replace(",","").split("$")[1];if(!d)return;var o=e.find("div.well-inner p").eq(1).find(".mindetails");o.length||(o=$('<small class="mindetails"></small>').appendTo(e.find("div.well-inner p").eq(1)));var p=parseFloat(d/i).toFixed(2);if(o.css({color:"orange"}),o.text(" Min Cash: "+p+"x"),r>=50){for(var f=0,v=0,u=1,h=!0;h&&f<10;){var g=$(this).find("tr").eq(u).find("td").first().text().split("-"),m=$(this).find("tr").eq(u).find("td").last().text();if(-1===m.toLowerCase().indexOf("ticket")){m=parseFloat(m.replace(/,/g,"").split("$")[1]);var x=1,y=g[0].replace(/\D/g,""),O=y;g.length>1&&(O=g[1].replace(/\D/g,""),O>10&&(O=10),x=O-y+1),f+=x,v+=m*x,u++}else h=!1}if(!h)return;var k=e.find("div.well-inner p").eq(2).find(".toptendetails");k.length||(k=$('<small class="toptendetails"></small>').appendTo(e.find("div.well-inner p").eq(2)));var F=parseFloat(v/t*100).toFixed(2);k.css({color:"orange"}),k.text(" Top Ten: "+F+"%")}}})}(),$(".entrants-list table td").filter(function(){return $(this).find(".multi-entry-bdg-legacy").length}).each(function(){getEntryCount($(this).find(".multi-entry-bdg-legacy").attr("title").split(" ")[0],this)}),waitForPopupClosure()}function waitForPopupClosure(){var e=!1;$("div#contest-details-pop, div#h2h-modal").each(function(){e=!0}),e?setTimeout(function(){contestDetailsPopup()},2e3):handleUpdates()}function getEntryCount(e,t){var i=$(t),l=i.find(".multidetails");l.length||(l=$('<span class="multidetails"></span>').insertAfter(i.find(".multi-entry-bdg-legacy"))),l.text(" ("+e+")")}function calculateMargin(e,t){var i=$(t).find("div.slick-cell.l1.r1");i.attr("data-margin","true");var l=i.find(".margindetails");if(!l.length){i.css({margin:"0","line-height":"17px",display:"block"});l=i.find(".overlaycalc").length?$('<span class="margindetails"><svg width="48" height="10"><rect class="marg-rect" x="0" y="0" /></svg></span><span class="marginamt"></span>').appendTo(i):$('<br/><span class="margindetails"><svg width="48" height="10"><rect class="marg-rect" x="0" y="0" /></svg></span><span class="marginamt"></span>').appendTo(i)}i.find(".marg-rect").css({height:"10",width:2*e,fill:"orange"}),i.find(".marginamt").css({color:"orange","font-size":"85%","white-space":"pre-line",overflow:"visible"}),i.find(".marginamt").text(" MARGIN:"+e+"%")}function getCurrentOverlay(e,t,i){var l=$(i).find("div.slick-cell.l1.r1");l.attr("data-overlay","true");var a=l.find(".overlaycalc");if(!a.length){l.css({margin:"0","line-height":"17px",display:"block"});a=l.find(".margindetails").length?$('<span class="overlaycalc"></span>').appendTo(l):$('<br/><span class="overlaycalc"></span>').appendTo(l)}a.css({color:"blue","font-size":"85%","white-space":"pre-line",overflow:"visible"}),overlayAmtOpt&&overlayPercOpt?a.text(" OVERLAY:$"+e+" ["+t+"%]"):overlayPercOpt?a.text(" OVERLAY:"+t+"%"):a.text(" OVERLAY:$"+e)}function huntOverlay(){var e=!1;$(".slick-column-name").each(function(){"Style"===$(this).text()&&(e=!0)}),$("div.ui-widget-content.slick-row").filter(function(){return $(this).find("span.icon-guaranteed").length}).each(function(){var t=void 0,i=void 0,l=void 0;if(t=e?$(this).find("div.slick-cell.l4.r4").text():$(this).find("div.slick-cell.l3.r3").text(),!(-1!==t.indexOf("Ticket")||-1!==t.indexOf("Prize"))&&(t=t.split("$")[1])&&(t=parseFloat(t.replace(/,/g,"")),i=e?parseFloat($(this).find("div.slick-cell.l3.r3").text().replace(",","").split("$")[1]):parseFloat($(this).find("div.slick-cell.l2.r2").text().replace(",","").split("$")[1]))){if(l=e?$(this).find("div.slick-cell.l5.r5").text().split("/")[0]:$(this).find("div.slick-cell.l4.r4").text().split("/")[0],-1!==l.indexOf("K")){var a=0,n=1e4;-1!==l.indexOf(".")?(n=1e3*Number(l.split(".")[0]),a=100*Number(l.replace("K","").split(".")[1])):n=1e3*Number(l.replace("K","")),l=n+a+50}var r=parseFloat(t-l*i).toFixed(2);r<0&&(r=0);var s=parseFloat(r/t*100).toFixed(1);r=Math.round(r),getCurrentOverlay(r,s,this)}})}function checkContests(){var e=!1;$(".slick-column-name").each(function(){"Style"===$(this).text()&&(e=!0)}),$("div.ui-widget-content.slick-row").filter(function(){return"true"!=$(this).find("div.slick-cell.l1.r1").attr("data-margin")}).each(function(){var t=void 0,i=void 0,l=void 0;if(t=e?$(this).find("div.slick-cell.l4.r4").text():$(this).find("div.slick-cell.l3.r3").text(),!(-1!==t.indexOf("Ticket")||-1!==t.indexOf("Prize"))&&(t=t.split("$")[1])&&(t=parseFloat(t.replace(/,/g,"")),i=e?parseFloat($(this).find("div.slick-cell.l3.r3").text().replace(",","").split("$")[1]):parseFloat($(this).find("div.slick-cell.l2.r2").text().replace(",","").split("$")[1]))){if(l=e?$(this).find("div.slick-cell.l5.r5").text().split("/")[1]:$(this).find("div.slick-cell.l4.r4").text().split("/")[1]){if(-1!==l.indexOf("K")){var a=0,n=1e4;-1!==l.indexOf(".")?(n=1e3*Number(l.split(".")[0]),a=100*Number(l.replace("K","").split(".")[1])):n=1e3*Number(l.replace("K","")),l=n+a+50}}else l=2;var r=parseFloat(100*(1-t/(i*l))).toFixed(2);r&&calculateMargin(r,this)}})}var calcRakeOpt=!1,overlayAmtOpt=!1,overlayPercOpt=!1,calcRakeInit=function(){calcRakeOpt=!0,setTimeout(checkContests,2e3)},bothOverlayOptsInit=function(){overlayAmtOpt=!0,overlayPercOpt=!0,setTimeout(huntOverlay,2e3)},onlyOverlayAmtInit=function(){overlayAmtOpt=!0,setTimeout(huntOverlay,2e3)},onlyOverlayPercInit=function(){overlayPercOpt=!0,setTimeout(huntOverlay,2e3)};