var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},RULERS=RULERS||{};RULERS.guides={storeGuides:()=>{RULERS.store.get(["guides"],({guides:a})=>{RULERS.store.set({guides:_extends({},a,{[window.location.href]:RULERS.vars.guides})})})},checkIfGuideExists:a=>RULERS.vars.guides.find(({direction:b,position:c})=>b===a.direction&&c>a.position-3&&c<a.position+3),verticalRulerClickHandler:a=>RULERS.guides.rulerClickHandler({direction:"v",position:a.clientX+RULERS.vars.scrollPos.x-RULERS.settings.rulerWidth}),horizontalRulerClickHandler:a=>RULERS.guides.rulerClickHandler({direction:"h",position:a.clientY+RULERS.vars.scrollPos.y-RULERS.settings.rulerWidth}),rulerClickHandler:a=>{RULERS.vars.modalActive||(RULERS.guides.checkIfGuideExists(a)?RULERS.guides.removeGuide(a):RULERS.guides.addGuide(a))},addGuide:({direction:a,position:b,temporary:c})=>{const{selectedEl:d,mousePos:e}=RULERS.vars,{rulerWidth:f}=RULERS.settings,g=d&&d.getBoundingClientRect();let h=b;h="v"===a?g&&3>=Math.abs(g.left-f-e.x)?g.left-f+RULERS.vars.scrollPos.x:g&&3>=Math.abs(g.right-f-e.x)?g.right-f+RULERS.vars.scrollPos.x:b:g&&3>=Math.abs(g.top-f-e.y)?g.top-f+RULERS.vars.scrollPos.y:g&&3>=Math.abs(g.bottom-f-e.y)?g.bottom-f+RULERS.vars.scrollPos.y:b,RULERS.vars.guides.push({direction:a,position:h}),c||RULERS.guides.storeGuides(),RULERS.overlay.draw()},removeGuide:a=>{RULERS.vars.guides=RULERS.vars.guides.filter(({direction:b,position:c})=>b!==a.direction||c<a.position-3||c>a.position+3),RULERS.guides.storeGuides(),RULERS.overlay.draw()}};