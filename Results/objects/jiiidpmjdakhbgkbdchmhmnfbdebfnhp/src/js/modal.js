var RULERS=RULERS||{};RULERS.modal={open:({html:a,classes:b,emoji:c,buttons:d,callback:e})=>{if(RULERS.vars.modalActive)return RULERS.modal.close(),void setTimeout(()=>RULERS.modal.open({html:a,classes:b,emoji:c,buttons:d,callback:e}),300);if("function"==typeof e&&setTimeout(e,300),RULERS.vars.modalActive=!0,RULERS.vars.selectedEl=null,RULERS.vars.hoveredEl=null,RULERS.vars.fillColor={color:RULERS.themes.current.overlay,opacity:.5},RULERS.infoPanel.changeEl(),RULERS.overlay.draw(),RULERS.drawRulers.draw(),RULERS.vars.el.modal.setAttribute("class",`${b?` ${b}`:""}${c?` emoji emoji-${c}`:""}`),RULERS.vars.el.modal.innerHTML=a,RULERS.vars.el.modal.classList.add("active"),"object"==typeof d){const a=RULERS.vars.el.modal.querySelector(".RULERS_button-container");d.forEach(b=>{const c=document.createElement("BUTTON");if(c.innerHTML=b.value,b.icon){const a=document.createElement("IMG");a.classList.add("RULERS_button_icon"),a.src=chrome.runtime.getURL("img/icons/arrow_purple.svg"),c.appendChild(a)}c.addEventListener("click",b.action),a.appendChild(c)})}},close:a=>{RULERS.vars.modalActive=!1,RULERS.vars.selectedEl=null,RULERS.vars.el.modal.classList.remove("active"),RULERS.overlay.draw(),setTimeout(()=>{RULERS.vars.el.modal.className="",RULERS.vars.el.modal.innerHTML="",RULERS.vars.fillColor={color:null,opacity:0},RULERS.overlay.draw(),"function"==typeof a&&a()},295)}};