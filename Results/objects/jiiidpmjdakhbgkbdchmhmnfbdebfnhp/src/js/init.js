var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},RULERS=RULERS||{};RULERS.init={toggle:()=>{document.querySelector("div#RULERS_container")?RULERS.init.disable():RULERS.init.enable()},enable:()=>{const a=14*RULERS.vars.milisecondsPerDay;RULERS.store.setDefault(),chrome.runtime.sendMessage({type:"getDesign",pageUrl:window.location.href},b=>{RULERS.store.get(["guides","design","grid","settings","firstRun","plusScreenShown"],({guides:c,design:d,grid:e,settings:f,firstRun:g,plusScreenShown:h})=>{c&&(RULERS.vars.guides=[...(c[window.location.href]||[])]),RULERS.vars.design=_extends({},RULERS.vars.defaultDesign,d&&d[window.location.href]||{},b),RULERS.vars.grid=_extends({},RULERS.vars.defaultGrid,e&&e[window.location.href]||{}),RULERS.settings=_extends({},RULERS.settings,f),RULERS.design.draw(),RULERS.inject.addRulers(),RULERS.overlay.init(),RULERS.rulers.init(),RULERS.plus.isPlus(!1,!0),g?a<Date.now()-g?RULERS.feedback.init():!h&&(RULERS.store.set({plusScreenShown:Date.now()}),RULERS.plus.triggerModal()):(RULERS.store.set({firstRun:Date.now()}),RULERS.welcome.init())})})},disable:()=>{RULERS.inject.removeRulers()}};