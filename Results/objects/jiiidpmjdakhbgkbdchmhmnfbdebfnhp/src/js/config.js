var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}return g.done?void a(h):Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)})}return d("next")})}}var RULERS=RULERS||{};RULERS.config={triggerModal:(()=>{var a=_asyncToGenerator(function*(){if(RULERS.vars.modalActive){if(RULERS.modal.close(),RULERS.vars.el.modal.classList.contains("config"))return;yield RULERS.helpers.sleep(320)}RULERS.modal.open({html:RULERS.html.configModal(),classes:"config",buttons:[{value:chrome.i18n.getMessage("settings_clear_storage"),action:RULERS.config.clearStorage},{value:chrome.i18n.getMessage("layoutmodal_save_and_close"),action:RULERS.modal.close,icon:"arrow"}]}),RULERS.form.connectFields()});return function b(){return a.apply(this,arguments)}})(),changeRulerWidth:a=>{RULERS.settings.rulerWidth=parseInt(a.target.value),RULERS.helpers.refresh(),RULERS.store.get(["settings"],({settings:b})=>{RULERS.store.set({settings:_extends({},b,{rulerWidth:parseInt(a.target.value)})})})},changeFontSize:a=>{RULERS.settings.fontSize=parseInt(a.target.value),RULERS.helpers.refresh(),RULERS.store.get(["settings"],({settings:b})=>{RULERS.store.set({settings:_extends({},b,{fontSize:parseInt(a.target.value)})})})},changeGridSize:a=>{RULERS.settings.gridSize=parseInt(a.target.value),RULERS.helpers.refresh(),RULERS.store.get(["settings"],({settings:b})=>{RULERS.store.set({settings:_extends({},b,{gridSize:parseInt(a.target.value)})})})},changeLargeLine:a=>{RULERS.settings.largeLine=parseInt(a.target.value),RULERS.helpers.refresh(),RULERS.store.get(["settings"],({settings:b})=>{RULERS.store.set({settings:_extends({},b,{largeLine:parseInt(a.target.value)})})})},changeTheme:a=>{RULERS.settings.theme=a,RULERS.helpers.refresh(),RULERS.store.get(["settings"],({settings:b})=>{RULERS.store.set({settings:_extends({},b,{theme:a})})})},changeBlockLevel:a=>{RULERS.settings.onlyBlockElements=a,RULERS.store.get(["settings"],({settings:b})=>{RULERS.store.set({settings:_extends({},b,{onlyBlockElements:a})})})},changeShowDesignOnTop:a=>{RULERS.settings.showDesignOnTop=a,RULERS.store.get(["settings"],({settings:b})=>{RULERS.store.set({settings:_extends({},b,{showDesignOnTop:a})})})},clearStorage:()=>{RULERS.modal.open({html:RULERS.html.warningModal(chrome.i18n.getMessage("clear_storage_title"),chrome.i18n.getMessage("clear_storage_description")),emoji:"danger",buttons:[{value:chrome.i18n.getMessage("clear_storage_button_reset"),action:()=>{RULERS.store.empty(),RULERS.modal.close(()=>{window.location.reload(!0)})}},{value:chrome.i18n.getMessage("clear_storage_button_safety"),action:RULERS.modal.close,icon:"arrow"}]})}};