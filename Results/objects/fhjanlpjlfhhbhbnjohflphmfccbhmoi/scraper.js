(()=>{"use strict";window.elfScraper=function(){var e;const t={imageUrls:[],productUrl:"",productTitle:"",productPrice:0};t.productUrl=function(){const e=document.querySelector('meta[property="og:url"]');return null!==e&&e.content&&e.content.includes("http")?e.content:window.location.href}(),t.productTitle=function(){const e=document.querySelector('meta[property="og:title"]');return null!==e&&e.content?e.content:document.title}(),t.imageUrls=function(){let e=null;const t=document.querySelector('meta[property="og:image"]');null!==t&&t.content&&(e=t.content);const r=[...document.querySelectorAll("img")];if(null!==e){const t=new Image;t.src=e,r.push(t)}let o=[];o=window.location.href.includes("ssense.com")?r.map((e=>e.dataset.srcset)):function(e){return e.filter((e=>e.width>100||e.height>100)).sort(((e,t)=>e.width<t.width?1:e.width===t.width?0:-1)).map((e=>e.src))}(r),o=o.filter(Boolean);const n=[...document.querySelectorAll("canvas")].map((e=>{try{return e.toDataURL()}catch(e){return""}})).filter(Boolean),l=[...document.querySelectorAll("div")].map((e=>window.getComputedStyle(e).backgroundImage.slice(4,-1).replace(/"/g,""))).filter((e=>e.startsWith("http")));return[...o,...n,...l]}(),t.productPrice=function(){const e=[...document.querySelectorAll("[id*='price'],[class*='price'],meta[property='product:price:amount']")].map((e=>{const t=e.innerHTML.trim().match(/\d+\.\d{2}/g);return t&&t.length&&t.length>0?Number.parseFloat(t[0]):0})).filter(Boolean).sort();return e.length>0?e[0]:0}();let r=document.createElement("iframe");if(r.addEventListener("load",(()=>{(null==r?void 0:r.contentWindow)&&r.contentWindow.postMessage({action:"init",data:JSON.stringify(t)},"*")})),r.addEventListener("error",(e=>{throw e.error})),void 0===window.iFrameUrl)throw new TypeError("Elfster Error: iFrameUrl must be in scope.");r.setAttribute("src",window.iFrameUrl),r.style.position="fixed",r.style.background="rgba(0,0,0,0.4)",r.style.zIndex=(null===(e=null==Number?void 0:Number.MAX_SAFE_INTEGER)||void 0===e?void 0:e.toString())||"9999999",r.style.left="0",r.style.top="0",r.style.width="100%",r.style.height="100%",r.style.overflow="auto",r.style.display="block",r.style.border="none",document.body.append(r),window.addEventListener("message",(({data:e})=>{"destroy"===e.action&&(r&&r.parentNode&&(r.remove(),r=null),void 0!==window.iFrameUrl&&delete window.iFrameUrl)}),!1)},window.elfScraper()})();